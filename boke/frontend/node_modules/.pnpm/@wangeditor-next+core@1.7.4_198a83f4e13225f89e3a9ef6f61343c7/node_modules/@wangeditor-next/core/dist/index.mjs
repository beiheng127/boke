import{Transforms as t,Editor as e,Operation as n,Path as r,Text as o,Range as i,Element as a,Node as s,Point as u,createEditor as l}from"slate";import c from"lodash.clonedeep";import f from"lodash.foreach";import d,{css as h,append as p,addClass as g,removeClass as v,hasClass as m,on as y,focus as b,attr as w,removeAttr as x,hide as S,show as O,offset as E,width as k,height as C,parent as N,parents as T,is as L,dataset as M,val as P,text as R,html as D,children as A,remove as j,find as I,each as $,empty as F}from"dom7";import"nanoid";import B from"lodash.toarray";import _ from"lodash.debounce";import W from"lodash.throttle";import{isKeyHotkey as z,isHotkey as U}from"is-hotkey";import{jsx as V,init as H,classModule as K,propsModule as J,styleModule as q,datasetModule as G,eventListenersModule as Y,attributesModule as X,h as Q}from"snabbdom";import Z from"lodash.camelcase";import tt from"@uppy/core";import et from"@uppy/xhr-upload";var nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function rt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ot,it,at={};function st(){if(it)return ot;it=1;var t=function(t){return t&&t.Math===Math&&t};return ot=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof nt&&nt)||t("object"==typeof ot&&ot)||function(){return this}()||Function("return this")()}var ut,lt,ct,ft,dt,ht,pt,gt,vt={};function mt(){return lt?ut:(lt=1,ut=function(t){try{return!!t()}catch(t){return!0}})}function yt(){if(ft)return ct;ft=1;var t=mt();return ct=!t(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})}function bt(){if(ht)return dt;ht=1;var t=mt();return dt=!t(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})}function wt(){if(gt)return pt;gt=1;var t=bt(),e=Function.prototype.call;return pt=t?e.bind(e):function(){return e.apply(e,arguments)},pt}var xt,St,Ot,Et,kt,Ct,Nt,Tt,Lt,Mt,Pt,Rt,Dt,At,jt,It,$t,Ft,Bt,_t,Wt,zt,Ut,Vt,Ht,Kt,Jt,qt,Gt,Yt,Xt,Qt,Zt,te,ee,ne,re,oe,ie,ae,se,ue={};function le(){if(xt)return ue;xt=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,n=e&&!t.call({1:2},1);return ue.f=n?function(t){var n=e(this,t);return!!n&&n.enumerable}:t,ue}function ce(){return Ot?St:(Ot=1,St=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}})}function fe(){if(kt)return Et;kt=1;var t=bt(),e=Function.prototype,n=e.call,r=t&&e.bind.bind(n,n);return Et=t?r:function(t){return function(){return n.apply(t,arguments)}},Et}function de(){if(Nt)return Ct;Nt=1;var t=fe(),e=t({}.toString),n=t("".slice);return Ct=function(t){return n(e(t),8,-1)}}function he(){if(Lt)return Tt;Lt=1;var t=fe(),e=mt(),n=de(),r=Object,o=t("".split);return Tt=e(function(){return!r("z").propertyIsEnumerable(0)})?function(t){return"String"===n(t)?o(t,""):r(t)}:r}function pe(){return Pt?Mt:(Pt=1,Mt=function(t){return null==t})}function ge(){if(Dt)return Rt;Dt=1;var t=pe(),e=TypeError;return Rt=function(n){if(t(n))throw new e("Can't call method on "+n);return n}}function ve(){if(jt)return At;jt=1;var t=he(),e=ge();return At=function(n){return t(e(n))}}function me(){if($t)return It;$t=1;var t="object"==typeof document&&document.all;return It=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(t){return"function"==typeof t}}function ye(){if(Bt)return Ft;Bt=1;var t=me();return Ft=function(e){return"object"==typeof e?null!==e:t(e)}}function be(){if(Wt)return _t;Wt=1;var t=st(),e=me();return _t=function(n,r){return arguments.length<2?(o=t[n],e(o)?o:void 0):t[n]&&t[n][r];var o},_t}function we(){if(Ut)return zt;Ut=1;var t=fe();return zt=t({}.isPrototypeOf)}function xe(){if(Ht)return Vt;Ht=1;var t=st().navigator,e=t&&t.userAgent;return Vt=e?String(e):""}function Se(){if(Jt)return Kt;Jt=1;var t,e,n=st(),r=xe(),o=n.process,i=n.Deno,a=o&&o.versions||i&&i.version,s=a&&a.v8;return s&&(e=(t=s.split("."))[0]>0&&t[0]<4?1:+(t[0]+t[1])),!e&&r&&(!(t=r.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=r.match(/Chrome\/(\d+)/))&&(e=+t[1]),Kt=e}function Oe(){if(Gt)return qt;Gt=1;var t=Se(),e=mt(),n=st().String;return qt=!!Object.getOwnPropertySymbols&&!e(function(){var e=Symbol("symbol detection");return!n(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&t&&t<41})}function Ee(){if(Xt)return Yt;Xt=1;var t=Oe();return Yt=t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}function ke(){if(Zt)return Qt;Zt=1;var t=be(),e=me(),n=we(),r=Ee(),o=Object;return Qt=r?function(t){return"symbol"==typeof t}:function(r){var i=t("Symbol");return e(i)&&n(i.prototype,o(r))}}function Ce(){if(ee)return te;ee=1;var t=String;return te=function(e){try{return t(e)}catch(t){return"Object"}}}function Ne(){if(re)return ne;re=1;var t=me(),e=Ce(),n=TypeError;return ne=function(r){if(t(r))return r;throw new n(e(r)+" is not a function")}}function Te(){if(ie)return oe;ie=1;var t=Ne(),e=pe();return oe=function(n,r){var o=n[r];return e(o)?void 0:t(o)}}function Le(){if(se)return ae;se=1;var t=wt(),e=me(),n=ye(),r=TypeError;return ae=function(o,i){var a,s;if("string"===i&&e(a=o.toString)&&!n(s=t(a,o)))return s;if(e(a=o.valueOf)&&!n(s=t(a,o)))return s;if("string"!==i&&e(a=o.toString)&&!n(s=t(a,o)))return s;throw new r("Can't convert object to primitive value")},ae}var Me,Pe,Re,De,Ae,je,Ie,$e,Fe,Be,_e,We,ze,Ue,Ve,He,Ke,Je,qe,Ge,Ye,Xe,Qe,Ze,tn={exports:{}};function en(){return Pe?Me:(Pe=1,Me=!1)}function nn(){if(De)return Re;De=1;var t=st(),e=Object.defineProperty;return Re=function(n,r){try{e(t,n,{value:r,configurable:!0,writable:!0})}catch(e){t[n]=r}return r}}function rn(){if(Ae)return tn.exports;Ae=1;var t=en(),e=st(),n=nn(),r="__core-js_shared__",o=tn.exports=e[r]||n(r,{});return(o.versions||(o.versions=[])).push({version:"3.45.1",mode:t?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"}),tn.exports}function on(){if(Ie)return je;Ie=1;var t=rn();return je=function(e,n){return t[e]||(t[e]=n||{})}}function an(){if(Fe)return $e;Fe=1;var t=ge(),e=Object;return $e=function(n){return e(t(n))}}function sn(){if(_e)return Be;_e=1;var t=fe(),e=an(),n=t({}.hasOwnProperty);return Be=Object.hasOwn||function(t,r){return n(e(t),r)}}function un(){if(ze)return We;ze=1;var t=fe(),e=0,n=Math.random(),r=t(1.1.toString);return We=function(t){return"Symbol("+(void 0===t?"":t)+")_"+r(++e+n,36)}}function ln(){if(Ve)return Ue;Ve=1;var t=st(),e=on(),n=sn(),r=un(),o=Oe(),i=Ee(),a=t.Symbol,s=e("wks"),u=i?a.for||a:a&&a.withoutSetter||r;return Ue=function(t){return n(s,t)||(s[t]=o&&n(a,t)?a[t]:u("Symbol."+t)),s[t]}}function cn(){if(Ke)return He;Ke=1;var t=wt(),e=ye(),n=ke(),r=Te(),o=Le(),i=ln(),a=TypeError,s=i("toPrimitive");return He=function(i,u){if(!e(i)||n(i))return i;var l,c=r(i,s);if(c){if(void 0===u&&(u="default"),l=t(c,i,u),!e(l)||n(l))return l;throw new a("Can't convert object to primitive value")}return void 0===u&&(u="number"),o(i,u)}}function fn(){if(qe)return Je;qe=1;var t=cn(),e=ke();return Je=function(n){var r=t(n,"string");return e(r)?r:r+""}}function dn(){if(Ye)return Ge;Ye=1;var t=st(),e=ye(),n=t.document,r=e(n)&&e(n.createElement);return Ge=function(t){return r?n.createElement(t):{}}}function hn(){if(Qe)return Xe;Qe=1;var t=yt(),e=mt(),n=dn();return Xe=!t&&!e(function(){return 7!==Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a})}function pn(){if(Ze)return vt;Ze=1;var t=yt(),e=wt(),n=le(),r=ce(),o=ve(),i=fn(),a=sn(),s=hn(),u=Object.getOwnPropertyDescriptor;return vt.f=t?u:function(t,l){if(t=o(t),l=i(l),s)try{return u(t,l)}catch(t){}if(a(t,l))return r(!e(n.f,t,l),t[l])},vt}var gn,vn,mn,yn,bn,wn,xn,Sn={};function On(){if(vn)return gn;vn=1;var t=yt(),e=mt();return gn=t&&e(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})}function En(){if(yn)return mn;yn=1;var t=ye(),e=String,n=TypeError;return mn=function(r){if(t(r))return r;throw new n(e(r)+" is not an object")}}function kn(){if(bn)return Sn;bn=1;var t=yt(),e=hn(),n=On(),r=En(),o=fn(),i=TypeError,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",c="writable";return Sn.f=t?n?function(t,e,n){if(r(t),e=o(e),r(n),"function"==typeof t&&"prototype"===e&&"value"in n&&c in n&&!n[c]){var i=s(t,e);i&&i[c]&&(t[e]=n.value,n={configurable:l in n?n[l]:i[l],enumerable:u in n?n[u]:i[u],writable:!1})}return a(t,e,n)}:a:function(t,n,s){if(r(t),n=o(n),r(s),e)try{return a(t,n,s)}catch(t){}if("get"in s||"set"in s)throw new i("Accessors not supported");return"value"in s&&(t[n]=s.value),t},Sn}function Cn(){if(xn)return wn;xn=1;var t=yt(),e=kn(),n=ce();return wn=t?function(t,r,o){return e.f(t,r,n(1,o))}:function(t,e,n){return t[e]=n,t}}var Nn,Tn,Ln,Mn,Pn,Rn,Dn,An,jn,In,$n,Fn,Bn,_n,Wn,zn={exports:{}};function Un(){if(Tn)return Nn;Tn=1;var t=yt(),e=sn(),n=Function.prototype,r=t&&Object.getOwnPropertyDescriptor,o=e(n,"name"),i=o&&"something"===function(){}.name,a=o&&(!t||t&&r(n,"name").configurable);return Nn={EXISTS:o,PROPER:i,CONFIGURABLE:a}}function Vn(){if(Mn)return Ln;Mn=1;var t=fe(),e=me(),n=rn(),r=t(Function.toString);return e(n.inspectSource)||(n.inspectSource=function(t){return r(t)}),Ln=n.inspectSource}function Hn(){if(Rn)return Pn;Rn=1;var t=st(),e=me(),n=t.WeakMap;return Pn=e(n)&&/native code/.test(String(n))}function Kn(){if(An)return Dn;An=1;var t=on(),e=un(),n=t("keys");return Dn=function(t){return n[t]||(n[t]=e(t))}}function Jn(){return In?jn:(In=1,jn={})}function qn(){if(Fn)return $n;Fn=1;var t,e,n,r=Hn(),o=st(),i=ye(),a=Cn(),s=sn(),u=rn(),l=Kn(),c=Jn(),f="Object already initialized",d=o.TypeError,h=o.WeakMap;if(r||u.state){var p=u.state||(u.state=new h);p.get=p.get,p.has=p.has,p.set=p.set,t=function(t,e){if(p.has(t))throw new d(f);return e.facade=t,p.set(t,e),e},e=function(t){return p.get(t)||{}},n=function(t){return p.has(t)}}else{var g=l("state");c[g]=!0,t=function(t,e){if(s(t,g))throw new d(f);return e.facade=t,a(t,g,e),e},e=function(t){return s(t,g)?t[g]:{}},n=function(t){return s(t,g)}}return $n={set:t,get:e,has:n,enforce:function(r){return n(r)?e(r):t(r,{})},getterFor:function(t){return function(n){var r;if(!i(n)||(r=e(n)).type!==t)throw new d("Incompatible receiver, "+t+" required");return r}}}}function Gn(){if(Bn)return zn.exports;Bn=1;var t=fe(),e=mt(),n=me(),r=sn(),o=yt(),i=Un().CONFIGURABLE,a=Vn(),s=qn(),u=s.enforce,l=s.get,c=String,f=Object.defineProperty,d=t("".slice),h=t("".replace),p=t([].join),g=o&&!e(function(){return 8!==f(function(){},"length",{value:8}).length}),v=String(String).split("String"),m=zn.exports=function(t,e,n){"Symbol("===d(c(e),0,7)&&(e="["+h(c(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!r(t,"name")||i&&t.name!==e)&&(o?f(t,"name",{value:e,configurable:!0}):t.name=e),g&&n&&r(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&r(n,"constructor")&&n.constructor?o&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var a=u(t);return r(a,"source")||(a.source=p(v,"string"==typeof e?e:"")),t};return Function.prototype.toString=m(function(){return n(this)&&l(this).source||a(this)},"toString"),zn.exports}function Yn(){if(Wn)return _n;Wn=1;var t=me(),e=kn(),n=Gn(),r=nn();return _n=function(o,i,a,s){s||(s={});var u=s.enumerable,l=void 0!==s.name?s.name:i;if(t(a)&&n(a,l,s),s.global)u?o[i]=a:r(i,a);else{try{s.unsafe?o[i]&&(u=!0):delete o[i]}catch(t){}u?o[i]=a:e.f(o,i,{value:a,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return o}}var Xn,Qn,Zn,tr,er,nr,rr,or,ir,ar,sr,ur,lr,cr,fr,dr,hr,pr={};function gr(){if(tr)return Zn;tr=1;var t=function(){if(Qn)return Xn;Qn=1;var t=Math.ceil,e=Math.floor;return Xn=Math.trunc||function(n){var r=+n;return(r>0?e:t)(r)},Xn}();return Zn=function(e){var n=+e;return n!=n||0===n?0:t(n)}}function vr(){if(nr)return er;nr=1;var t=gr(),e=Math.max,n=Math.min;return er=function(r,o){var i=t(r);return i<0?e(i+o,0):n(i,o)}}function mr(){if(or)return rr;or=1;var t=gr(),e=Math.min;return rr=function(n){var r=t(n);return r>0?e(r,9007199254740991):0}}function yr(){if(ar)return ir;ar=1;var t=mr();return ir=function(e){return t(e.length)}}function br(){if(ur)return sr;ur=1;var t=ve(),e=vr(),n=yr(),r=function(r){return function(o,i,a){var s=t(o),u=n(s);if(0===u)return!r&&-1;var l,c=e(a,u);if(r&&i!=i){for(;u>c;)if((l=s[c++])!=l)return!0}else for(;u>c;c++)if((r||c in s)&&s[c]===i)return r||c||0;return!r&&-1}};return sr={includes:r(!0),indexOf:r(!1)}}function wr(){if(cr)return lr;cr=1;var t=fe(),e=sn(),n=ve(),r=br().indexOf,o=Jn(),i=t([].push);return lr=function(t,a){var s,u=n(t),l=0,c=[];for(s in u)!e(o,s)&&e(u,s)&&i(c,s);for(;a.length>l;)e(u,s=a[l++])&&(~r(c,s)||i(c,s));return c}}function xr(){return dr?fr:(dr=1,fr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function Sr(){if(hr)return pr;hr=1;var t=wr(),e=xr().concat("length","prototype");return pr.f=Object.getOwnPropertyNames||function(n){return t(n,e)},pr}var Or,Er,kr,Cr,Nr,Tr,Lr,Mr,Pr,Rr,Dr,Ar,jr,Ir,$r,Fr,Br,_r,Wr,zr,Ur,Vr,Hr,Kr,Jr,qr,Gr,Yr,Xr={};function Qr(){return Or||(Or=1,Xr.f=Object.getOwnPropertySymbols),Xr}function Zr(){if(kr)return Er;kr=1;var t=be(),e=fe(),n=Sr(),r=Qr(),o=En(),i=e([].concat);return Er=t("Reflect","ownKeys")||function(t){var e=n.f(o(t)),a=r.f;return a?i(e,a(t)):e},Er}function to(){if(Nr)return Cr;Nr=1;var t=sn(),e=Zr(),n=pn(),r=kn();return Cr=function(o,i,a){for(var s=e(i),u=r.f,l=n.f,c=0;c<s.length;c++){var f=s[c];t(o,f)||a&&t(a,f)||u(o,f,l(i,f))}},Cr}function eo(){if(Lr)return Tr;Lr=1;var t=mt(),e=me(),n=/#|\.prototype\./,r=function(n,r){var u=i[o(n)];return u===s||u!==a&&(e(r)?t(r):!!r)},o=r.normalize=function(t){return String(t).replace(n,".").toLowerCase()},i=r.data={},a=r.NATIVE="N",s=r.POLYFILL="P";return Tr=r}function no(){if(Pr)return Mr;Pr=1;var t=st(),e=pn().f,n=Cn(),r=Yn(),o=nn(),i=to(),a=eo();return Mr=function(s,u){var l,c,f,d,h,p=s.target,g=s.global,v=s.stat;if(l=g?t:v?t[p]||o(p,{}):t[p]&&t[p].prototype)for(c in u){if(d=u[c],f=s.dontCallGetSet?(h=e(l,c))&&h.value:l[c],!a(g?c:p+(v?".":"#")+c,s.forced)&&void 0!==f){if(typeof d==typeof f)continue;i(d,f)}(s.sham||f&&f.sham)&&n(d,"sham",!0),r(l,c,d,s)}}}function ro(){if(Dr)return Rr;Dr=1;var t=de();return Rr=Array.isArray||function(e){return"Array"===t(e)}}function oo(){if(jr)return Ar;jr=1;var t=TypeError;return Ar=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}}function io(){if($r)return Ir;$r=1;var t=yt(),e=kn(),n=ce();return Ir=function(r,o,i){t?e.f(r,o,n(0,i)):r[o]=i}}function ao(){if(Br)return Fr;Br=1;var t={};return t[ln()("toStringTag")]="z",Fr="[object z]"===String(t)}function so(){if(Wr)return _r;Wr=1;var t=ao(),e=me(),n=de(),r=ln()("toStringTag"),o=Object,i="Arguments"===n(function(){return arguments}());return _r=t?n:function(t){var a,s,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(s=function(t,e){try{return t[e]}catch(t){}}(a=o(t),r))?s:i?n(a):"Object"===(u=n(a))&&e(a.callee)?"Arguments":u}}function uo(){if(Ur)return zr;Ur=1;var t=fe(),e=mt(),n=me(),r=so(),o=be(),i=Vn(),a=function(){},s=o("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=t(u.exec),c=!u.test(a),f=function(t){if(!n(t))return!1;try{return s(a,[],t),!0}catch(t){return!1}},d=function(t){if(!n(t))return!1;switch(r(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!l(u,i(t))}catch(t){return!0}};return d.sham=!0,zr=!s||e(function(){var t;return f(f.call)||!f(Object)||!f(function(){t=!0})||t})?d:f}function lo(){if(Hr)return Vr;Hr=1;var t=ro(),e=uo(),n=ye(),r=ln()("species"),o=Array;return Vr=function(i){var a;return t(i)&&(a=i.constructor,(e(a)&&(a===o||t(a.prototype))||n(a)&&null===(a=a[r]))&&(a=void 0)),void 0===a?o:a}}function co(){if(Jr)return Kr;Jr=1;var t=lo();return Kr=function(e,n){return new(t(e))(0===n?0:n)}}function fo(){if(Gr)return qr;Gr=1;var t=mt(),e=ln(),n=Se(),r=e("species");return qr=function(e){return n>=51||!t(function(){var t=[];return(t.constructor={})[r]=function(){return{foo:1}},1!==t[e](Boolean).foo})}}!function(){if(Yr)return at;Yr=1;var t=no(),e=mt(),n=ro(),r=ye(),o=an(),i=yr(),a=oo(),s=io(),u=co(),l=fo(),c=ln(),f=Se(),d=c("isConcatSpreadable"),h=f>=51||!e(function(){var t=[];return t[d]=!1,t.concat()[0]!==t}),p=function(t){if(!r(t))return!1;var e=t[d];return void 0!==e?!!e:n(t)};t({target:"Array",proto:!0,arity:1,forced:!h||!l("concat")},{concat:function(t){var e,n,r,l,c,f=o(this),d=u(f,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(p(c=-1===e?f:arguments[e]))for(l=i(c),a(h+l),n=0;n<l;n++,h++)n in c&&s(d,h,c[n]);else a(h+1),s(d,h++,c);return d.length=h,d}})}();var ho,po,go,vo={};function mo(){if(po)return ho;po=1;var t=wr(),e=xr();return ho=Object.keys||function(n){return t(n,e)}}!function(){if(go)return vo;go=1;var t=no(),e=an(),n=mo();t({target:"Object",stat:!0,forced:mt()(function(){n(1)})},{keys:function(t){return n(e(t))}})}();var yo,bo,wo,xo={};!function(){if(wo)return xo;wo=1;var t=ao(),e=Yn(),n=function(){if(bo)return yo;bo=1;var t=ao(),e=so();return yo=t?{}.toString:function(){return"[object "+e(this)+"]"}}();t||e(Object.prototype,"toString",n,{unsafe:!0})}();var So,Oo,Eo,ko,Co,No,To,Lo,Mo,Po,Ro,Do,Ao,jo,Io,$o={};function Fo(){return Oo?So:(Oo=1,So={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0})}function Bo(){if(ko)return Eo;ko=1;var t=dn()("span").classList,e=t&&t.constructor&&t.constructor.prototype;return Eo=e===Object.prototype?void 0:e}function _o(){if(No)return Co;No=1;var t=de(),e=fe();return Co=function(n){if("Function"===t(n))return e(n)}}function Wo(){if(Lo)return To;Lo=1;var t=_o(),e=Ne(),n=bt(),r=t(t.bind);return To=function(t,o){return e(t),void 0===o?t:n?r(t,o):function(){return t.apply(o,arguments)}},To}function zo(){if(Po)return Mo;Po=1;var t=Wo(),e=fe(),n=he(),r=an(),o=yr(),i=co(),a=e([].push),s=function(e){var s=1===e,u=2===e,l=3===e,c=4===e,f=6===e,d=7===e,h=5===e||f;return function(p,g,v,m){for(var y,b,w=r(p),x=n(w),S=o(x),O=t(g,v),E=0,k=m||i,C=s?k(p,S):u||d?k(p,0):void 0;S>E;E++)if((h||E in x)&&(b=O(y=x[E],E,w),e))if(s)C[E]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return E;case 2:a(C,y)}else switch(e){case 4:return!1;case 7:a(C,y)}return f?-1:l||c?c:C}};return Mo={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}}function Uo(){if(Do)return Ro;Do=1;var t=mt();return Ro=function(e,n){var r=[][e];return!!r&&t(function(){r.call(null,n||function(){return 1},1)})}}
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function Vo(t){return"[object Object]"===Object.prototype.toString.call(t)}!function(){if(Io)return $o;Io=1;var t=st(),e=Fo(),n=Bo(),r=function(){if(jo)return Ao;jo=1;var t=zo().forEach,e=Uo()("forEach");return Ao=e?[].forEach:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)},Ao}(),o=Cn(),i=function(t){if(t&&t.forEach!==r)try{o(t,"forEach",r)}catch(e){t.forEach=r}};for(var a in e)e[a]&&i(t[a]&&t[a].prototype);i(n)}();var Ho={isHistory:t=>function(t){var e,n;return!1!==Vo(t)&&(void 0===(e=t.constructor)||!1!==Vo(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}(t)&&Array.isArray(t.redos)&&Array.isArray(t.undos)&&(0===t.redos.length||n.isOperationList(t.redos[0].operations))&&(0===t.undos.length||n.isOperationList(t.undos[0].operations))},Ko=new WeakMap,Jo=new WeakMap,qo={isHistoryEditor:t=>Ho.isHistory(t.history)&&e.isEditor(t),isMerging:t=>Jo.get(t),isSaving:t=>Ko.get(t),redo(t){t.redo()},undo(t){t.undo()},withMerging(t,e){var n=qo.isMerging(t);Jo.set(t,!0),e(),Jo.set(t,n)},withoutMerging(t,e){var n=qo.isMerging(t);Jo.set(t,!1),e(),Jo.set(t,n)},withoutSaving(t,e){var n=qo.isSaving(t);Ko.set(t,!1),e(),Ko.set(t,n)}},Go=r=>{var o=r,{apply:i}=o;return o.history={undos:[],redos:[]},o.redo=()=>{var{history:n}=o,{redos:r}=n;if(r.length>0){var i=r[r.length-1];i.selectionBefore&&t.setSelection(o,i.selectionBefore),qo.withoutSaving(o,()=>{e.withoutNormalizing(o,()=>{for(var t of i.operations)o.apply(t)})}),n.redos.pop(),o.writeHistory("undos",i)}},o.undo=()=>{var{history:r}=o,{undos:i}=r;if(i.length>0){var a=i[i.length-1];qo.withoutSaving(o,()=>{e.withoutNormalizing(o,()=>{var e=a.operations.map(n.inverse).reverse();for(var r of e)o.apply(r);a.selectionBefore&&t.setSelection(o,a.selectionBefore)})}),o.writeHistory("redos",a),r.undos.pop()}},o.apply=t=>{var{operations:e,history:n}=o,{undos:r}=n,a=r[r.length-1],s=a&&a.operations[a.operations.length-1],u=qo.isSaving(o),l=qo.isMerging(o);if(null==u&&(u=Xo(t)),u){if(null==l&&(l=null!=a&&(0!==e.length||Yo(t,s))),a&&l)a.operations.push(t);else{var c={operations:[t],selectionBefore:o.selection};o.writeHistory("undos",c)}for(;r.length>100;)r.shift();n.redos=[]}i(t)},o.writeHistory=(t,e)=>{o.history[t].push(e)},o},Yo=(t,e)=>!(!e||"insert_text"!==t.type||"insert_text"!==e.type||t.offset!==e.offset+e.text.length||!r.equals(t.path,e.path))||!(!e||"remove_text"!==t.type||"remove_text"!==e.type||t.offset+t.text.length!==e.offset||!r.equals(t.path,e.path)),Xo=(t,e)=>"set_selection"!==t.type,Qo=function(t,e){return Qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Qo(t,e)};function Zo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Qo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ti=function(){return ti=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ti.apply(this,arguments)};function ei(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ni(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function ri(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var oi={};var ii="created",ai="destroyed",si="change",ui="scroll",li="fullscreen",ci="unFullScreen",fi="modalOrPanelShow",di="modalOrPanelHide",hi={};function pi(t,e){var n=t.key,r=t.factory,o=t.config,i=ti(ti({},o),e||{});if(null!=hi[n])throw new Error("Duplicated key '".concat(n,"' in menu items"));hi[n]=r,function(t,e){null!=e&&(oi[t]=e)}(n,i)}var gi,vi,mi,yi,bi,wi,xi,Si,Oi,Ei,ki,Ci,Ni,Ti,Li,Mi,Pi,Ri,Di,Ai,ji,Ii,$i,Fi,Bi,_i,Wi,zi,Ui,Vi,Hi,Ki,Ji,qi={};function Gi(){if(mi)return vi;mi=1;var t=be();return vi=t("document","documentElement")}function Yi(){if(bi)return yi;bi=1;var t,e=En(),n=function(){if(gi)return qi;gi=1;var t=yt(),e=On(),n=kn(),r=En(),o=ve(),i=mo();return qi.f=t&&!e?Object.defineProperties:function(t,e){r(t);for(var a,s=o(e),u=i(e),l=u.length,c=0;l>c;)n.f(t,a=u[c++],s[a]);return t},qi}(),r=xr(),o=Jn(),i=Gi(),a=dn(),s=Kn(),u="prototype",l="script",c=s("IE_PROTO"),f=function(){},d=function(t){return"<"+l+">"+t+"</"+l+">"},h=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},p=function(){try{t=new ActiveXObject("htmlfile")}catch(t){}var e,n,o;p="undefined"!=typeof document?document.domain&&t?h(t):(n=a("iframe"),o="java"+l+":",n.style.display="none",i.appendChild(n),n.src=String(o),(e=n.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):h(t);for(var s=r.length;s--;)delete p[u][r[s]];return p()};return o[c]=!0,yi=Object.create||function(t,r){var o;return null!==t?(f[u]=e(t),o=new f,f[u]=null,o[c]=t):o=p(),void 0===r?o:n.f(o,r)}}function Xi(){if(xi)return wi;xi=1;var t=ln(),e=Yi(),n=kn().f,r=t("unscopables"),o=Array.prototype;return void 0===o[r]&&n(o,r,{configurable:!0,value:e(null)}),wi=function(t){o[r][t]=!0}}function Qi(){return Oi?Si:(Oi=1,Si={})}function Zi(){if(Ni)return Ci;Ni=1;var t=sn(),e=me(),n=an(),r=Kn(),o=function(){if(ki)return Ei;ki=1;var t=mt();return Ei=!t(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})}(),i=r("IE_PROTO"),a=Object,s=a.prototype;return Ci=o?a.getPrototypeOf:function(r){var o=n(r);if(t(o,i))return o[i];var u=o.constructor;return e(u)&&o instanceof u?u.prototype:o instanceof a?s:null}}function ta(){if(Li)return Ti;Li=1;var t,e,n,r=mt(),o=me(),i=ye(),a=Yi(),s=Zi(),u=Yn(),l=ln(),c=en(),f=l("iterator"),d=!1;return[].keys&&("next"in(n=[].keys())?(e=s(s(n)))!==Object.prototype&&(t=e):d=!0),!i(t)||r(function(){var e={};return t[f].call(e)!==e})?t={}:c&&(t=a(t)),o(t[f])||u(t,f,function(){return this}),Ti={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:d}}function ea(){if(Pi)return Mi;Pi=1;var t=kn().f,e=sn(),n=ln()("toStringTag");return Mi=function(r,o,i){r&&!i&&(r=r.prototype),r&&!e(r,n)&&t(r,n,{configurable:!0,value:o})}}function na(){if($i)return Ii;$i=1;var t=ye();return Ii=function(e){return t(e)||null===e}}function ra(){if(Bi)return Fi;Bi=1;var t=na(),e=String,n=TypeError;return Fi=function(r){if(t(r))return r;throw new n("Can't set "+e(r)+" as a prototype")}}function oa(){if(Wi)return _i;Wi=1;var t=function(){if(ji)return Ai;ji=1;var t=fe(),e=Ne();return Ai=function(n,r,o){try{return t(e(Object.getOwnPropertyDescriptor(n,r)[o]))}catch(t){}}}(),e=ye(),n=ge(),r=ra();return _i=Object.setPrototypeOf||("__proto__"in{}?function(){var o,i=!1,a={};try{(o=t(Object.prototype,"__proto__","set"))(a,[]),i=a instanceof Array}catch(t){}return function(t,a){return n(t),r(a),e(t)?(i?o(t,a):t.__proto__=a,t):t}}():void 0)}function ia(){if(Ui)return zi;Ui=1;var t=no(),e=wt(),n=en(),r=Un(),o=me(),i=function(){if(Di)return Ri;Di=1;var t=ta().IteratorPrototype,e=Yi(),n=ce(),r=ea(),o=Qi(),i=function(){return this};return Ri=function(a,s,u,l){var c=s+" Iterator";return a.prototype=e(t,{next:n(+!l,u)}),r(a,c,!1,!0),o[c]=i,a}}(),a=Zi(),s=oa(),u=ea(),l=Cn(),c=Yn(),f=ln(),d=Qi(),h=ta(),p=r.PROPER,g=r.CONFIGURABLE,v=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,y=f("iterator"),b="keys",w="values",x="entries",S=function(){return this};return zi=function(r,f,h,O,E,k,C){i(h,f,O);var N,T,L,M=function(t){if(t===E&&j)return j;if(!m&&t&&t in D)return D[t];switch(t){case b:case w:case x:return function(){return new h(this,t)}}return function(){return new h(this)}},P=f+" Iterator",R=!1,D=r.prototype,A=D[y]||D["@@iterator"]||E&&D[E],j=!m&&A||M(E),I="Array"===f&&D.entries||A;if(I&&(N=a(I.call(new r)))!==Object.prototype&&N.next&&(n||a(N)===v||(s?s(N,v):o(N[y])||c(N,y,S)),u(N,P,!0,!0),n&&(d[P]=S)),p&&E===w&&A&&A.name!==w&&(!n&&g?l(D,"name",w):(R=!0,j=function(){return e(A,this)})),E)if(T={values:M(w),keys:k?j:M(b),entries:M(x)},C)for(L in T)(m||R||!(L in D))&&c(D,L,T[L]);else t({target:f,proto:!0,forced:m||R},T);return n&&!C||D[y]===j||c(D,y,j,{name:E}),d[f]=j,T}}function aa(){return Hi?Vi:(Hi=1,Vi=function(t,e){return{value:t,done:e}})}function sa(){if(Ji)return Ki;Ji=1;var t=ve(),e=Xi(),n=Qi(),r=qn(),o=kn().f,i=ia(),a=aa(),s=en(),u=yt(),l="Array Iterator",c=r.set,f=r.getterFor(l);Ki=i(Array,"Array",function(e,n){c(this,{type:l,target:t(e),index:0,kind:n})},function(){var t=f(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,a(void 0,!0);switch(t.kind){case"keys":return a(n,!1);case"values":return a(e[n],!1)}return a([n,e[n]],!1)},"values");var d=n.Arguments=n.Array;if(e("keys"),e("values"),e("entries"),!s&&u&&"values"!==d.name)try{o(d,"name",{value:"values"})}catch(t){}return Ki}sa();var ua,la,ca,fa,da,ha={};function pa(){if(la)return ua;la=1;var t=so(),e=String;return ua=function(n){if("Symbol"===t(n))throw new TypeError("Cannot convert a Symbol value to a string");return e(n)}}function ga(){if(fa)return ca;fa=1;var t=fe(),e=gr(),n=pa(),r=ge(),o=t("".charAt),i=t("".charCodeAt),a=t("".slice),s=function(t){return function(s,u){var l,c,f=n(r(s)),d=e(u),h=f.length;return d<0||d>=h?t?"":void 0:(l=i(f,d))<55296||l>56319||d+1===h||(c=i(f,d+1))<56320||c>57343?t?o(f,d):l:t?a(f,d,d+2):c-56320+(l-55296<<10)+65536}};return ca={codeAt:s(!1),charAt:s(!0)}}!function(){if(da)return ha;da=1;var t=ga().charAt,e=pa(),n=qn(),r=ia(),o=aa(),i="String Iterator",a=n.set,s=n.getterFor(i);r(String,"String",function(t){a(this,{type:i,string:e(t),index:0})},function(){var e,n=s(this),r=n.string,i=n.index;return i>=r.length?o(void 0,!0):(e=t(r,i),n.index+=e.length,o(e,!1))})}();var va,ma,ya,ba,wa={};function xa(){if(ma)return va;ma=1;var t=mt();return va=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})}function Sa(){if(ba)return ya;ba=1;var t=Yn();return ya=function(e,n,r){for(var o in n)t(e,o,n[o],r);return e}}var Oa,Ea,ka,Ca,Na,Ta,La,Ma,Pa,Ra,Da,Aa,ja,Ia,$a,Fa,Ba,_a,Wa,za,Ua,Va,Ha,Ka,Ja,qa,Ga,Ya,Xa,Qa,Za={exports:{}},ts={};function es(){if(Ea)return Oa;Ea=1;var t=fe();return Oa=t([].slice)}function ns(){if(ka)return ts;ka=1;var t=de(),e=ve(),n=Sr().f,r=es(),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];return ts.f=function(i){return o&&"Window"===t(i)?function(t){try{return n(t)}catch(t){return r(o)}}(i):n(e(i))},ts}function rs(){if(La)return Ta;La=1;var t=mt(),e=ye(),n=de(),r=function(){if(Na)return Ca;Na=1;var t=mt();return Ca=t(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})}(),o=Object.isExtensible,i=t(function(){});return Ta=i||r?function(t){return!!e(t)&&((!r||"ArrayBuffer"!==n(t))&&(!o||o(t)))}:o}function os(){if(Ma)return Za.exports;Ma=1;var t=no(),e=fe(),n=Jn(),r=ye(),o=sn(),i=kn().f,a=Sr(),s=ns(),u=rs(),l=un(),c=xa(),f=!1,d=l("meta"),h=0,p=function(t){i(t,d,{value:{objectID:"O"+h++,weakData:{}}})},g=Za.exports={enable:function(){g.enable=function(){},f=!0;var n=a.f,r=e([].splice),o={};o[d]=1,n(o).length&&(a.f=function(t){for(var e=n(t),o=0,i=e.length;o<i;o++)if(e[o]===d){r(e,o,1);break}return e},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}))},fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,d)){if(!u(t))return"F";if(!e)return"E";p(t)}return t[d].objectID},getWeakData:function(t,e){if(!o(t,d)){if(!u(t))return!0;if(!e)return!1;p(t)}return t[d].weakData},onFreeze:function(t){return c&&f&&u(t)&&!o(t,d)&&p(t),t}};return n[d]=!0,Za.exports}function is(){if(Ra)return Pa;Ra=1;var t=ln(),e=Qi(),n=t("iterator"),r=Array.prototype;return Pa=function(t){return void 0!==t&&(e.Array===t||r[n]===t)}}function as(){if(Aa)return Da;Aa=1;var t=so(),e=Te(),n=pe(),r=Qi(),o=ln()("iterator");return Da=function(i){if(!n(i))return e(i,o)||e(i,"@@iterator")||r[t(i)]}}function ss(){if(Ia)return ja;Ia=1;var t=wt(),e=Ne(),n=En(),r=Ce(),o=as(),i=TypeError;return ja=function(a,s){var u=arguments.length<2?o(a):s;if(e(u))return n(t(u,a));throw new i(r(a)+" is not iterable")},ja}function us(){if(Fa)return $a;Fa=1;var t=wt(),e=En(),n=Te();return $a=function(r,o,i){var a,s;e(r);try{if(!(a=n(r,"return"))){if("throw"===o)throw i;return i}a=t(a,r)}catch(t){s=!0,a=t}if("throw"===o)throw i;if(s)throw a;return e(a),i}}function ls(){if(_a)return Ba;_a=1;var t=Wo(),e=wt(),n=En(),r=Ce(),o=is(),i=yr(),a=we(),s=ss(),u=as(),l=us(),c=TypeError,f=function(t,e){this.stopped=t,this.result=e},d=f.prototype;return Ba=function(h,p,g){var v,m,y,b,w,x,S,O=g&&g.that,E=!(!g||!g.AS_ENTRIES),k=!(!g||!g.IS_RECORD),C=!(!g||!g.IS_ITERATOR),N=!(!g||!g.INTERRUPTED),T=t(p,O),L=function(t){return v&&l(v,"normal"),new f(!0,t)},M=function(t){return E?(n(t),N?T(t[0],t[1],L):T(t[0],t[1])):N?T(t,L):T(t)};if(k)v=h.iterator;else if(C)v=h;else{if(!(m=u(h)))throw new c(r(h)+" is not iterable");if(o(m)){for(y=0,b=i(h);b>y;y++)if((w=M(h[y]))&&a(d,w))return w;return new f(!1)}v=s(h,m)}for(x=k?h.next:v.next;!(S=e(x,v)).done;){try{w=M(S.value)}catch(t){l(v,"throw",t)}if("object"==typeof w&&w&&a(d,w))return w}return new f(!1)}}function cs(){if(za)return Wa;za=1;var t=we(),e=TypeError;return Wa=function(n,r){if(t(r,n))return n;throw new e("Incorrect invocation")}}function fs(){if(Va)return Ua;Va=1;var t=ln()("iterator"),e=!1;try{var n=0,r={next:function(){return{done:!!n++}},return:function(){e=!0}};r[t]=function(){return this},Array.from(r,function(){throw 2})}catch(t){}return Ua=function(n,r){try{if(!r&&!e)return!1}catch(t){return!1}var o=!1;try{var i={};i[t]=function(){return{next:function(){return{done:o=!0}}}},n(i)}catch(t){}return o}}function ds(){if(Ka)return Ha;Ka=1;var t=me(),e=ye(),n=oa();return Ha=function(r,o,i){var a,s;return n&&t(a=o.constructor)&&a!==i&&e(s=a.prototype)&&s!==i.prototype&&n(r,s),r}}function hs(){if(qa)return Ja;qa=1;var t=no(),e=st(),n=fe(),r=eo(),o=Yn(),i=os(),a=ls(),s=cs(),u=me(),l=pe(),c=ye(),f=mt(),d=fs(),h=ea(),p=ds();return Ja=function(g,v,m){var y=-1!==g.indexOf("Map"),b=-1!==g.indexOf("Weak"),w=y?"set":"add",x=e[g],S=x&&x.prototype,O=x,E={},k=function(t){var e=n(S[t]);o(S,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(b&&!c(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return b&&!c(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(b&&!c(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(r(g,!u(x)||!(b||S.forEach&&!f(function(){(new x).entries().next()}))))O=m.getConstructor(v,g,y,w),i.enable();else if(r(g,!0)){var C=new O,N=C[w](b?{}:-0,1)!==C,T=f(function(){C.has(1)}),L=d(function(t){new x(t)}),M=!b&&f(function(){for(var t=new x,e=5;e--;)t[w](e,e);return!t.has(-0)});L||((O=v(function(t,e){s(t,S);var n=p(new x,t,O);return l(e)||a(e,n[w],{that:n,AS_ENTRIES:y}),n})).prototype=S,S.constructor=O),(T||M)&&(k("delete"),k("has"),y&&k("get")),(M||N)&&k(w),b&&S.clear&&delete S.clear}return E[g]=O,t({global:!0,constructor:!0,forced:O!==x},E),h(O,g),b||m.setStrong(O,g,y),O},Ja}function ps(){if(Ya)return Ga;Ya=1;var t=fe(),e=Sa(),n=os().getWeakData,r=cs(),o=En(),i=pe(),a=ye(),s=ls(),u=zo(),l=sn(),c=qn(),f=c.set,d=c.getterFor,h=u.find,p=u.findIndex,g=t([].splice),v=0,m=function(t){return t.frozen||(t.frozen=new y)},y=function(){this.entries=[]},b=function(t,e){return h(t.entries,function(t){return t[0]===e})};return y.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var n=b(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=p(this.entries,function(e){return e[0]===t});return~e&&g(this.entries,e,1),!!~e}},Ga={getConstructor:function(t,u,c,h){var p=t(function(t,e){r(t,g),f(t,{type:u,id:v++,frozen:null}),i(e)||s(e,t[h],{that:t,AS_ENTRIES:c})}),g=p.prototype,y=d(u),b=function(t,e,r){var i=y(t),a=n(o(e),!0);return!0===a?m(i).set(e,r):a[i.id]=r,t};return e(g,{delete:function(t){var e=y(this);if(!a(t))return!1;var r=n(t);return!0===r?m(e).delete(t):r&&l(r,e.id)&&delete r[e.id]},has:function(t){var e=y(this);if(!a(t))return!1;var r=n(t);return!0===r?m(e).has(t):r&&l(r,e.id)}}),e(g,c?{get:function(t){var e=y(this);if(a(t)){var r=n(t);if(!0===r)return m(e).get(t);if(r)return r[e.id]}},set:function(t,e){return b(this,t,e)}}:{add:function(t){return b(this,t,!0)}}),p}}}Qa||(Qa=1,function(){if(Xa)return wa;Xa=1;var t,e=xa(),n=st(),r=fe(),o=Sa(),i=os(),a=hs(),s=ps(),u=ye(),l=qn().enforce,c=mt(),f=Hn(),d=Object,h=Array.isArray,p=d.isExtensible,g=d.isFrozen,v=d.isSealed,m=d.freeze,y=d.seal,b=!n.ActiveXObject&&"ActiveXObject"in n,w=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},x=a("WeakMap",w,s),S=x.prototype,O=r(S.set);if(f)if(b){t=s.getConstructor(w,"WeakMap",!0),i.enable();var E=r(S.delete),k=r(S.has),C=r(S.get);o(S,{delete:function(e){if(u(e)&&!p(e)){var n=l(this);return n.frozen||(n.frozen=new t),E(this,e)||n.frozen.delete(e)}return E(this,e)},has:function(e){if(u(e)&&!p(e)){var n=l(this);return n.frozen||(n.frozen=new t),k(this,e)||n.frozen.has(e)}return k(this,e)},get:function(e){if(u(e)&&!p(e)){var n=l(this);return n.frozen||(n.frozen=new t),k(this,e)?C(this,e):n.frozen.get(e)}return C(this,e)},set:function(e,n){if(u(e)&&!p(e)){var r=l(this);r.frozen||(r.frozen=new t),k(this,e)?O(this,e,n):r.frozen.set(e,n)}else O(this,e,n);return this}})}else e&&c(function(){var t=m([]);return O(new x,t,1),!g(t)})&&o(S,{set:function(t,e){var n;return h(t)&&(g(t)?n=m:v(t)&&(n=y)),O(this,t,e),n&&n(t),this}})}());var gs,vs={};!function(){if(gs)return vs;gs=1;var t=st(),e=Fo(),n=Bo(),r=sa(),o=Cn(),i=ea(),a=ln()("iterator"),s=r.values,u=function(t,n){if(t){if(t[a]!==s)try{o(t,a,s)}catch(e){t[a]=s}if(i(t,n,!0),e[n])for(var u in r)if(t[u]!==r[u])try{o(t,u,r[u])}catch(e){t[u]=r[u]}}};for(var l in e)u(t[l]&&t[l].prototype,l);u(n,"DOMTokenList")}();var ms,ys=new WeakMap,bs=new WeakMap,ws=new WeakMap,xs=new WeakMap,Ss=new WeakMap,Os=new WeakMap,Es=new WeakMap,ks=new WeakMap,Cs=new WeakMap,Ns=new WeakMap,Ts=new WeakMap,Ls=new WeakMap,Ms=new WeakMap,Ps=new WeakMap,Rs=new WeakMap,Ds=new WeakMap,As=new WeakMap,js=new WeakMap,Is=new WeakMap,$s=new WeakMap,Fs=new WeakMap,Bs=new WeakMap,_s=new WeakMap,Ws=new WeakMap,zs=new WeakMap,Us=new WeakMap,Vs=new WeakMap,Hs=function(t){var e=t;return e.getAllMenuKeys=function(){var t=[];for(var e in hi)t.push(e);return t},e.getConfig=function(){var t=Ns.get(e);if(null==t)throw new Error("Can not get editor config");return t},e.getMenuConfig=function(t){var n=e.getConfig().MENU_CONF;return(void 0===n?{}:n)[t]||{}},e.alert=function(t,n){void 0===n&&(n="info");var r=e.getConfig().customAlert;r&&r(t,n)},e},Ks={};!function(){if(ms)return Ks;ms=1;var t=no(),e=zo().filter;t({target:"Array",proto:!0,forced:!fo()("filter")},{filter:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}();var Js,qs,Gs,Ys,Xs,Qs={};function Zs(){if(qs)return Js;qs=1;var t=En(),e=us();return Js=function(n,r,o,i){try{return i?r(t(o)[0],o[1]):r(o)}catch(t){e(n,"throw",t)}}}!function(){if(Xs)return Qs;Xs=1;var t=no(),e=function(){if(Ys)return Gs;Ys=1;var t=Wo(),e=wt(),n=an(),r=Zs(),o=is(),i=uo(),a=yr(),s=io(),u=ss(),l=as(),c=Array;return Gs=function(f){var d=n(f),h=i(this),p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g;v&&(g=t(g,p>2?arguments[2]:void 0));var m,y,b,w,x,S,O=l(d),E=0;if(!O||this===c&&o(O))for(m=a(d),y=h?new this(m):c(m);m>E;E++)S=v?g(d[E],E):d[E],s(y,E,S);else for(y=h?new this:[],x=(w=u(d,O)).next;!(b=e(x,w)).done;E++)S=v?r(w,g,[b.value,E],!0):b.value,s(y,E,S);return y.length=E,y},Gs}();t({target:"Array",stat:!0,forced:!fs()(function(t){Array.from(t)})},{from:e})}();var tu,eu={};!function(){if(tu)return eu;tu=1;var t=no(),e=br().includes,n=mt(),r=Xi();t({target:"Array",proto:!0,forced:n(function(){return!Array(1).includes()})},{includes:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")}();var nu,ru={};!function(){if(nu)return ru;nu=1;var t=no(),e=fe(),n=he(),r=ve(),o=Uo(),i=e([].join);t({target:"Array",proto:!0,forced:n!==Object||!o("join",",")},{join:function(t){return i(r(this),void 0===t?",":t)}})}();var ou,iu={};!function(){if(ou)return iu;ou=1;var t=no(),e=zo().map;t({target:"Array",proto:!0,forced:!fo()("map")},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}();var au,su,uu,lu,cu,fu,du,hu={};function pu(){if(su)return au;su=1;var t=ye(),e=de(),n=ln()("match");return au=function(r){var o;return t(r)&&(void 0!==(o=r[n])?!!o:"RegExp"===e(r))}}function gu(){if(lu)return uu;lu=1;var t=pu(),e=TypeError;return uu=function(n){if(t(n))throw new e("The method doesn't accept regular expressions");return n}}function vu(){if(fu)return cu;fu=1;var t=ln()("match");return cu=function(e){var n=/./;try{"/./"[e](n)}catch(r){try{return n[t]=!1,"/./"[e](n)}catch(t){}}return!1}}!function(){if(du)return hu;du=1;var t=no(),e=fe(),n=gu(),r=ge(),o=pa(),i=vu(),a=e("".indexOf);t({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~a(o(r(this)),o(n(t)),arguments.length>1?arguments[1]:void 0)}})}();var mu,yu,bu,wu,xu,Su,Ou,Eu={};function ku(){return yu?mu:(yu=1,mu="\t\n\v\f\r                　\u2028\u2029\ufeff")}!function(){if(Ou)return Eu;Ou=1;var t=no(),e=function(){if(wu)return bu;wu=1;var t=fe(),e=ge(),n=pa(),r=ku(),o=t("".replace),i=RegExp("^["+r+"]+"),a=RegExp("(^|[^"+r+"])["+r+"]+$"),s=function(t){return function(r){var s=n(e(r));return 1&t&&(s=o(s,i,"")),2&t&&(s=o(s,a,"$1")),s}};return bu={start:s(1),end:s(2),trim:s(3)}}().trim,n=function(){if(Su)return xu;Su=1;var t=Un().PROPER,e=mt(),n=ku();return xu=function(r){return e(function(){return!!n[r]()||"​᠎"!=="​᠎"[r]()||t&&n[r].name!==r})}}();t({target:"String",proto:!0,forced:n("trim")},{trim:function(){return e(this)}})}();var Cu,Nu,Tu,Lu,Mu,Pu={};!function(){if(Mu)return Pu;Mu=1;var t=no(),e=function(){if(Nu)return Cu;Nu=1;var t=fe(),e=ge(),n=pa(),r=/"/g,o=t("".replace);return Cu=function(t,i,a,s){var u=n(e(t)),l="<"+i;return""!==a&&(l+=" "+a+'="'+o(n(s),r,"&quot;")+'"'),l+">"+u+"</"+i+">"}}(),n=function(){if(Lu)return Tu;Lu=1;var t=mt();return Tu=function(e){return t(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}}();t({target:"String",proto:!0,forced:n("anchor")},{anchor:function(t){return e(this,"a","name",t)}})}();var Ru,Du,Au,ju,Iu,$u,Fu,Bu;function _u(){if(Du)return Ru;Du=1;var t=Gn(),e=kn();return Ru=function(n,r,o){return o.get&&t(o.get,r,{getter:!0}),o.set&&t(o.set,r,{setter:!0}),e.f(n,r,o)}}function Wu(){if(ju)return Au;ju=1;var t=be(),e=_u(),n=ln(),r=yt(),o=n("species");return Au=function(n){var i=t(n);r&&i&&!i[o]&&e(i,o,{configurable:!0,get:function(){return this}})}}Bu||(Bu=1,Fu||(Fu=1,hs()("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},function(){if($u)return Iu;$u=1;var t=Yi(),e=_u(),n=Sa(),r=Wo(),o=cs(),i=pe(),a=ls(),s=ia(),u=aa(),l=Wu(),c=yt(),f=os().fastKey,d=qn(),h=d.set,p=d.getterFor;return Iu={getConstructor:function(s,u,l,d){var g=s(function(e,n){o(e,v),h(e,{type:u,index:t(null),first:null,last:null,size:0}),c||(e.size=0),i(n)||a(n,e[d],{that:e,AS_ENTRIES:l})}),v=g.prototype,m=p(u),y=function(t,e,n){var r,o,i=m(t),a=b(t,e);return a?a.value=n:(i.last=a={index:o=f(e,!0),key:e,value:n,previous:r=i.last,next:null,removed:!1},i.first||(i.first=a),r&&(r.next=a),c?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},b=function(t,e){var n,r=m(t),o=f(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key===e)return n};return n(v,{clear:function(){for(var e=m(this),n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=null),n=n.next;e.first=e.last=null,e.index=t(null),c?e.size=0:this.size=0},delete:function(t){var e=this,n=m(e),r=b(e,t);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first===r&&(n.first=o),n.last===r&&(n.last=i),c?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=m(this),o=r(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(o(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),n(v,l?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),c&&e(v,"size",{configurable:!0,get:function(){return m(this).size}}),g},setStrong:function(t,e,n){var r=e+" Iterator",o=p(e),i=p(r);s(t,e,function(t,e){h(this,{type:r,target:t,state:o(t),kind:e,last:null})},function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?u("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=null,u(void 0,!0))},n?"entries":"values",!n,!0),l(e)}},Iu}())));var zu,Uu,Vu,Hu,Ku,Ju,qu,Gu,Yu,Xu,Qu,Zu=new Set(["doctype","!doctype","meta","script","style","link","frame","iframe","title","svg"]),tl={};function el(){if(Uu)return zu;Uu=1;var t=En();return zu=function(){var e=t(this),n="";return e.hasIndices&&(n+="d"),e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.dotAll&&(n+="s"),e.unicode&&(n+="u"),e.unicodeSets&&(n+="v"),e.sticky&&(n+="y"),n}}function nl(){if(Hu)return Vu;Hu=1;var t=mt(),e=st().RegExp,n=t(function(){var t=e("a","y");return t.lastIndex=2,null!==t.exec("abcd")}),r=n||t(function(){return!e("a","y").sticky}),o=n||t(function(){var t=e("^r","gy");return t.lastIndex=2,null!==t.exec("str")});return Vu={BROKEN_CARET:o,MISSED_STICKY:r,UNSUPPORTED_Y:n}}function rl(){if(Ju)return Ku;Ju=1;var t=mt(),e=st().RegExp;return Ku=t(function(){var t=e(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)})}function ol(){if(Gu)return qu;Gu=1;var t=mt(),e=st().RegExp;return qu=t(function(){var t=e("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})}function il(){if(Xu)return Yu;Xu=1;var t,e,n=wt(),r=fe(),o=pa(),i=el(),a=nl(),s=on(),u=Yi(),l=qn().get,c=rl(),f=ol(),d=s("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,p=h,g=r("".charAt),v=r("".indexOf),m=r("".replace),y=r("".slice),b=(e=/b*/g,n(h,t=/a/,"a"),n(h,e,"a"),0!==t.lastIndex||0!==e.lastIndex),w=a.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];return(b||x||w||c||f)&&(p=function(t){var e,r,a,s,c,f,S,O=this,E=l(O),k=o(t),C=E.raw;if(C)return C.lastIndex=O.lastIndex,e=n(p,C,k),O.lastIndex=C.lastIndex,e;var N=E.groups,T=w&&O.sticky,L=n(i,O),M=O.source,P=0,R=k;if(T&&(L=m(L,"y",""),-1===v(L,"g")&&(L+="g"),R=y(k,O.lastIndex),O.lastIndex>0&&(!O.multiline||O.multiline&&"\n"!==g(k,O.lastIndex-1))&&(M="(?: "+M+")",R=" "+R,P++),r=new RegExp("^(?:"+M+")",L)),x&&(r=new RegExp("^"+M+"$(?!\\s)",L)),b&&(a=O.lastIndex),s=n(h,T?r:O,R),T?s?(s.input=y(s.input,P),s[0]=y(s[0],P),s.index=O.lastIndex,O.lastIndex+=s[0].length):O.lastIndex=0:b&&s&&(O.lastIndex=O.global?s.index+s[0].length:a),x&&s&&s.length>1&&n(d,s[0],r,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(s[c]=void 0)}),s&&N)for(s.groups=f=u(null),c=0;c<N.length;c++)f[(S=N[c])[0]]=s[S[1]];return s}),Yu=p}function al(){if(Qu)return tl;Qu=1;var t=no(),e=il();return t({target:"RegExp",proto:!0,forced:/./.exec!==e},{exec:e}),tl}al();var sl,ul,ll,cl,fl,dl,hl,pl,gl,vl,ml,yl={};function bl(){if(ul)return sl;ul=1,al();var t=wt(),e=Yn(),n=il(),r=mt(),o=ln(),i=Cn(),a=o("species"),s=RegExp.prototype;return sl=function(u,l,c,f){var d=o(u),h=!r(function(){var t={};return t[d]=function(){return 7},7!==""[u](t)}),p=h&&!r(function(){var t=!1,e=/a/;return"split"===u&&((e={}).constructor={},e.constructor[a]=function(){return e},e.flags="",e[d]=/./[d]),e.exec=function(){return t=!0,null},e[d](""),!t});if(!h||!p||c){var g=/./[d],v=l(d,""[u],function(e,r,o,i,a){var u=r.exec;return u===n||u===s.exec?h&&!a?{done:!0,value:t(g,r,o,i)}:{done:!0,value:t(e,o,r,i)}:{done:!1}});e(String.prototype,u,v[0]),e(s,d,v[1])}f&&i(s[d],"sham",!0)},sl}function wl(){if(cl)return ll;cl=1;var t=uo(),e=Ce(),n=TypeError;return ll=function(r){if(t(r))return r;throw new n(e(r)+" is not a constructor")}}function xl(){if(dl)return fl;dl=1;var t=En(),e=wl(),n=pe(),r=ln()("species");return fl=function(o,i){var a,s=t(o).constructor;return void 0===s||n(a=t(s)[r])?i:e(a)}}function Sl(){if(pl)return hl;pl=1;var t=ga().charAt;return hl=function(e,n,r){return n+(r?t(e,n).length:1)}}function Ol(){if(vl)return gl;vl=1;var t=wt(),e=En(),n=me(),r=de(),o=il(),i=TypeError;return gl=function(a,s){var u=a.exec;if(n(u)){var l=t(u,a,s);return null!==l&&e(l),l}if("RegExp"===r(a))return t(o,a,s);throw new i("RegExp#exec called on incompatible receiver")}}!function(){if(ml)return yl;ml=1;var t=wt(),e=fe(),n=bl(),r=En(),o=ye(),i=ge(),a=xl(),s=Sl(),u=mr(),l=pa(),c=Te(),f=Ol(),d=nl(),h=mt(),p=d.UNSUPPORTED_Y,g=Math.min,v=e([].push),m=e("".slice),y=!h(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),b="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;n("split",function(e,n,d){var h="0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t(n,this,e,r)}:n;return[function(n,r){var a=i(this),s=o(n)?c(n,e):void 0;return s?t(s,n,a,r):t(h,l(a),n,r)},function(t,e){var o=r(this),i=l(t);if(!b){var c=d(h,o,i,e,h!==n);if(c.done)return c.value}var y=a(o,RegExp),w=o.unicode,x=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(p?"g":"y"),S=new y(p?"^(?:"+o.source+")":o,x),O=void 0===e?4294967295:e>>>0;if(0===O)return[];if(0===i.length)return null===f(S,i)?[i]:[];for(var E=0,k=0,C=[];k<i.length;){S.lastIndex=p?0:k;var N,T=f(S,p?m(i,k):i);if(null===T||(N=g(u(S.lastIndex+(p?k:0)),i.length))===E)k=s(i,k,w);else{if(v(C,m(i,E,k)),C.length===O)return C;for(var L=1;L<=T.length-1;L++)if(v(C,T[L]),C.length===O)return C;k=E=N}}return v(C,m(i,E)),C}]},b||!y,p)}();var El,kl={};!function(){if(El)return kl;El=1;var t=no(),e=zo().find,n=Xi(),r="find",o=!0;r in[]&&Array(1)[r](function(){o=!1}),t({target:"Array",proto:!0,forced:o},{find:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),n(r)}();var Cl,Nl,Tl,Ll={};!function(){if(Tl)return Ll;Tl=1;var t=no(),e=function(){if(Nl)return Cl;Nl=1;var t=ro(),e=yr(),n=oo(),r=Wo(),o=function(i,a,s,u,l,c,f,d){for(var h,p,g=l,v=0,m=!!f&&r(f,d);v<u;)v in s&&(h=m?m(s[v],v,a):s[v],c>0&&t(h)?(p=e(h),g=o(i,a,h,p,g,c-1)-1):(n(g+1),i[g]=h),g++),v++;return g};return Cl=o}(),n=Ne(),r=an(),o=yr(),i=co();t({target:"Array",proto:!0},{flatMap:function(t){var a,s=r(this),u=o(s);return n(t),(a=i(s,0)).length=e(a,s,s,u,0,1,t,arguments.length>1?arguments[1]:void 0),a}})}();var Ml;Ml||(Ml=1,Xi()("flatMap"));var Pl,Rl,Dl={};Rl||(Rl=1,function(){if(Pl)return Dl;Pl=1;var t=no(),e=st();t({global:!0,forced:e.globalThis!==e},{globalThis:e})}());const Al=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];var jl,Il,$l,Fl,Bl,_l,Wl,zl,Ul,Vl,Hl,Kl,Jl,ql,Gl,Yl,Xl,Ql,Zl,tc,ec,nc,rc,oc,ic,ac,sc,uc,lc,cc,fc,dc,hc={};function pc(){if(Il)return jl;Il=1;var t=st(),e=xe(),n=de(),r=function(t){return e.slice(0,t.length)===t};return jl=r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":t.Bun&&"string"==typeof Bun.version?"BUN":t.Deno&&"object"==typeof Deno.version?"DENO":"process"===n(t.process)?"NODE":t.window&&t.document?"BROWSER":"REST"}function gc(){if(Fl)return $l;Fl=1;var t=pc();return $l="NODE"===t}function vc(){if(_l)return Bl;_l=1;var t=st();return Bl=t}function mc(){if(zl)return Wl;zl=1;var t=bt(),e=Function.prototype,n=e.apply,r=e.call;return Wl="object"==typeof Reflect&&Reflect.apply||(t?r.bind(n):function(){return r.apply(n,arguments)}),Wl}function yc(){if(Vl)return Ul;Vl=1;var t=TypeError;return Ul=function(e,n){if(e<n)throw new t("Not enough arguments");return e}}function bc(){if(Kl)return Hl;Kl=1;var t=xe();return Hl=/(?:ipad|iphone|ipod).*applewebkit/i.test(t)}function wc(){if(ql)return Jl;ql=1;var t,e,n,r,o=st(),i=mc(),a=Wo(),s=me(),u=sn(),l=mt(),c=Gi(),f=es(),d=dn(),h=yc(),p=bc(),g=gc(),v=o.setImmediate,m=o.clearImmediate,y=o.process,b=o.Dispatch,w=o.Function,x=o.MessageChannel,S=o.String,O=0,E={},k="onreadystatechange";l(function(){t=o.location});var C=function(t){if(u(E,t)){var e=E[t];delete E[t],e()}},N=function(t){return function(){C(t)}},T=function(t){C(t.data)},L=function(e){o.postMessage(S(e),t.protocol+"//"+t.host)};return v&&m||(v=function(t){h(arguments.length,1);var n=s(t)?t:w(t),r=f(arguments,1);return E[++O]=function(){i(n,void 0,r)},e(O),O},m=function(t){delete E[t]},g?e=function(t){y.nextTick(N(t))}:b&&b.now?e=function(t){b.now(N(t))}:x&&!p?(r=(n=new x).port2,n.port1.onmessage=T,e=a(r.postMessage,r)):o.addEventListener&&s(o.postMessage)&&!o.importScripts&&t&&"file:"!==t.protocol&&!l(L)?(e=L,o.addEventListener("message",T,!1)):e=k in d("script")?function(t){c.appendChild(d("script"))[k]=function(){c.removeChild(this),C(t)}}:function(t){setTimeout(N(t),0)}),Jl={set:v,clear:m}}function xc(){if(Yl)return Gl;Yl=1;var t=st(),e=yt(),n=Object.getOwnPropertyDescriptor;return Gl=function(r){if(!e)return t[r];var o=n(t,r);return o&&o.value}}function Sc(){if(Ql)return Xl;Ql=1;var t=function(){this.head=null,this.tail=null};return t.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},Xl=t}function Oc(){if(oc)return rc;oc=1;var t,e,n,r,o,i=st(),a=xc(),s=Wo(),u=wc().set,l=Sc(),c=bc(),f=function(){if(tc)return Zl;tc=1;var t=xe();return Zl=/ipad|iphone|ipod/i.test(t)&&"undefined"!=typeof Pebble}(),d=function(){if(nc)return ec;nc=1;var t=xe();return ec=/web0s(?!.*chrome)/i.test(t)}(),h=gc(),p=i.MutationObserver||i.WebKitMutationObserver,g=i.document,v=i.process,m=i.Promise,y=a("queueMicrotask");if(!y){var b=new l,w=function(){var e,n;for(h&&(e=v.domain)&&e.exit();n=b.get();)try{n()}catch(e){throw b.head&&t(),e}e&&e.enter()};c||h||d||!p||!g?!f&&m&&m.resolve?((r=m.resolve(void 0)).constructor=m,o=s(r.then,r),t=function(){o(w)}):h?t=function(){v.nextTick(w)}:(u=s(u,i),t=function(){u(w)}):(e=!0,n=g.createTextNode(""),new p(w).observe(n,{characterData:!0}),t=function(){n.data=e=!e}),y=function(e){b.head||t(),b.add(e)}}return rc=y}function Ec(){return ac||(ac=1,ic=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}),ic}function kc(){return uc?sc:(uc=1,sc=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}})}function Cc(){if(cc)return lc;cc=1;var t=st();return lc=t.Promise}function Nc(){if(dc)return fc;dc=1;var t=st(),e=Cc(),n=me(),r=eo(),o=Vn(),i=ln(),a=pc(),s=en(),u=Se(),l=e&&e.prototype,c=i("species"),f=!1,d=n(t.PromiseRejectionEvent),h=r("Promise",function(){var t=o(e),n=t!==String(e);if(!n&&66===u)return!0;if(s&&(!l.catch||!l.finally))return!0;if(!u||u<51||!/native code/.test(t)){var r=new e(function(t){t(1)}),i=function(t){t(function(){},function(){})};if((r.constructor={})[c]=i,!(f=r.then(function(){})instanceof i))return!0}return!(n||"BROWSER"!==a&&"DENO"!==a||d)});return fc={CONSTRUCTOR:h,REJECTION_EVENT:d,SUBCLASSING:f}}var Tc,Lc,Mc={};function Pc(){if(Tc)return Mc;Tc=1;var t=Ne(),e=TypeError,n=function(n){var r,o;this.promise=new n(function(t,n){if(void 0!==r||void 0!==o)throw new e("Bad Promise constructor");r=t,o=n}),this.resolve=t(r),this.reject=t(o)};return Mc.f=function(t){return new n(t)},Mc}var Rc,Dc,Ac,jc={};function Ic(){if(Dc)return Rc;Dc=1;var t=Cc(),e=fs(),n=Nc().CONSTRUCTOR;return Rc=n||!e(function(e){t.all(e).then(void 0,function(){})})}var $c,Fc={};var Bc,_c={};var Wc,zc={};var Uc,Vc,Hc,Kc,Jc={};function qc(){if(Vc)return Uc;Vc=1;var t=En(),e=ye(),n=Pc();return Uc=function(r,o){if(t(r),e(o)&&o.constructor===r)return o;var i=n.f(r);return(0,i.resolve)(o),i.promise}}Kc||(Kc=1,function(){if(Lc)return hc;Lc=1;var t,e,n,r,o=no(),i=en(),a=gc(),s=st(),u=vc(),l=wt(),c=Yn(),f=oa(),d=ea(),h=Wu(),p=Ne(),g=me(),v=ye(),m=cs(),y=xl(),b=wc().set,w=Oc(),x=Ec(),S=kc(),O=Sc(),E=qn(),k=Cc(),C=Nc(),N=Pc(),T="Promise",L=C.CONSTRUCTOR,M=C.REJECTION_EVENT,P=C.SUBCLASSING,R=E.getterFor(T),D=E.set,A=k&&k.prototype,j=k,I=A,$=s.TypeError,F=s.document,B=s.process,_=N.f,W=_,z=!!(F&&F.createEvent&&s.dispatchEvent),U="unhandledrejection",V=function(t){var e;return!(!v(t)||!g(e=t.then))&&e},H=function(t,e){var n,r,o,i=e.value,a=1===e.state,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,f=t.domain;try{s?(a||(2===e.rejection&&Y(e),e.rejection=1),!0===s?n=i:(f&&f.enter(),n=s(i),f&&(f.exit(),o=!0)),n===t.promise?c(new $("Promise-chain cycle")):(r=V(n))?l(r,n,u,c):u(n)):c(i)}catch(t){f&&!o&&f.exit(),c(t)}},K=function(t,e){t.notified||(t.notified=!0,w(function(){for(var n,r=t.reactions;n=r.get();)H(n,t);t.notified=!1,e&&!t.rejection&&q(t)}))},J=function(t,e,n){var r,o;z?((r=F.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:e,reason:n},!M&&(o=s["on"+t])?o(r):t===U&&x("Unhandled promise rejection",n)},q=function(t){l(b,s,function(){var e,n=t.facade,r=t.value;if(G(t)&&(e=S(function(){a?B.emit("unhandledRejection",r,n):J(U,n,r)}),t.rejection=a||G(t)?2:1,e.error))throw e.value})},G=function(t){return 1!==t.rejection&&!t.parent},Y=function(t){l(b,s,function(){var e=t.facade;a?B.emit("rejectionHandled",e):J("rejectionhandled",e,t.value)})},X=function(t,e,n){return function(r){t(e,r,n)}},Q=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,K(t,!0))},Z=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new $("Promise can't be resolved itself");var r=V(e);r?w(function(){var n={done:!1};try{l(r,e,X(Z,n,t),X(Q,n,t))}catch(e){Q(n,e,t)}}):(t.value=e,t.state=1,K(t,!1))}catch(e){Q({done:!1},e,t)}}};if(L&&(I=(j=function(e){m(this,I),p(e),l(t,this);var n=R(this);try{e(X(Z,n),X(Q,n))}catch(t){Q(n,t)}}).prototype,(t=function(t){D(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:0,value:null})}).prototype=c(I,"then",function(t,e){var n=R(this),r=_(y(this,j));return n.parent=!0,r.ok=!g(t)||t,r.fail=g(e)&&e,r.domain=a?B.domain:void 0,0===n.state?n.reactions.add(r):w(function(){H(r,n)}),r.promise}),e=function(){var e=new t,n=R(e);this.promise=e,this.resolve=X(Z,n),this.reject=X(Q,n)},N.f=_=function(t){return t===j||t===n?new e(t):W(t)},!i&&g(k)&&A!==Object.prototype)){r=A.then,P||c(A,"then",function(t,e){var n=this;return new j(function(t,e){l(r,n,t,e)}).then(t,e)},{unsafe:!0});try{delete A.constructor}catch(t){}f&&f(A,I)}o({global:!0,constructor:!0,wrap:!0,forced:L},{Promise:j}),n=u.Promise,d(j,T,!1,!0),h(T)}(),function(){if(Ac)return jc;Ac=1;var t=no(),e=wt(),n=Ne(),r=Pc(),o=kc(),i=ls();t({target:"Promise",stat:!0,forced:Ic()},{all:function(t){var a=this,s=r.f(a),u=s.resolve,l=s.reject,c=o(function(){var r=n(a.resolve),o=[],s=0,c=1;i(t,function(t){var n=s++,i=!1;c++,e(r,a,t).then(function(t){i||(i=!0,o[n]=t,--c||u(o))},l)}),--c||u(o)});return c.error&&l(c.value),s.promise}})}(),function(){if($c)return Fc;$c=1;var t=no(),e=en(),n=Nc().CONSTRUCTOR,r=Cc(),o=be(),i=me(),a=Yn(),s=r&&r.prototype;if(t({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(t){return this.then(void 0,t)}}),!e&&i(r)){var u=o("Promise").prototype.catch;s.catch!==u&&a(s,"catch",u,{unsafe:!0})}}(),function(){if(Bc)return _c;Bc=1;var t=no(),e=wt(),n=Ne(),r=Pc(),o=kc(),i=ls();t({target:"Promise",stat:!0,forced:Ic()},{race:function(t){var a=this,s=r.f(a),u=s.reject,l=o(function(){var r=n(a.resolve);i(t,function(t){e(r,a,t).then(s.resolve,u)})});return l.error&&u(l.value),s.promise}})}(),function(){if(Wc)return zc;Wc=1;var t=no(),e=Pc();t({target:"Promise",stat:!0,forced:Nc().CONSTRUCTOR},{reject:function(t){var n=e.f(this);return(0,n.reject)(t),n.promise}})}(),function(){if(Hc)return Jc;Hc=1;var t=no(),e=be(),n=en(),r=Cc(),o=Nc().CONSTRUCTOR,i=qc(),a=e("Promise"),s=n&&!o;t({target:"Promise",stat:!0,forced:n||o},{resolve:function(t){return i(s&&this===a?r:this,t)}})}());var Gc,Yc,Xc,Qc,Zc,tf={};function ef(){if(Qc)return Xc;Qc=1;var t=wt(),e=sn(),n=we(),r=function(){if(Yc)return Gc;Yc=1;var t=st(),e=mt(),n=t.RegExp,r=!e(function(){var t=!0;try{n(".","d")}catch(e){t=!1}var e={},r="",o=t?"dgimsy":"gimsy",i=function(t,n){Object.defineProperty(e,t,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in t&&(a.hasIndices="d"),a)i(s,a[s]);return Object.getOwnPropertyDescriptor(n.prototype,"flags").get.call(e)!==o||r!==o});return Gc={correct:r}}(),o=el(),i=RegExp.prototype;return Xc=r.correct?function(t){return t.flags}:function(a){return r.correct||!n(i,a)||e(a,"flags")?a.flags:t(o,a)}}!function(){if(Zc)return tf;Zc=1;var t=Un().PROPER,e=Yn(),n=En(),r=pa(),o=mt(),i=ef(),a="toString",s=RegExp.prototype,u=s[a],l=o(function(){return"/a/b"!==u.call({source:"a",flags:"b"})}),c=t&&u.name!==a;(l||c)&&e(s,a,function(){var t=n(this);return"/"+r(t.source)+"/"+r(i(t))},{unsafe:!0})}();var nf,rf,of,af={};function sf(){if(rf)return nf;rf=1;var t=fe(),e=an(),n=Math.floor,r=t("".charAt),o=t("".replace),i=t("".slice),a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;return nf=function(t,u,l,c,f,d){var h=l+t.length,p=c.length,g=s;return void 0!==f&&(f=e(f),g=a),o(d,g,function(e,o){var a;switch(r(o,0)){case"$":return"$";case"&":return t;case"`":return i(u,0,l);case"'":return i(u,h);case"<":a=f[i(o,1,-1)];break;default:var s=+o;if(0===s)return e;if(s>p){var d=n(s/10);return 0===d?e:d<=p?void 0===c[d-1]?r(o,1):c[d-1]+r(o,1):e}a=c[s-1]}return void 0===a?"":a})},nf}function uf(t){Promise.resolve().then(t)}!function(){if(of)return af;of=1;var t=mc(),e=wt(),n=fe(),r=bl(),o=mt(),i=En(),a=me(),s=ye(),u=gr(),l=mr(),c=pa(),f=ge(),d=Sl(),h=Te(),p=sf(),g=ef(),v=Ol(),m=ln()("replace"),y=Math.max,b=Math.min,w=n([].concat),x=n([].push),S=n("".indexOf),O=n("".slice),E=function(t){return void 0===t?t:String(t)},k="$0"==="a".replace(/./,"$0"),C=!!/./[m]&&""===/./[m]("a","$0");r("replace",function(n,r,o){var k=C?"$":"$0";return[function(t,n){var o=f(this),i=s(t)?h(t,m):void 0;return i?e(i,t,o,n):e(r,c(o),t,n)},function(e,n){var s=i(this),f=c(e);if("string"==typeof n&&-1===S(n,k)&&-1===S(n,"$<")){var h=o(r,s,f,n);if(h.done)return h.value}var m=a(n);m||(n=c(n));var C,N=c(g(s)),T=-1!==S(N,"g");T&&(C=-1!==S(N,"u"),s.lastIndex=0);for(var L,M=[];null!==(L=v(s,f))&&(x(M,L),T);){""===c(L[0])&&(s.lastIndex=d(f,l(s.lastIndex),C))}for(var P="",R=0,D=0;D<M.length;D++){for(var A,j=c((L=M[D])[0]),I=y(b(u(L.index),f.length),0),$=[],F=1;F<L.length;F++)x($,E(L[F]));var B=L.groups;if(m){var _=w([j],$,I,f);void 0!==B&&x(_,B),A=c(t(n,void 0,_))}else A=p(j,f,I,$,B,n);I>=R&&(P+=O(f,R,I)+A,R=I+j.length)}return P+O(f,R)}]},!!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})||!k||C)}();var lf,cf=function(t){return Object.prototype.toString.call(t)},ff=globalThis.Node,df=globalThis.Comment,hf=globalThis.Element,pf=globalThis.Text,gf=globalThis.Range,vf=globalThis.Selection,mf=globalThis.StaticRange;h&&(d.fn.css=h),p&&(d.fn.append=p),g&&(d.fn.addClass=g),v&&(d.fn.removeClass=v),m&&(d.fn.hasClass=m),y&&(d.fn.on=y),b&&(d.fn.focus=b),w&&(d.fn.attr=w),x&&(d.fn.removeAttr=x),S&&(d.fn.hide=S),O&&(d.fn.show=O),E&&(d.fn.offset=E),k&&(d.fn.width=k),C&&(d.fn.height=C),N&&(d.fn.parent=N),T&&(d.fn.parents=T),L&&(d.fn.is=L),M&&(d.fn.dataset=M),P&&(d.fn.val=P),R&&(d.fn.text=R),D&&(d.fn.html=D),A&&(d.fn.children=A),j&&(d.fn.remove=j),I&&(d.fn.find=I),$&&(d.fn.each=$),F&&(d.fn.empty=F),function(t){t[t.ELEMENT_NODE=1]="ELEMENT_NODE",t[t.TEXT_NODE=3]="TEXT_NODE",t[t.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",t[t.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",t[t.COMMENT_NODE=8]="COMMENT_NODE",t[t.DOCUMENT_NODE=9]="DOCUMENT_NODE",t[t.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",t[t.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"}(lf||(lf={}));var yf=function(t){return"[object HTMLDocument]"===cf(t)},bf=function(t){return"[object ShadowRoot]"===cf(t)},wf=function(t){return"[object DataTransfer]"===cf(t)},xf=/\[object HTML([A-Z][a-z]*)*Element\]/,Sf=function(t){return"matches"in t&&/^[ou]l$/i.test(t.tagName)&&!t.hasAttribute("data-w-e-type")},Of=function(t){return xf.test(cf(t))},Ef=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||null},kf=function(t){return null!=t&&"number"==typeof t.nodeType},Cf=function(t){return kf(t)&&t.nodeType===lf.COMMENT_NODE},Nf=function(t){return kf(t)&&t.nodeType===lf.ELEMENT_NODE},Tf=function(t){return"[object Selection]"===cf(t)},Lf=function(t){return kf(t)&&t.nodeType===lf.TEXT_NODE},Mf=function(t){return t.clipboardData&&""!==t.clipboardData.getData("text/plain")&&1===t.clipboardData.types.length},Pf=function(t){var e,n=ni(t,2),r=n[0],o=n[1];if(Nf(r)&&r.childNodes.length){var i=o===r.childNodes.length,a=i?o-1:o;for(r=(e=ni(Af(r,a,i?"backward":"forward"),2))[0],i=(a=e[1])<o;Nf(r)&&r.childNodes.length;){var s=i?r.childNodes.length-1:0;r=jf(r,s,i?"backward":"forward")}o=i&&null!=r.textContent?r.textContent.length:0}return[r,o]},Rf=function(){return!(!window.document.activeElement||!window.document.activeElement.shadowRoot)},Df=function(t){var e,n,r;return null!==(e=window&&window.document.getElementById(t))&&void 0!==e?e:window&&(null===(r=null===(n=window.document.activeElement)||void 0===n?void 0:n.shadowRoot)||void 0===r?void 0:r.getElementById(t))||null},Af=function(t,e,n){for(var r=t.childNodes,o=r[e],i=e,a=!1,s=!1;(Cf(o)||Nf(o)&&0===o.childNodes.length||Nf(o)&&"false"===o.getAttribute("contenteditable"))&&(!a||!s);)i>=r.length?(a=!0,i=e-1,n="backward"):i<0?(s=!0,i=e+1,n="forward"):(o=r[i],e=i,i+="forward"===n?1:-1);return[o,e]},jf=function(t,e,n){return ni(Af(t,e,n),1)[0]},If=function(t){var e,n,r="";if(Lf(t)&&t.nodeValue)return t.nodeValue;if(Nf(t)){try{for(var o=ei(Array.from(t.childNodes)),i=o.next();!i.done;i=o.next()){var a=i.value;r+=If(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}var s=getComputedStyle(t).getPropertyValue("display");"block"!==s&&"list"!==s&&"table-row"!==s&&"BR"!==t.tagName||(r+="\n")}return r};function $f(t){var e=[];e.push(t);for(var n=0;e.length>0;){var r=e.pop();if(null==r)break;if((n+=1)>1e4)break;var o=r.nodeName;if(r.nodeType===lf.ELEMENT_NODE){var i=o.toLowerCase();if(Al.includes(i)||"iframe"===i||"video"===i)return r;var a=r.children||[],s=a.length;if(s)for(var u=s-1;u>=0;u-=1)e.push(a[u])}}return null}function Ff(t,e){if(!Of(t)||"true"!==t.dataset.slateVoid)for(var n=t.childNodes,r=n.length;r-=1;){var o=n[r],i=o.nodeType;Lf(o)?e(o,t):[lf.ELEMENT_NODE,lf.DOCUMENT_NODE,lf.DOCUMENT_FRAGMENT_NODE].includes(i)&&Ff(o,e)}}function Bf(t){if(0===t.length)return"";var e=t[0];return e.nodeType!==lf.ELEMENT_NODE?"":e.tagName.toLowerCase()}var _f,Wf,zf,Uf={};function Vf(){if(Wf)return _f;Wf=1;var t=kn().f;return _f=function(e,n,r){r in e||t(e,r,{configurable:!0,get:function(){return n[r]},set:function(t){n[r]=t}})}}!function(){if(zf)return Uf;zf=1;var t=yt(),e=st(),n=fe(),r=eo(),o=ds(),i=Cn(),a=Yi(),s=Sr().f,u=we(),l=pu(),c=pa(),f=ef(),d=nl(),h=Vf(),p=Yn(),g=mt(),v=sn(),m=qn().enforce,y=Wu(),b=ln(),w=rl(),x=ol(),S=b("match"),O=e.RegExp,E=O.prototype,k=e.SyntaxError,C=n(E.exec),N=n("".charAt),T=n("".replace),L=n("".indexOf),M=n("".slice),P=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,R=/a/g,D=/a/g,A=new O(R)!==R,j=d.MISSED_STICKY,I=d.UNSUPPORTED_Y,$=t&&(!A||j||w||x||g(function(){return D[S]=!1,O(R)!==R||O(D)===D||"/a/i"!==String(O(R,"i"))}));if(r("RegExp",$)){for(var F=function(t,e){var n,r,s,d,h,p,g=u(E,this),y=l(t),b=void 0===e,S=[],D=t;if(!g&&y&&b&&t.constructor===F)return t;if((y||u(E,t))&&(t=t.source,b&&(e=f(D))),t=void 0===t?"":c(t),e=void 0===e?"":c(e),D=t,w&&"dotAll"in R&&(r=!!e&&L(e,"s")>-1)&&(e=T(e,/s/g,"")),n=e,j&&"sticky"in R&&(s=!!e&&L(e,"y")>-1)&&I&&(e=T(e,/y/g,"")),x&&(d=function(t){for(var e,n=t.length,r=0,o="",i=[],s=a(null),u=!1,l=!1,c=0,f="";r<=n;r++){if("\\"===(e=N(t,r)))e+=N(t,++r);else if("]"===e)u=!1;else if(!u)switch(!0){case"["===e:u=!0;break;case"("===e:if(o+=e,"?:"===M(t,r+1,r+3))continue;C(P,M(t,r+1))&&(r+=2,l=!0),c++;continue;case">"===e&&l:if(""===f||v(s,f))throw new k("Invalid capture group name");s[f]=!0,i[i.length]=[f,c],l=!1,f="";continue}l?f+=e:o+=e}return[o,i]}(t),t=d[0],S=d[1]),h=o(O(t,e),g?this:E,F),(r||s||S.length)&&(p=m(h),r&&(p.dotAll=!0,p.raw=F(function(t){for(var e,n=t.length,r=0,o="",i=!1;r<=n;r++)"\\"!==(e=N(t,r))?i||"."!==e?("["===e?i=!0:"]"===e&&(i=!1),o+=e):o+="[\\s\\S]":o+=e+N(t,++r);return o}(t),n)),s&&(p.sticky=!0),S.length&&(p.groups=S)),t!==D)try{i(h,"source",""===D?"(?:)":D)}catch(t){}return h},B=s(O),_=0;B.length>_;)h(F,O,B[_++]);E.constructor=F,F.prototype=E,p(e,"RegExp",F,{constructor:!0})}y("RegExp")}();var Hf=new RegExp(String.fromCharCode(160),"g");function Kf(t){return t.replace(Hf," ")}var Jf=["span","b","strong","i","em","s","strike","u","font","sub","sup"],qf=[];function Gf(t){qf.push(t)}var Yf=[];function Xf(t){Yf.push(t)}var Qf={};function Zf(t){var e=t.selector,n=t.parseElemHtml;Qf[e]=n}function td(t,e){var n=t.length;if(n){var r=t[n-1];if(o.isText(r)){var i=Object.keys(r);if(1===i.length&&"text"===i[0])return r.text+=e,!0}}return!1}function ed(t,e,n){return{type:"paragraph",children:[{text:d(t).text().replace(/\s+/gm," ")}]}}function nd(t,n){var r=function(t,e){var n=[];if(null!=t.attr("data-w-e-is-void"))return n;var r=t[0].childNodes;return 1===r.length&&"BR"===r[0].nodeName?(n.push({text:""}),n):(r.forEach(function(t){if(Nf(t)){if("BR"===t.nodeName)return void(td(n,"\n")||n.push({text:"\n"}));var r=od(d(t),e);Array.isArray(r)?r.forEach(function(t){return n.push(t)}):n.push(r)}else if(Lf(t)){var o=t.textContent||"";if(""===o.trim()&&o.indexOf("\n")>=0)return;o&&(o=Kf(o),td(n,o)||n.push({text:o}))}}),n)}(t,n),o=function(t){for(var e in Qf)if(t[0].matches(e))return Qf[e];return ed}(t),i=o(t[0],r,n);return Array.isArray(i)||(i=[i]),i.forEach(function(o){e.isVoid(n,o)||(0===r.length&&(o.children=[{text:t.text().replace(/\s+/gm," ")}]),Yf.forEach(function(e){o=e(t[0],o,n)}))}),i}function rd(t,e){0===t.parents("pre").length&&(t[0].innerHTML=t[0].innerHTML.replace(/\s+/gm," ").replace(/<br>/g,"\n"));var n=t[0].textContent||"";n=function(t){return t.replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&reg;/g,"®").replace(/&copy;/g,"©").replace(/&trade;/g,"™").replace(/&quot;/g,'"')}(n);var r={text:n=Kf(n)};return Yf.forEach(function(n){r=n(t[0],r,e)}),r}function od(t,e){qf.forEach(function(e){var n=e.selector,r=e.preParseHtml;t[0].matches(n)&&(t=d(r(t[0])))});var n=Bf(t);if("span"===n){if(t.attr("data-w-e-type"))return nd(t,e);var r=t.find("img, a").length>0;if(t[0].childNodes.length>1||r){var o=t[0].childNodes,i=function(t,e){var n={text:""};return Yf.forEach(function(r){n=r(t[0],n,e)}),n}(d(t[0]),e);return Array.from(o).flatMap(function(t){var n=function(t,e,n){var r=t[0];if(Nf(r)){var o=od(t,n);return delete e.text,Array.isArray(o)?o.map(function(t){return ti(ti({},e),t)}):[ti(ti({},e),o)]}if(Cf(r))return null;var i=Lf(r)?{text:r.textContent||""}:rd(t,n);return[ti(ti({},e),i)]}(d(t),i,e);return n||[]})}return rd(t,e)}if("code"===n)return"pre"===Bf(t.parent())?nd(t,e):rd(t,e);if(Jf.includes(n)){if(t[0].childNodes.length>0&&t[0].childNodes[0].nodeType!==Node.TEXT_NODE){o=t[0].childNodes;return ti(ti({},od(d(o[0]),e)),rd(t,e))}return rd(t,e)}return nd(t,e)}function id(t,e,n){var r=d(n);return!!r.attr(e)||(r.attr(e,"true"),t.on(ai,function(){r.removeAttr(e)}),!1)}function ad(t,e){void 0===e&&(e="");var n=[];""===e&&(e="<p><br></p>"),0!==e.indexOf("<")&&(e=e.split(/\n/).map(function(t){return"<p>".concat(t,"</p>")}).join(""));var r=d("<div>".concat(e,"</div>"));return Array.from(r.children()).forEach(function(e){var r=od(d(e),t);Array.isArray(r)?r.forEach(function(t){return n.push(t)}):n.push(r)}),n}function sd(t,e){return"w-e-element-".concat(t,"-").concat(e)}var ud=[];function ld(t){ud.push(t)}var cd={};function fd(t){var e=t.type,n=t.elemToHtml;cd[e||""]=n}function dd(t,e,n){var r=n.isInline(t)?"span":"div";return"<".concat(r,">").concat(e,"</").concat(r,">")}function hd(t,n){var r=t.type,o=void 0===r?"":r,i=t.children,a=void 0===i?[]:i,s=e.isVoid(n,t),u="";s||(u=a.map(function(t){return Pd(t,n)}).join(""));var l=function(t){return cd[t]||dd}(o),c=l(t,u,n),f="";if(f="string"==typeof c?c:c.html||"",s||ud.forEach(function(e){return f=e(t,f)}),"string"==typeof c)return f;var d=c.prefix,h=void 0===d?"":d,p=c.suffix,g=void 0===p?"":p;return h&&(f=h+f),g&&(f+=g),f}var pd,gd,vd,md={};function yd(){if(gd)return pd;gd=1;var t=sn();return pd=function(e){return void 0!==e&&(t(e,"value")||t(e,"writable"))}}!function(){if(vd)return md;vd=1;var t=no(),e=wt(),n=ye(),r=En(),o=yd(),i=pn(),a=Zi();t({target:"Reflect",stat:!0},{get:function t(s,u){var l,c,f=arguments.length<3?s:arguments[2];return r(s)===f?s[u]:(l=i.f(s,u))?o(l)?l.value:void 0===l.get?void 0:e(l.get,f):n(c=a(s))?t(c,u,f):void 0}})}();var bd,wd={};!function(){if(bd)return wd;bd=1;var t,e=no(),n=_o(),r=pn().f,o=mr(),i=pa(),a=gu(),s=ge(),u=vu(),l=en(),c=n("".slice),f=Math.min,d=u("endsWith");e({target:"String",proto:!0,forced:!!(l||d||(t=r(String.prototype,"endsWith"),!t||t.writable))&&!d},{endsWith:function(t){var e=i(s(this));a(t);var n=arguments.length>1?arguments[1]:void 0,r=e.length,u=void 0===n?r:f(o(n),r),l=i(t);return c(e,u-l.length,u)===l}})}();var xd=0,Sd=function(){this.id="".concat(xd++)},Od="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),Ed="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),kd="undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Cd="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Nd="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Td="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),Ld=!Nd&&!Cd&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,Md={getWindow:function(t){var e=_s.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e},findKey:function(t,e){var n=Bs.get(e);return n||(n=new Sd,Bs.set(e,n)),n},setNewKey:function(t){var e=new Sd;Bs.set(t,e)},findPath:function(t,n){for(var r=[],o=n;;){var i=As.get(o);if(null==i){if(e.isEditor(o))return r;break}var a=Ds.get(o);if(null==a)break;r.unshift(a),o=i}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(n)))},findDocumentOrShadowRoot:function(t){if(t.isDestroyed)return window.document;var e=Md.toDOMNode(t,t),n=e.getRootNode();return(yf(n)||bf(n))&&null!=Reflect.get(n,"getSelection")?n:e.ownerDocument},getParentNode:function(t,e){return As.get(e)||null},getParentsNodes:function(t,e){for(var n=[],r=e;r!==t&&null!=r;){var o=Md.getParentNode(t,r);if(null==o)break;n.push(o),r=o}return n},getTopNode:function(t,e){var n=[Md.findPath(t,e)[0]];return s.get(t,n)},toDOMNode:function(t,n){var r;if(e.isEditor(n))r=js.get(t);else{var o=Md.findKey(t,n);r=$s.get(o)}if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(n)));return r},hasDOMNode:function(t,e,n){void 0===n&&(n={});var r,o=n.editable,i=void 0!==o&&o,a=Md.toDOMNode(t,t);try{r=Nf(e)?e:e.parentElement}catch(t){if(t instanceof Error&&!t.message.includes('Permission denied to access property "nodeType"'))throw t}return!!r&&(r.closest("[data-slate-editor]")===a&&(!i||r.isContentEditable||!!r.getAttribute("data-slate-zero-width"))||!!r.getAttribute("data-slate-string"))},toDOMRange:function(t,e){var n=e.anchor,r=e.focus,o=i.isBackward(e),a=Md.toDOMPoint(t,n),s=i.isCollapsed(e)?a:Md.toDOMPoint(t,r),u=Md.getWindow(t).document.createRange(),l=ni(o?s:a,2),c=l[0],f=l[1],d=ni(o?a:s,2),h=d[0],p=d[1],g=!!(Nf(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),v=!!(Nf(h)?h:h.parentElement).getAttribute("data-slate-zero-width");return u.setStart(c,g?1:f),u.setEnd(h,v?1:p),u},toDOMPoint:function(t,n){var r,o,i,a=ni(e.node(t,n.path),1)[0],s=Md.toDOMNode(t,a);e.void(t,{at:n})&&(n={path:n.path,offset:0});var u=Array.from(s.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),l=0;try{for(var c=ei(u),f=c.next();!f.done;f=c.next()){var d=f.value,h=d.childNodes[0];if(null!=h&&null!=h.textContent){var p=h.textContent.length,g=d.getAttribute("data-slate-length"),v=l+(null==g?p:parseInt(g,10));if(n.offset<=v){i=[h,Math.min(p,Math.max(0,n.offset-l))];break}l=v}}}catch(t){r={error:t}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}if(!i)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(n)));return i},toSlateNode:function(t,e){var n=Nf(e)?e:e.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?Is.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},findEventRange:function(t,n){"nativeEvent"in n&&(n=n.nativeEvent);var r=n.clientX,o=n.clientY,i=n.target;if(null==r||null==o)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(n));var a,s=Md.toSlateNode(t,n.target),u=Md.findPath(t,s);if(e.isVoid(t,s)){var l=i.getBoundingClientRect(),c=t.isInline(s)?r-l.left<l.left+l.width-r:o-l.top<l.top+l.height-o,f=e.point(t,u,{edge:c?"start":"end"}),d=c?e.before(t,f):e.after(t,f);if(d)return e.range(t,d)}var h=this.getWindow(t).document;if(h.caretRangeFromPoint)a=h.caretRangeFromPoint(r,o);else{var p=h.caretPositionFromPoint(r,o);p&&((a=h.createRange()).setStart(p.offsetNode,p.offset),a.setEnd(p.offsetNode,p.offset))}if(!a)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(n));return Md.toSlateRange(t,a,{exactMatch:!1,suppressThrow:!1})},toSlateRange:function(t,n,r){var o,a,s,u,l,c=r.exactMatch,f=r.suppressThrow;if((Tf(n)?n.anchorNode:n.startContainer)&&(Tf(n)?(o=n.anchorNode,a=n.anchorOffset,s=n.focusNode,u=n.focusOffset,l=Td&&Rf()?n.anchorNode===n.focusNode&&n.anchorOffset===n.focusOffset:n.isCollapsed):(o=n.startContainer,a=n.startOffset,s=n.endContainer,u=n.endOffset,l=n.collapsed)),null==o||null==s||null==a||null==u)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(n));var d=Md.toSlatePoint(t,[o,a],{exactMatch:c,suppressThrow:f});if(!d)return null;var h=l?d:Md.toSlatePoint(t,[s,u],{exactMatch:c,suppressThrow:f});if(!h)return null;var p={anchor:d,focus:h};return i.isExpanded(p)&&i.isForward(p)&&Nf(s)&&e.void(t,{at:p.focus,mode:"highest"})&&(p=e.unhangRange(t,p,{voids:!0})),p},toSlatePoint:function(t,e,n){var r,o=n.exactMatch,i=n.suppressThrow,a=ni(o?e:Pf(e),2),s=a[0],u=a[1],l=s.parentNode,c=null,f=0;if(l){var d=l.closest('[data-slate-void="true"]'),h=l.closest("[data-slate-leaf]"),p=null,g=Md.getWindow(t);if(h&&g.document.createRange){c=h.closest('[data-slate-node="text"]');var v=g.document.createRange();v.setStart(c,0),v.setEnd(s,u);var m=v.cloneContents();ri(ri([],ni(B(m.querySelectorAll("[data-slate-zero-width]"))),!1),ni(B(m.querySelectorAll("[contenteditable=false]"))),!1).forEach(function(t){t.parentNode.removeChild(t)}),f=m.textContent.length,p=c}else d&&((h=d.querySelector("[data-slate-leaf]"))?(c=h.closest('[data-slate-node="text"]'),f=(p=h).textContent.length,p.querySelectorAll("[data-slate-zero-width]").forEach(function(t){f-=t.textContent.length})):f=1);p&&f===p.textContent.length&&(l.hasAttribute("data-slate-zero-width")||Ed&&(null===(r=p.textContent)||void 0===r?void 0:r.endsWith("\n")))&&(f-=1)}if(!c){if(i)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var y=Md.toSlateNode(t,c);return{path:Md.findPath(t,y),offset:f}},hasRange:function(t,n){var r=n.anchor,o=n.focus;return e.hasPath(t,r.path)&&e.hasPath(t,o.path)},getNodeType:function(t){return a.isElement(t)?t.type:""},checkNodeType:function(t,e){return this.getNodeType(t)===e},getNodesStr:function(t){return t.map(function(t){return s.string(t)}).join("")},getSelectedElems:function(t){var n,r,o=[],i=e.nodes(t,{universal:!0});try{for(var s=ei(i),u=s.next();!u.done;u=s.next()){var l=ni(u.value,1)[0];a.isElement(l)&&o.push(l)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o},getSelectedNodeByType:function(t,n){var r=this,o=ni(e.nodes(t,{match:function(t){return r.checkNodeType(t,n)},universal:!0}),1),i=o[0];return null==i?null:i[0]},getSelectedTextNode:function(t){var n=ni(e.nodes(t,{match:function(t){return o.isText(t)},universal:!0}),1),r=n[0];return null==r?null:r[0]},isNodeSelected:function(t,n){var r=ni(e.nodes(t,{match:function(t){return t===n},universal:!0}),1),o=r[0];return null!=o&&ni(o,1)[0]===n},isSelectionAtLineEnd:function(t,n){var r=t.selection;return!!r&&(e.isEnd(t,r.anchor,n)||e.isEnd(t,r.focus,n))},getTextarea:function(t){var e=ys.get(t);if(null==e)throw new Error("Cannot find textarea instance by editor");return e},getToolbar:function(t){return xs.get(t)||null},getHoverbar:function(t){return Os.get(t)||null},normalizeContent:function(t){t.children.forEach(function(e,n){t.normalizeNode([e,[n]])})},getLeftLengthOfMaxLength:function(t){var e=t.getConfig(),n=e.maxLength,r=e.onMaxLength;if("number"!=typeof n||n<=0)return 1/0;var o=n-t.getText().replace(/\r|\n|(\r\n)|(\n\r)/g,"").length;return o<=0&&r&&r(t),o},cleanExposedTexNodeInSelectionBlock:function(t){var n,r,o,i,s=Md.getTextarea(t).$textArea,u=null==s?void 0:s[0].childNodes;if(u)try{for(var l=ei(Array.from(u)),c=l.next();!c.done;c=l.next()){var f=c.value;if(!Lf(f))break;f.remove()}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}var h=e.nodes(t,{match:function(e){return!(!a.isElement(e)||t.isInline(e))},universal:!0});try{for(var p=ei(h),g=p.next();!g.done;g=p.next()){var v=g.value;if(null!=v){var m=v[0];Ff(Md.toDOMNode(t,m),function(t,e){var n=d(e);n.attr("data-slate-string")||n.attr("data-slate-zero-width")||n.attr("data-w-e-reserve")||e.removeChild(t)})}}}catch(t){o={error:t}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}},isLastNode:function(t,e){var n=t.children||[];return n[n.length-1]===e},genEmptyParagraph:function(){return{type:"paragraph",children:[{text:""}]}},isSelectedVoidNode:function(t){var n,r,o=e.nodes(t,{match:function(e){return t.isVoid(e)}}),i=0;try{for(var a=ei(o),s=a.next();!s.done;s=a.next()){s.value&&(i+=1)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i>0},isSelectedEmptyParagraph:function(t){var e=t.selection;if(null==e)return!1;if(i.isExpanded(e))return!1;var n=Md.getSelectedNodeByType(t,"paragraph");if(null===n)return!1;var r=n.children;return 1===r.length&&(""===r[0].text||void 0)},isEmptyPath:function(t,n){var r=e.node(t,n);if(null==r)return!1;var o=ni(r,1)[0].children;if(1===o.length&&""===o[0].text)return!0;return!1}};function Pd(t,e){return a.isElement(t)?hd(t,e):function(t,e){var n=t.text;if(null==n)throw new Error("Current node is not slate Text ".concat(JSON.stringify(t)));var r=n;r=function(t){return t.replace(/ {2}/g," &nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/®/g,"&reg;").replace(/©/g,"&copy;").replace(/™/g,"&trade;")}(r);var o=Md.getParentsNodes(e,t).some(function(t){return"pre"===Md.getNodeType(t)});if(o||(r=r.replace(/\n\r|\r\n|\r|\n/g,"<br>")),o&&(r=r.replace(/&nbsp;/g," ")),""===r){var i=Md.getParentNode(null,t);if(!i||0!==i.children.length)return r;r="<br>"}return ud.forEach(function(e){return r=e(t,r)}),r}(t,e)}var Rd=function(t,e){var n=(e.top+e.bottom)/2;return t.top<=n&&t.bottom>=n},Dd=function(t,e,n){var r=Md.toDOMRange(t,e).getBoundingClientRect(),o=Md.toDOMRange(t,n).getBoundingClientRect();return Rd(r,o)&&Rd(o,r)},Ad=function(t,n){var r,o,i=[];try{for(var a=ei(e.levels(t,{at:n})),s=a.next();!s.done;s=a.next()){var u=ni(s.value,2),l=u[0],c=u[1],f=Md.findKey(t,l);i.push([c,f])}}catch(t){r={error:t}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i};function jd(e,n){e.isInline(n)?(e.insertNode(n),"link"===n.type&&e.insertFragment([{text:""}])):t.insertNodes(e,n,{mode:"highest"})}var Id,$d,Fd,Bd,_d,Wd,zd,Ud,Vd,Hd,Kd,Jd,qd,Gd,Yd,Xd,Qd,Zd,th,eh,nh,rh,oh,ih,ah,sh,uh,lh,ch,fh,dh,hh,ph,gh,vh,mh,yh,bh,wh,xh,Sh=function(n){var u=n,l=u.onChange,c=u.insertText,f=u.apply,h=u.deleteBackward;return u.insertText=function(t){u.getConfig().readOnly||c(t)},u.apply=function(t){var n,o,i,a,s,l,c,d,h=[];switch(t.type){case"insert_text":case"remove_text":case"set_node":case"split_node":h.push.apply(h,ri([],ni(Ad(u,t.path)),!1));break;case"insert_node":case"remove_node":h.push.apply(h,ri([],ni(Ad(u,r.parent(t.path))),!1));break;case"merge_node":var p=r.previous(t.path);h.push.apply(h,ri([],ni(Ad(u,p)),!1));break;case"move_node":var g=r.common(r.parent(t.path),r.parent(t.newPath));h.push.apply(h,ri([],ni(Ad(u,g)),!1));break;case"set_selection":(null===(a=null===(i=t.newProperties)||void 0===i?void 0:i.focus)||void 0===a?void 0:a.path)&&(h.push.apply(h,ri([],ni(Ad(u,null===(l=null===(s=t.newProperties)||void 0===s?void 0:s.focus)||void 0===l?void 0:l.path)),!1)),h.push.apply(h,ri([],ni(Ad(u,null===(d=null===(c=t.properties)||void 0===c?void 0:c.focus)||void 0===d?void 0:d.path)),!1)))}f(t);try{for(var v=ei(h),m=v.next();!m.done;m=v.next()){var y=ni(m.value,2),b=y[0],w=y[1],x=ni(e.node(u,b),1)[0];Bs.set(x,w),"type"in x&&(Ps.has(x)&&Ps.delete(x),Rs.has(x)&&Rs.delete(x))}}catch(t){n={error:t}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}},u.deleteBackward=function(r){if("line"!==r)return h(r);if(n.selection&&i.isCollapsed(n.selection)){var o=e.above(n,{match:function(t){return e.isBlock(n,t)},at:n.selection});if(o){var a=ni(o,2)[1],s=e.range(n,a,n.selection.anchor),l=function(t,n){var r=e.range(t,i.end(n)),o=Array.from(e.positions(t,{at:n})),a=0,s=o.length,u=Math.floor(s/2);if(Dd(t,e.range(t,o[a]),r))return e.range(t,o[a],r);if(o.length<2)return e.range(t,o[o.length-1],r);for(;u!==o.length&&u!==a;)Dd(t,e.range(t,o[u]),r)?s=u:a=u,u=Math.floor((a+s)/2);return e.range(t,o[s],r)}(u,s);i.isCollapsed(l)||t.delete(n,{at:l})}}},u.onChange=function(){var t=u.selection;null!=t&&zs.set(u,t),u.emit(si),l()},u.handleTab=function(){u.insertText("    ")},u.getHtml=function(){var t=u.children,e=void 0===t?[]:t,n=u.getConfig().skipCacheTypes,r=void 0===n?["list-item"]:n;return e.map(function(t){var e=Md.getNodeType(t);if(r.includes(e))return Pd(t,u);var n=Rs.get(t);if(n)return n;var o=Pd(t,u);return Rs.set(t,o),o}).join("")},u.getText=function(){var t=u.children;return(void 0===t?[]:t).map(function(t){return s.string(t)}).join("\n")},u.getSelectionText=function(){var t=u.selection;return null==t?"":e.string(n,t)},u.getElemsByType=function(t,n){var r,o;void 0===n&&(n=!1);var i=[],s=e.nodes(u,{at:[],universal:!0});try{for(var l=ei(s),c=l.next();!c.done;c=l.next()){var f=ni(c.value,1)[0];if(a.isElement(f))if(n?f.type.indexOf(t)>=0:f.type===t){var d=Md.findKey(u,f),h=sd(f.type,d.id);i.push(ti(ti({},f),{id:h}))}}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return i},u.getElemsByTypePrefix=function(t){return u.getElemsByType(t,!0)},u.isEmpty=function(){var t=u.children,e=void 0===t?[]:t;if(e.length>1)return!1;var n=e[0];if(null==n)return!0;if(!a.isElement(n)||"paragraph"!==n.type)return!1;var r=n.children,i=void 0===r?[]:r;if(i.length>1)return!1;var s=i[0];return null==s||o.isText(s)&&""===s.text},u.clear=function(){t.delete(u,{at:{anchor:e.start(u,[]),focus:e.end(u,[])}}),0===u.children.length&&t.insertNodes(u,[{type:"paragraph",children:[{text:""}]}])},u.getParentNode=function(t){return Md.getParentNode(u,t)},u.dangerouslyInsertHtml=function(e,n){if(void 0===e&&(e=""),void 0===n&&(n=!1),e){var r=document.createElement("div");r.innerHTML=e;var o=Array.from(r.childNodes);if(o=o.filter(function(t){var e=t.nodeName;return!!Lf(t)||!!Nf(t)&&!Zu.has(e.toLowerCase())}),0!==o.length){var i=u.selection;if(null!=i){var a=null;if(Md.isSelectedEmptyParagraph(u)&&!n)a=[i.focus.path[0]];r.setAttribute("hidden","true"),document.body.appendChild(r);var s=0;o.forEach(function(t,e){var n=t.nodeName,r=t.textContent,i=void 0===r?"":r;if(Lf(t)){if(!i||!i.trim())return;u.insertNode({text:i})}else if("BR"!==n){var a=t,l=!1;if(Jf.includes(n.toLowerCase()))l=!0;else for(var c in Qf)if(a.matches(c)){l=!0;break}if(l){var f=od(d(a),u);return Array.isArray(f)?(f.forEach(function(t){return jd(u,t)}),s+=1):(jd(u,f),s+=1),void(Md.isSelectedVoidNode(u)&&u.move(1))}var h=window.getComputedStyle(a).display;if(!Md.isSelectedEmptyParagraph(u)&&h.indexOf("inline")<0){if(e>=1){var p=o[e-1];Sf(p)&&u.insertBreak()}u.insertBreak()}u.dangerouslyInsertHtml(a.innerHTML,!0)}else u.insertText("\n")}),s&&a&&Md.isEmptyPath(u,a)&&t.removeNodes(u,{at:a}),r.remove()}}}},u.setHtml=function(n){void 0===n&&(n="");var r=u.isDisabled(),o=u.isFocused(),i=JSON.stringify(u.selection);u.enable(),u.focus(),u.clear();var a=ad(u,null==n?"":n);if(t.insertFragment(u,a),o||(u.deselect(),u.blur()),r&&(u.deselect(),u.disable()),u.isFocused())try{u.select(JSON.parse(i))}catch(t){u.select(e.start(u,[]))}},u},Oh=1,Eh=function(n){var r=n;return r.id="wangEditor-".concat(Oh),Oh+=1,r.isDestroyed=!1,r.isFullScreen=!1,r.focus=function(n){if(Md.toDOMNode(r,r).focus({preventScroll:!0}),Ws.set(r,!0),n){var o=e.end(r,[]);t.select(r,o)}else{var i=zs.get(r);i?t.select(r,i):t.select(r,e.start(r,[]))}},r.isFocused=function(){return!!Ws.get(r)},r.blur=function(){Md.toDOMNode(r,r).blur(),t.deselect(r),Ws.set(r,!1)},r.updateView=function(){Md.getTextarea(r).changeViewState();var t=Md.getToolbar(r);t&&t.changeToolbarState();var e=Md.getHoverbar(r);e&&e.changeHoverbarState()},r.destroy=function(){if(!r.isDestroyed){var t=Md.getTextarea(r);t.destroy(),ys.delete(r),bs.delete(t);var e=Md.getToolbar(r);e&&(e.destroy(),xs.delete(r),ws.delete(e));var n=Md.getHoverbar(r);n&&(n.destroy(),Os.delete(r),Ss.delete(n)),r.isDestroyed=!0,r.emit(ai)}},r.scrollToElem=function(t){if(!r.getConfig().scroll){var e="编辑器禁用了 scroll ，编辑器内容无法滚动，请自行实现该功能";return e+="\nYou has disabled editor scroll, please do this yourself",void console.warn(e)}var n=d("#".concat(t));if(0!==n.length){var o=n[0];if(!Md.hasDOMNode(r,o)){e="Element (found by id is '".concat(t,"') is not in editor DOM");return e+="\n 通过 id '".concat(t,"' 找到的 element 不在 editor DOM 之内"),void console.error(e,o)}var i=Md.getTextarea(r),a=i.$textAreaContainer,s=i.$scroll,u=n.offset().top,l=a.offset().top;s[0].scrollBy({top:u-l,behavior:"smooth"})}},r.showProgressBar=function(t){t<1||Md.getTextarea(r).changeProgress(t)},r.hidePanelOrModal=function(){var t=ks.get(r);null!=t&&t.forEach(function(t){return t.hide()})},r.enable=function(){r.getConfig().readOnly=!1,r.updateView()},r.disable=function(){r.getConfig().readOnly=!0,r.updateView()},r.isDisabled=function(){return r.getConfig().readOnly},r.toDOMNode=function(t){return Md.toDOMNode(r,t)},r.fullScreen=function(){if(!r.isFullScreen){var t=null,e=Md.getToolbar(r);e&&(t=e.$box);var n=Md.getTextarea(r).$box.parent();if(t&&t.parent()[0]!==n[0]){throw new Error("Can not set full screen, cause toolbar DOM parent is not equal to textarea DOM parent\n不能设置全屏，因为 toolbar DOM 父节点和 textarea DOM 父节点不一致")}n.addClass("w-e-full-screen-container");var o=n.css("z-index");n.attr("data-z-index",o.toString()),r.isFullScreen=!0,r.emit(li)}},r.unFullScreen=function(){if(r.isFullScreen){var t=Md.getTextarea(r).$box.parent();setTimeout(function(){t.removeClass("w-e-full-screen-container"),r.isFullScreen=!1,r.emit(ci)},200)}},r.getEditableContainer=function(){return Md.getTextarea(r).$textAreaContainer[0]},r},kh={exports:{}},Ch={exports:{}};function Nh(){if($d)return Id;$d=1;return Id=function(t){return null!=t}}function Th(){if(Wd)return _d;Wd=1;var t=function(){if(Bd)return Fd;Bd=1;var t=Nh(),e={object:!0,function:!0,undefined:!0};return Fd=function(n){return!!t(n)&&hasOwnProperty.call(e,typeof n)}}();return _d=function(e){if(!t(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(t){return!1}}}function Lh(){if(Hd)return Vd;Hd=1;var t=function(){if(Ud)return zd;Ud=1;var t=Th();return zd=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(t){return!1}return!t(e)}}(),e=/^\s*class[\s{/}]/,n=Function.prototype.toString;return Vd=function(r){return!!t(r)&&!e.test(n.call(r))}}function Mh(){if(Zd)return Qd;Zd=1;var t=(Xd?Yd:(Xd=1,Yd=function(){}))();return Qd=function(e){return e!==t&&null!==e},Qd}function Ph(){return rh||(rh=1,nh=(Gd?qd:(Gd=1,qd=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}))()?Object.keys:function(){if(eh)return th;eh=1;var t=Mh(),e=Object.keys;return th=function(n){return e(t(n)?Object(n):n)}}()),nh}function Rh(){if(sh)return ah;sh=1;var t=Ph(),e=function(){if(ih)return oh;ih=1;var t=Mh();return oh=function(e){if(!t(e))throw new TypeError("Cannot use null or undefined");return e}}(),n=Math.max;return ah=function(r,o){var i,a,s,u=n(arguments.length,2);for(r=Object(e(r)),s=function(t){try{r[t]=o[t]}catch(t){i||(i=t)}},a=1;a<u;++a)t(o=arguments[a]).forEach(s);if(void 0!==i)throw i;return r},ah}function Dh(){return lh?uh:(lh=1,uh=(Jd||(Jd=1,Kd=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}),Kd)()?Object.assign:Rh())}function Ah(){return mh||(mh=1,vh=function(){if(hh)return dh;hh=1;var t="razdwatrzy";return dh=function(){return"function"==typeof t.contains&&!0===t.contains("dwa")&&!1===t.contains("foo")}}()()?String.prototype.contains:function(){if(gh)return ph;gh=1;var t=String.prototype.indexOf;return ph=function(e){return t.call(this,e,arguments[1])>-1},ph}()),vh}function jh(){if(yh)return Ch.exports;yh=1;var t=Nh(),e=Lh(),n=Dh(),r=function(){if(fh)return ch;fh=1;var t=Mh(),e=Array.prototype.forEach,n=Object.create;return ch=function(r){var o=n(null);return e.call(arguments,function(e){t(e)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(e),o)}),o},ch}(),o=Ah(),i=Ch.exports=function(e,i){var a,s,u,l,c;return arguments.length<2||"string"!=typeof e?(l=i,i=e,e=null):l=arguments[2],t(e)?(a=o.call(e,"c"),s=o.call(e,"e"),u=o.call(e,"w")):(a=u=!0,s=!1),c={value:i,configurable:a,enumerable:s,writable:u},l?n(r(l),c):c};return i.gs=function(i,a,s){var u,l,c,f;return"string"!=typeof i?(c=s,s=a,a=i,i=null):c=arguments[3],t(a)?e(a)?t(s)?e(s)||(c=s,s=void 0):s=void 0:(c=a,a=s=void 0):a=void 0,t(i)?(u=o.call(i,"c"),l=o.call(i,"e")):(u=!0,l=!1),f={get:a,set:s,configurable:u,enumerable:l},c?n(r(c),f):f},Ch.exports}var Ih=(xh||(xh=1,function(t,e){var n,r,o,i,a,s,u,l=jh(),c=wh?bh:(wh=1,bh=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}),f=Function.prototype.apply,d=Function.prototype.call,h=Object.create,p=Object.defineProperty,g=Object.defineProperties,v=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0};r=function(t,e){var r,i;return c(e),i=this,n.call(this,t,r=function(){o.call(i,t,r),f.call(e,this,arguments)}),r.__eeOnceListener__=e,this},i=function(t){var e,n,r,o,i;if(v.call(this,"__ee__")&&(o=this.__ee__[t]))if("object"==typeof o){for(n=arguments.length,i=new Array(n-1),e=1;e<n;++e)i[e-1]=arguments[e];for(o=o.slice(),e=0;r=o[e];++e)f.call(r,this,i)}else switch(arguments.length){case 1:d.call(o,this);break;case 2:d.call(o,this,arguments[1]);break;case 3:d.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),e=1;e<n;++e)i[e-1]=arguments[e];f.call(o,this,i)}},a={on:n=function(t,e){var n;return c(e),v.call(this,"__ee__")?n=this.__ee__:(n=m.value=h(null),p(this,"__ee__",m),m.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},once:r,off:o=function(t,e){var n,r,o,i;if(c(e),!v.call(this,"__ee__"))return this;if(!(n=this.__ee__)[t])return this;if("object"==typeof(r=n[t]))for(i=0;o=r[i];++i)o!==e&&o.__eeOnceListener__!==e||(2===r.length?n[t]=r[i?0:1]:r.splice(i,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},emit:i},s={on:l(n),once:l(r),off:l(o),emit:l(i)},u=g({},s),t.exports=e=function(t){return null==t?h(u):g(Object(t),s)},e.methods=a}(kh,kh.exports)),kh.exports),$h=rt(Ih);function Fh(t){var e=Us.get(t);return null==e&&(e=$h(),Us.set(t,e)),e}var Bh=new WeakMap;function _h(t,e){var n=Bh.get(t);null==n&&(n=new Set,Bh.set(t,n)),n.add(e)}var Wh,zh=function(t){var e=t;return e.on=function(t,n){var r=Fh(e);if(r.on(t,n),"destroyed"===t&&_h(e,n),"destroyed"!==t){var o=function(){return r.off(t,n)};r.on("destroyed",o),_h(e,o)}},e.once=function(t,n){Fh(e).once(t,n)},e.off=function(t,n){Fh(e).off(t,n)},e.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=Fh(e);if(o.emit.apply(o,ri([t],ni(n),!1)),"destroyed"===t){var i=function(t){return Bh.get(t)||new Set}(e);i.forEach(function(t){return o.off("destroyed",t)}),function(t){Bh.set(t,new Set)}(e)}},e},Uh=function(n){var r=n;return r.setFragmentData=function(t){var n=r.selection;if(n){var o=ni(i.edges(n),2),a=o[0],s=o[1],u=e.void(r,{at:a.path}),l=e.void(r,{at:s.path});if(!i.isCollapsed(n)||u){var c=Md.toDOMRange(r,n),f=c.cloneContents(),d=f.childNodes[0];if(f.childNodes.forEach(function(t){t.textContent&&""!==t.textContent.trim()&&(d=t)}),l){var h=ni(l,1)[0],p=c.cloneRange(),g=Md.toDOMNode(r,h);p.setEndAfter(g),f=p.cloneContents()}if(u&&(d=f.querySelector("[data-slate-spacer]")),Array.from(f.querySelectorAll("[data-slate-zero-width]")).forEach(function(t){var e="n"===t.getAttribute("data-slate-zero-width");t.textContent=e?"\n":""}),Lf(d)){var v=d.ownerDocument.createElement("span");v.style.whiteSpace="pre",v.appendChild(d),f.appendChild(v),d=v}var m=r.getFragment(),y=JSON.stringify(m),b=window.btoa(encodeURIComponent(y));d.setAttribute("data-slate-fragment",b),t.setData("application/x-slate-fragment",b);var w=f.ownerDocument.createElement("div");return w.appendChild(f),w.setAttribute("hidden","true"),f.ownerDocument.body.appendChild(w),t.setData("text/html",w.innerHTML),t.setData("text/plain",If(w)),f.ownerDocument.body.removeChild(w),t}}},r.insertData=function(e){var n,o,i=e.getData("application/x-slate-fragment");if(i){var a=decodeURIComponent(window.atob(i)),s=JSON.parse(a);r.insertFragment(s)}else{var u=e.getData("text/plain"),l=e.getData("text/html");if(l)r.dangerouslyInsertHtml(l);else if(u){var c=u.split(/\n\r|\r\n|\r|\n/),f=!1;try{for(var d=ei(c),h=d.next();!h.done;h=d.next()){var p=h.value,g=Md.getLeftLengthOfMaxLength(r);f&&g>0&&t.splitNodes(r,{always:!0}),r.insertText(p),f=!0}}catch(t){n={error:t}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}}}},r},Vh={};!function(){if(Wh)return Vh;Wh=1;var t=no(),e=ro(),n=uo(),r=ye(),o=vr(),i=yr(),a=ve(),s=io(),u=ln(),l=fo(),c=es(),f=l("slice"),d=u("species"),h=Array,p=Math.max;t({target:"Array",proto:!0,forced:!f},{slice:function(t,u){var l,f,g,v=a(this),m=i(v),y=o(t,m),b=o(void 0===u?m:u,m);if(e(v)&&(l=v.constructor,(n(l)&&(l===h||e(l.prototype))||r(l)&&null===(l=l[d]))&&(l=void 0),l===h||void 0===l))return c(v,y,b);for(f=new(void 0===l?h:l)(p(b-y,0)),g=0;y<b;y++,g++)y in v&&s(f,g,v[y]);return f.length=g,f}})}();var Hh=function(t){var e=t,n=e.insertText,r=e.insertNode,o=e.insertFragment,i=e.dangerouslyInsertHtml;return e.insertText=function(t){if(e.getConfig().maxLength){var r=Md.getLeftLengthOfMaxLength(e);r<=0||(r<t.length?n(t.slice(0,r)):n(t))}else n(t)},e.insertNode=function(t){if(e.getConfig().maxLength){var n=Md.getLeftLengthOfMaxLength(e);if(!(n<=0))n<s.string(t).length||r(t)}else r(t)},e.insertFragment=function(t){if(e.getConfig().maxLength){if(t.length>0){var n=t[0];if(Md.getLeftLengthOfMaxLength(e)<s.string(n).length)return;o([n]);for(var r=1;r<t.length;r+=1)e.insertNode(t[r])}}else o(t)},e.dangerouslyInsertHtml=function(t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),t)if(e.getConfig().maxLength){var r=Md.getLeftLengthOfMaxLength(e);if(!(r<=0)){var o=document.createElement("div");o.innerHTML=t,r<Array.from(o.childNodes).reduce(function(t,e){var n=e.nodeName;return e?Lf(e)?t+(e.textContent||""):Nf(e)?Zu.has(n.toLowerCase())?t:t+(e.textContent||""):t:t},"").length||i(t,n)}}else i(t,n)},e};function Kh(t){var e=Md.getTextarea(t).$textAreaContainer,n=e.width(),r=e.height(),o=e.offset();return{top:o.top,left:o.left,width:n,height:r}}function Jh(t){var e={top:"0",left:"0"},n=t.selection;if(null==n)return e;var r=Kh(t);if(null==r)return e;var o=r.top,i=r.left,a=r.width,s=r.height,u=Md.toDOMRange(t,n).getClientRects(),l=u?u[0]:null;if(null==l)return e;var c={},f=l.top-o,d=l.left-i;if(d>a/2){var h=a-d;c.right="".concat(h+5,"px")}else c.left="".concat(d+5,"px");if(f>s/2){var p=s-f;c.bottom="".concat(p+5,"px")}else{var g=u[u.length-1],v=g.top-o+g.height;v<0&&(v=0),c.top="".concat(v+5,"px")}return c}function qh(t,e,n){void 0===n&&(n="modal");var r={top:"0",left:"0"};if(null==t.selection)return r;var o=a.isElement(e)&&t.isVoid(e),i=a.isElement(e)&&t.isInline(e),s=Fs.get(e);if(null==s)return r;var u=s.getBoundingClientRect(),l=u.top,c=u.left,f=u.height,d=u.width;if(o){var h=$f(s);if(null!=h){var p=h.getBoundingClientRect();l=p.top,f=p.height}}var g=Kh(t);if(null==g)return r;var v=g.top,m=g.left,y=g.width,b=g.height,w={},x=l-v,S=c-m;if("bar"===n)return w.left="".concat(S,"px"),x>40?w.bottom="".concat(b-x+5,"px"):w.top="".concat(x+f+5,"px"),w;if("modal"===n){if(o?i?S>(y-d)/2?w.right="".concat(y-S+5,"px"):w.left="".concat(S+d+5,"px"):w.left="20px":w.left="".concat(S,"px"),o)(O=x)<0&&(O=0),w.top="".concat(O,"px");else if(x>(b-f)/2)w.bottom="".concat(b-x+5,"px");else{var O;(O=x+f)<0&&(O=0),w.top="".concat(O+5,"px")}return w}throw new Error("type '".concat(n,"' is invalid"))}function Gh(t,e){uf(function(){var n=Kh(t);if(null!=n){var r,o=n.top,i=n.left,a=n.width,s=n.height,u=e.offset(),l=u.top,c=u.left,f=e.width(),d=e.height(),h=l-o,p=c-i,g=e.attr("style");if(g.indexOf("top")>=0)if((r=h+d-s)>0){var v=e.css("top"),m=parseInt(v.toString(),10)-r;m<0&&(m=0),e.css("top","".concat(m,"px"))}if(g.indexOf("bottom")>=0&&l<0){var y=e.css("bottom"),b=parseInt(y.toString(),10)-Math.abs(l);e.css("bottom","".concat(b,"px"))}if(g.indexOf("left")>=0)if((r=p+f-a)>0){var w=e.css("left"),x=parseInt(w.toString(),10)-r;x<0&&(x=0),e.css("left","".concat(x,"px"))}if(g.indexOf("right")>=0&&c<0){var S=e.css("right"),O=parseInt(S.toString(),10)-Math.abs(c);e.css("right","".concat(O,"px"))}}})}var Yh,Xh=function(n){var r=n;return r.select=function(e){t.select(r,e)},r.deselect=function(){var e=r.selection,o=Md.findDocumentOrShadowRoot(r).getSelection();o&&o.rangeCount>0&&o.removeAllRanges(),e&&t.deselect(n)},r.move=function(e,r){void 0===r&&(r=!1),e&&(e<0||t.move(n,{distance:e,unit:"character",reverse:r}))},r.moveReverse=function(t){r.move(t,!0)},r.restoreSelection=function(){var e=zs.get(r);null!=e&&(r.focus(),t.select(r,e))},r.getSelectionPosition=function(){return Jh(r)},r.getNodePosition=function(t){return qh(r,t)},r.isSelectedAll=function(){var t=r.selection;if(null==t)return!1;var n=ni(i.edges(t),2),o=n[0],a=n[1],s=ni(e.edges(r,[]),2),l=s[0],c=s[1];return!(!u.equals(o,l)||!u.equals(a,c))},r.selectAll=function(){var n=e.start(r,[]),o=e.end(r,[]);t.select(r,{anchor:n,focus:o})},r},Qh={};!function(){if(Yh)return Qh;Yh=1;var t=wt(),e=fe(),n=bl(),r=En(),o=ye(),i=mr(),a=pa(),s=ge(),u=Te(),l=Sl(),c=ef(),f=Ol(),d=e("".indexOf);n("match",function(e,n,h){return[function(n){var r=s(this),i=o(n)?u(n,e):void 0;return i?t(i,n,r):new RegExp(n)[e](a(r))},function(t){var e=r(this),o=a(t),s=h(n,e,o);if(s.done)return s.value;var u=a(c(e));if(-1===d(u,"g"))return f(e,o);var p=-1!==d(u,"u");e.lastIndex=0;for(var g,v=[],m=0;null!==(g=f(e,o));){var y=a(g[0]);v[m]=y,""===y&&(e.lastIndex=l(o,i(e.lastIndex),p)),m++}return 0===m?null:v}]})}();const Zh=t=>"string"==typeof t,tp=()=>{let t,e;const n=new Promise((n,r)=>{t=n,e=r});return n.resolve=t,n.reject=e,n},ep=t=>null==t?"":""+t,np=/###/g,rp=t=>t&&t.indexOf("###")>-1?t.replace(np,"."):t,op=t=>!t||Zh(t),ip=(t,e,n)=>{const r=Zh(e)?e.split("."):e;let o=0;for(;o<r.length-1;){if(op(t))return{};const e=rp(r[o]);!t[e]&&n&&(t[e]=new n),t=Object.prototype.hasOwnProperty.call(t,e)?t[e]:{},++o}return op(t)?{}:{obj:t,k:rp(r[o])}},ap=(t,e,n)=>{const{obj:r,k:o}=ip(t,e,Object);if(void 0!==r||1===e.length)return void(r[o]=n);let i=e[e.length-1],a=e.slice(0,e.length-1),s=ip(t,a,Object);for(;void 0===s.obj&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),s=ip(t,a,Object),s&&s.obj&&void 0!==s.obj[`${s.k}.${i}`]&&(s.obj=void 0);s.obj[`${s.k}.${i}`]=n},sp=(t,e)=>{const{obj:n,k:r}=ip(t,e);if(n)return n[r]},up=(t,e,n)=>{for(const r in e)"__proto__"!==r&&"constructor"!==r&&(r in t?Zh(t[r])||t[r]instanceof String||Zh(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):up(t[r],e[r],n):t[r]=e[r]);return t},lp=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var cp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const fp=t=>Zh(t)?t.replace(/[&<>"'\/]/g,t=>cp[t]):t;const dp=[" ",",","?","!",";"],hp=new class{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const e=this.regExpMap.get(t);if(void 0!==e)return e;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}(20),pp=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let o=t;for(let t=0;t<r.length;){if(!o||"object"!=typeof o)return;let e,i="";for(let a=t;a<r.length;++a)if(a!==t&&(i+=n),i+=r[a],e=o[i],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a<r.length-1)continue;t+=a-t+1;break}o=e}return o},gp=t=>t&&t.replace("_","-"),vp={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class mp{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||vp,this.options=e,this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,n,r){return r&&!this.debug?null:(Zh(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new mp(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new mp(this.logger,t)}}var yp=new mp;class bp{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach(t=>{this.observers[t]||(this.observers[t]=new Map);const n=this.observers[t].get(e)||0;this.observers[t].set(e,n+1)}),this}off(t,e){this.observers[t]&&(e?this.observers[t].delete(e):delete this.observers[t])}emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(this.observers[t]){Array.from(this.observers[t].entries()).forEach(t=>{let[e,r]=t;for(let t=0;t<r;t++)e(...n)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(e=>{let[r,o]=e;for(let e=0;e<o;e++)r.apply(r,[t,...n])})}}}class wp extends bp{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=e,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,e],n&&(Array.isArray(n)?a.push(...n):Zh(n)&&o?a.push(...n.split(o)):a.push(n)));const s=sp(this.data,a);return!s&&!e&&!n&&t.indexOf(".")>-1&&(t=a[0],e=a[1],n=a.slice(2).join(".")),!s&&i&&Zh(n)?pp(this.data&&this.data[t]&&this.data[t][e],n,o):s}addResource(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let a=[t,e];n&&(a=a.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(a=t.split("."),r=e,e=a[1]),this.addNamespaces(e),ap(this.data,a,r),o.silent||this.emit("added",t,e,n,r)}addResources(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)(Zh(n[r])||Array.isArray(n[r]))&&this.addResource(t,e,r,n[r],{silent:!0});r.silent||this.emit("added",t,e,n)}addResourceBundle(t,e,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[t,e];t.indexOf(".")>-1&&(a=t.split("."),r=n,n=e,e=a[1]),this.addNamespaces(e);let s=sp(this.data,a)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?up(s,n,o):s={...s,...n},ap(this.data,a,s),i.silent||this.emit("added",t,e,n)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return void 0!==this.getResource(t,e)}getResourceBundle(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(t,e)}:this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find(t=>e[t]&&Object.keys(e[t]).length>0)}toJSON(){return this.data}}var xp={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,o){return t.forEach(t=>{this.processors[t]&&(e=this.processors[t].process(e,n,r,o))}),e}};const Sp={};class Op extends bp{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((t,e,n)=>{t.forEach(t=>{e[t]&&(n[t]=e[t])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=yp.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;const n=this.resolve(t,e);return n&&void 0!==n.res}extractFromKey(t,e){let n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator;let o=e.ns||this.options.defaultNS||[];const i=n&&t.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||((t,e,n)=>{e=e||"",n=n||"";const r=dp.filter(t=>e.indexOf(t)<0&&n.indexOf(t)<0);if(0===r.length)return!0;const o=hp.getRegExp(`(${r.map(t=>"?"===t?"\\?":t).join("|")})`);let i=!o.test(t);if(!i){const e=t.indexOf(n);e>0&&!o.test(t.substring(0,e))&&(i=!0)}return i})(t,n,r));if(i&&!a){const e=t.match(this.interpolator.nestingRegexp);if(e&&e.length>0)return{key:t,namespaces:Zh(o)?[o]:o};const i=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(i[0])>-1)&&(o=i.shift()),t=i.join(r)}return{key:t,namespaces:Zh(o)?[o]:o}}translate(t,e,n){if("object"!=typeof e&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof e&&(e={...e}),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);const r=void 0!==e.returnDetails?e.returnDetails:this.options.returnDetails,o=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,{key:i,namespaces:a}=this.extractFromKey(t[t.length-1],e),s=a[a.length-1],u=e.lng||this.language,l=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(l){const t=e.nsSeparator||this.options.nsSeparator;return r?{res:`${s}${t}${i}`,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:s,usedParams:this.getUsedParamsDetails(e)}:`${s}${t}${i}`}return r?{res:i,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:s,usedParams:this.getUsedParamsDetails(e)}:i}const c=this.resolve(t,e);let f=c&&c.res;const d=c&&c.usedKey||i,h=c&&c.exactUsedKey||i,p=Object.prototype.toString.apply(f),g=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,m=!Zh(f)&&"boolean"!=typeof f&&"number"!=typeof f;if(!(v&&f&&m&&["[object Number]","[object Function]","[object RegExp]"].indexOf(p)<0)||Zh(g)&&Array.isArray(f))if(v&&Zh(g)&&Array.isArray(f))f=f.join(g),f&&(f=this.extendTranslation(f,t,e,n));else{let r=!1,a=!1;const l=void 0!==e.count&&!Zh(e.count),d=Op.hasDefaultValue(e),h=l?this.pluralResolver.getSuffix(u,e.count,e):"",p=e.ordinal&&l?this.pluralResolver.getSuffix(u,e.count,{ordinal:!1}):"",g=l&&!e.ordinal&&0===e.count&&this.pluralResolver.shouldUseIntlApi(),v=g&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${h}`]||e[`defaultValue${p}`]||e.defaultValue;!this.isValidLookup(f)&&d&&(r=!0,f=v),this.isValidLookup(f)||(a=!0,f=i);const m=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:f,y=d&&v!==f&&this.options.updateMissing;if(a||r||y){if(this.logger.log(y?"updateKey":"missingKey",u,s,i,y?v:f),o){const t=this.resolve(i,{...e,keySeparator:!1});t&&t.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let t=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let e=0;e<n.length;e++)t.push(n[e]);else"all"===this.options.saveMissingTo?t=this.languageUtils.toResolveHierarchy(e.lng||this.language):t.push(e.lng||this.language);const r=(t,n,r)=>{const o=d&&r!==f?r:m;this.options.missingKeyHandler?this.options.missingKeyHandler(t,s,n,o,y,e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(t,s,n,o,y,e),this.emit("missingKey",t,s,n,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&l?t.forEach(t=>{const n=this.pluralResolver.getSuffixes(t,e);g&&e[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach(n=>{r([t],i+n,e[`defaultValue${n}`]||v)})}):r(t,i,v))}f=this.extendTranslation(f,t,e,c,n),a&&f===i&&this.options.appendNamespaceToMissingKey&&(f=`${s}:${i}`),(a||r)&&this.options.parseMissingKeyHandler&&(f="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${i}`:i,r?f:void 0):this.options.parseMissingKeyHandler(f))}else{if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const t=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,f,{...e,ns:a}):`key '${i} (${this.language})' returned an object instead of string.`;return r?(c.res=t,c.usedParams=this.getUsedParamsDetails(e),c):t}if(o){const t=Array.isArray(f),n=t?[]:{},r=t?h:d;for(const t in f)if(Object.prototype.hasOwnProperty.call(f,t)){const i=`${r}${o}${t}`;n[t]=this.translate(i,{...e,joinArrays:!1,ns:a}),n[t]===i&&(n[t]=f[t])}f=n}}return r?(c.res=f,c.usedParams=this.getUsedParamsDetails(e),c):f}extendTranslation(t,e,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a=Zh(t)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(a){const e=t.match(this.interpolator.nestingRegexp);s=e&&e.length}let u=n.replace&&!Zh(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),t=this.interpolator.interpolate(t,u,n.lng||this.language||r.usedLng,n),a){const e=t.match(this.interpolator.nestingRegexp);s<(e&&e.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(t=this.interpolator.nest(t,function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${e[0]}`),null):i.translate(...r,e)},n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s=Zh(a)?[a]:a;return null!=t&&s&&s.length&&!1!==n.applyPostProcessor&&(t=xp.handle(s,t,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let e,n,r,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zh(t)&&(t=[t]),t.forEach(t=>{if(this.isValidLookup(e))return;const s=this.extractFromKey(t,a),u=s.key;n=u;let l=s.namespaces;this.options.fallbackNS&&(l=l.concat(this.options.fallbackNS));const c=void 0!==a.count&&!Zh(a.count),f=c&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),d=void 0!==a.context&&(Zh(a.context)||"number"==typeof a.context)&&""!==a.context,h=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);l.forEach(t=>{this.isValidLookup(e)||(i=t,!Sp[`${h[0]}-${t}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(i)&&(Sp[`${h[0]}-${t}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(n=>{if(this.isValidLookup(e))return;o=n;const i=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(i,u,n,t,a);else{let t;c&&(t=this.pluralResolver.getSuffix(n,a.count,a));const e=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(i.push(u+t),a.ordinal&&0===t.indexOf(r)&&i.push(u+t.replace(r,this.options.pluralSeparator)),f&&i.push(u+e)),d){const n=`${u}${this.options.contextSeparator}${a.context}`;i.push(n),c&&(i.push(n+t),a.ordinal&&0===t.indexOf(r)&&i.push(n+t.replace(r,this.options.pluralSeparator)),f&&i.push(n+e))}}let s;for(;s=i.pop();)this.isValidLookup(e)||(r=s,e=this.getResource(n,t,s,a))}))})}),{res:e,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}isValidLookup(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}getResource(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)}getUsedParamsDetails(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Zh(t.replace);let r=n?t.replace:t;if(n&&void 0!==t.count&&(r.count=t.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const t of e)delete r[t]}return r}static hasDefaultValue(t){const e="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,12)&&void 0!==t[n])return!0;return!1}}const Ep=t=>t.charAt(0).toUpperCase()+t.slice(1);class kp{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=yp.create("languageUtils")}getScriptPartFromCode(t){if(!(t=gp(t))||t.indexOf("-")<0)return null;const e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}getLanguagePartFromCode(t){if(!(t=gp(t))||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if(Zh(t)&&t.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let e=Intl.getCanonicalLocales(t)[0];if(e&&this.options.lowerCaseLng&&(e=e.toLowerCase()),e)return e}catch(t){}const e=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map(t=>t.toLowerCase()):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ep(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ep(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=Ep(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach(t=>{if(e)return;const n=this.formatLanguageCode(t);this.options.supportedLngs&&!this.isSupportedCode(n)||(e=n)}),!e&&this.options.supportedLngs&&t.forEach(t=>{if(e)return;const n=this.getLanguagePartFromCode(t);if(this.isSupportedCode(n))return e=n;e=this.options.supportedLngs.find(t=>t===n?t:t.indexOf("-")<0&&n.indexOf("-")<0?void 0:t.indexOf("-")>0&&n.indexOf("-")<0&&t.substring(0,t.indexOf("-"))===n||0===t.indexOf(n)&&n.length>1?t:void 0)}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),Zh(t)&&(t=[t]),Array.isArray(t))return t;if(!e)return t.default||[];let n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}toResolveHierarchy(t,e){const n=this.getFallbackCodes(e||this.options.fallbackLng||[],t),r=[],o=t=>{t&&(this.isSupportedCode(t)?r.push(t):this.logger.warn(`rejecting language code not found in supportedLngs: ${t}`))};return Zh(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):Zh(t)&&o(this.formatLanguageCode(t)),n.forEach(t=>{r.indexOf(t)<0&&o(this.formatLanguageCode(t))}),r}}let Cp=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Np={1:t=>Number(t>1),2:t=>Number(1!=t),3:t=>0,4:t=>Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2),5:t=>Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5),6:t=>Number(1==t?0:t>=2&&t<=4?1:2),7:t=>Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2),8:t=>Number(1==t?0:2==t?1:8!=t&&11!=t?2:3),9:t=>Number(t>=2),10:t=>Number(1==t?0:2==t?1:t<7?2:t<11?3:4),11:t=>Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3),12:t=>Number(t%10!=1||t%100==11),13:t=>Number(0!==t),14:t=>Number(1==t?0:2==t?1:3==t?2:3),15:t=>Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2),16:t=>Number(t%10==1&&t%100!=11?0:0!==t?1:2),17:t=>Number(1==t||t%10==1&&t%100!=11?0:1),18:t=>Number(0==t?0:1==t?1:2),19:t=>Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3),20:t=>Number(1==t?0:0==t||t%100>0&&t%100<20?1:2),21:t=>Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0),22:t=>Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)};const Tp=["v1","v2","v3"],Lp=["v4"],Mp={zero:0,one:1,two:2,few:3,many:4,other:5};class Pp{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=t,this.options=e,this.logger=yp.create("pluralResolver"),this.options.compatibilityJSON&&!Lp.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const t={};return Cp.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:Np[e.fc]}})}),t})(),this.pluralRulesCache={}}addRule(t,e){this.rules[t]=e}clearCache(){this.pluralRulesCache={}}getRule(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const n=gp("dev"===t?"en":t),r=e.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:r});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let i;try{i=new Intl.PluralRules(n,{type:r})}catch(n){if(!t.match(/-|_/))return;const r=this.languageUtils.getLanguagePartFromCode(t);i=this.getRule(r,e)}return this.pluralRulesCache[o]=i,i}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(t,e);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,n).map(t=>`${e}${t}`)}getSuffixes(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(t,e);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((t,e)=>Mp[t]-Mp[e]).map(t=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${t}`):n.numbers.map(n=>this.getSuffix(t,n,e)):[]}getSuffix(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(e)}`:this.getSuffixRetroCompatible(r,e):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,e){const n=t.noAbs?t.plurals(e):t.plurals(Math.abs(e));let r=t.numbers[n];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===r?r="plural":1===r&&(r=""));const o=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?`_plural_${r.toString()}`:o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Tp.includes(this.options.compatibilityJSON)}}const Rp=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=((t,e,n)=>{const r=sp(t,n);return void 0!==r?r:sp(e,n)})(t,e,n);return!i&&o&&Zh(n)&&(i=pp(t,n,r),void 0===i&&(i=pp(e,n,r))),i},Dp=t=>t.replace(/\$/g,"$$$$");class Ap{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=yp.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(t=>t),this.init(t)}init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:e,escapeValue:n,useRawValueToEscape:r,prefix:o,prefixEscaped:i,suffix:a,suffixEscaped:s,formatSeparator:u,unescapeSuffix:l,unescapePrefix:c,nestingPrefix:f,nestingPrefixEscaped:d,nestingSuffix:h,nestingSuffixEscaped:p,nestingOptionsSeparator:g,maxReplaces:v,alwaysFormat:m}=t.interpolation;this.escape=void 0!==e?e:fp,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=o?lp(o):i||"{{",this.suffix=a?lp(a):s||"}}",this.formatSeparator=u||",",this.unescapePrefix=l?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=f?lp(f):d||lp("$t("),this.nestingSuffix=h?lp(h):p||lp(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=v||1e3,this.alwaysFormat=void 0!==m&&m,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(t,e)=>t&&t.source===e?(t.lastIndex=0,t):new RegExp(e,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,n,r){let o,i,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=t=>{if(t.indexOf(this.formatSeparator)<0){const o=Rp(e,s,t,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,n,{...r,...e,interpolationkey:t}):o}const o=t.split(this.formatSeparator),i=o.shift().trim(),a=o.join(this.formatSeparator).trim();return this.format(Rp(e,s,i,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...r,...e,interpolationkey:i})};this.resetRegExp();const l=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,c=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,f=[{regex:this.regexpUnescape,safeValue:t=>Dp(t)},{regex:this.regexp,safeValue:t=>this.escapeValue?Dp(this.escape(t)):Dp(t)}];return f.forEach(e=>{for(a=0;o=e.regex.exec(t);){const n=o[1].trim();if(i=u(n),void 0===i)if("function"==typeof l){const e=l(t,o,r);i=Zh(e)?e:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))i="";else{if(c){i=o[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${t}`),i=""}else Zh(i)||this.useRawValueToEscape||(i=ep(i));const s=e.safeValue(i);if(t=t.replace(o[0],s),c?(e.regex.lastIndex+=i.length,e.regex.lastIndex-=o[0].length):e.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,e){let n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(t,e)=>{const n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;const r=t.split(new RegExp(`${n}[ ]*{`));let i=`{${r[1]}`;t=r[0],i=this.interpolate(i,o);const a=i.match(/'/g),s=i.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),e&&(o={...e,...o})}catch(e){return this.logger.warn(`failed parsing options string in nesting for key ${t}`,e),`${t}${n}${i}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,t};for(;n=this.nestingRegexp.exec(t);){let s=[];o={...i},o=o.replace&&!Zh(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const t=n[1].split(this.formatSeparator).map(t=>t.trim());n[1]=t.shift(),s=t,u=!0}if(r=e(a.call(this,n[1].trim(),o),o),r&&n[0]===t&&!Zh(r))return r;Zh(r)||(r=ep(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),r=""),u&&(r=s.reduce((t,e)=>this.format(t,e,i.lng,{...i,interpolationkey:n[1].trim()}),r.trim())),t=t.replace(n[0],r),this.regexp.lastIndex=0}return t}}const jp=t=>{const e={};return(n,r,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i={...i,[o.interpolationkey]:void 0});const a=r+JSON.stringify(i);let s=e[a];return s||(s=t(gp(r),o),e[a]=s),s(n)}};class Ip{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=yp.create("formatter"),this.options=t,this.formats={number:jp((t,e)=>{const n=new Intl.NumberFormat(t,{...e});return t=>n.format(t)}),currency:jp((t,e)=>{const n=new Intl.NumberFormat(t,{...e,style:"currency"});return t=>n.format(t)}),datetime:jp((t,e)=>{const n=new Intl.DateTimeFormat(t,{...e});return t=>n.format(t)}),relativetime:jp((t,e)=>{const n=new Intl.RelativeTimeFormat(t,{...e});return t=>n.format(t,e.range||"day")}),list:jp((t,e)=>{const n=new Intl.ListFormat(t,{...e});return t=>n.format(t)})},this.init(t)}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=e.interpolation.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=jp(e)}format(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=e.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(t=>t.indexOf(")")>-1)){const t=o.findIndex(t=>t.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,t)].join(this.formatSeparator)}const i=o.reduce((t,e)=>{const{formatName:o,formatOptions:i}=(t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);"currency"===e&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===e&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(t=>{if(t){const[e,...r]=t.split(":"),o=r.join(":").trim().replace(/^'+|'+$/g,""),i=e.trim();n[i]||(n[i]=o),"false"===o&&(n[i]=!1),"true"===o&&(n[i]=!0),isNaN(o)||(n[i]=parseInt(o,10))}})}return{formatName:e,formatOptions:n}})(e);if(this.formats[o]){let e=t;try{const a=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},s=a.locale||a.lng||r.locale||r.lng||n;e=this.formats[o](t,s,{...i,...r,...a})}catch(t){this.logger.warn(t)}return e}return this.logger.warn(`there was no format function for ${o}`),t},t);return i}}class $p extends bp{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=t,this.store=e,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=yp.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(t,e,n,r){const o={},i={},a={},s={};return t.forEach(t=>{let r=!0;e.forEach(e=>{const a=`${t}|${e}`;!n.reload&&this.store.hasResourceBundle(t,e)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===i[a]&&(i[a]=!0):(this.state[a]=1,r=!1,void 0===i[a]&&(i[a]=!0),void 0===o[a]&&(o[a]=!0),void 0===s[e]&&(s[e]=!0)))}),r||(a[t]=!0)}),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(t,e,n){const r=t.split("|"),o=r[0],i=r[1];e&&this.emit("failedLoading",o,i,e),!e&&n&&this.store.addResourceBundle(o,i,n,void 0,void 0,{skipCopy:!0}),this.state[t]=e?-1:2,e&&n&&(this.state[t]=0);const a={};this.queue.forEach(n=>{((t,e,n)=>{const{obj:r,k:o}=ip(t,e,Object);r[o]=r[o]||[],r[o].push(n)})(n.loaded,[o],i),((t,e)=>{void 0!==t.pending[e]&&(delete t.pending[e],t.pendingCount--)})(n,t),e&&n.errors.push(e),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(t=>{a[t]||(a[t]={});const e=n.loaded[t];e.length&&e.forEach(e=>{void 0===a[t][e]&&(a[t][e]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(t=>!t.done)}read(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!t.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:t,ns:e,fcName:n,tried:r,wait:o,callback:i});this.readingCalls++;const a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const t=this.waitingReads.shift();this.read(t.lng,t.ns,t.fcName,t.tried,t.wait,t.callback)}a&&s&&r<this.maxRetries?setTimeout(()=>{this.read.call(this,t,e,n,r+1,2*o,i)},o):i(a,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(t,e,a);try{const n=s(t,e);n&&"function"==typeof n.then?n.then(t=>a(null,t)).catch(a):a(null,n)}catch(t){a(t)}}prepareLoading(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Zh(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Zh(e)&&(e=[e]);const o=this.queueLoad(t,e,n,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach(t=>{this.loadOne(t)})}load(t,e,n){this.prepareLoading(t,e,{},n)}reload(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}loadOne(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=t.split("|"),r=n[0],o=n[1];this.read(r,o,"read",void 0,void 0,(n,i)=>{n&&this.logger.warn(`${e}loading namespace ${o} for language ${r} failed`,n),!n&&i&&this.logger.log(`${e}loaded namespace ${o} for language ${r}`,i),this.loaded(t,n,i)})}saveMissing(t,e,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e))this.logger.warn(`did not save key "${n}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const s={...i,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let o;o=5===u.length?u(t,e,n,r,s):u(t,e,n,r),o&&"function"==typeof o.then?o.then(t=>a(null,t)).catch(a):a(null,o)}catch(t){a(t)}else u(t,e,n,r,a,s)}t&&t[0]&&this.store.addResource(t[0],e,n,r)}}}const Fp=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if("object"==typeof t[1]&&(e=t[1]),Zh(t[1])&&(e.defaultValue=t[1]),Zh(t[2])&&(e.tDescription=t[2]),"object"==typeof t[2]||"object"==typeof t[3]){const n=t[3]||t[2];Object.keys(n).forEach(t=>{e[t]=n[t]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Bp=t=>(Zh(t.ns)&&(t.ns=[t.ns]),Zh(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Zh(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),_p=()=>{};class Wp extends bp{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=Bp(t),this.services={},this.logger=yp,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{"function"==typeof n[t]&&(n[t]=n[t].bind(n))}),e&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,e),this;setTimeout(()=>{this.init(t,e)},0)}}init(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof e&&(n=e,e={}),!e.defaultNS&&!1!==e.defaultNS&&e.ns&&(Zh(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Fp();this.options={...r,...this.options,...Bp(e)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator);const o=t=>t?"function"==typeof t?new t:t:null;if(!this.options.isClone){let e;this.modules.logger?yp.init(o(this.modules.logger),this.options):yp.init(null,this.options),this.modules.formatter?e=this.modules.formatter:"undefined"!=typeof Intl&&(e=Ip);const n=new kp(this.options);this.store=new wp(this.options.resources,this.options);const i=this.services;i.logger=yp,i.resourceStore=this.store,i.languageUtils=n,i.pluralResolver=new Pp(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!e||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(i.formatter=o(e),i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new Ap(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new $p(o(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit(e,...r)}),this.modules.languageDetector&&(i.languageDetector=o(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=o(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new Op(this.services,this.options),this.translator.on("*",function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit(e,...r)}),this.modules.external.forEach(t=>{t.init&&t.init(this)})}if(this.format=this.options.interpolation.format,n||(n=_p),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const t=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);t.length>0&&"dev"!==t[0]&&(this.options.lng=t[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=function(){return t.store[e](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=function(){return t.store[e](...arguments),t}});const i=tp(),a=()=>{const t=(t,e)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(e),n(t,e)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return t(null,this.t.bind(this));this.changeLanguage(this.options.lng,t)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),i}loadResources(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_p;const n=Zh(t)?t:this.language;if("function"==typeof t&&(e=t),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return e();const t=[],r=e=>{if(!e)return;if("cimode"===e)return;this.services.languageUtils.toResolveHierarchy(e).forEach(e=>{"cimode"!==e&&t.indexOf(e)<0&&t.push(e)})};if(n)r(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(t=>r(t))}this.options.preload&&this.options.preload.forEach(t=>r(t)),this.services.backendConnector.load(t,this.options.ns,t=>{t||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),e(t)})}else e(null)}reloadResources(t,e,n){const r=tp();return"function"==typeof t&&(n=t,t=void 0),"function"==typeof e&&(n=e,e=void 0),t||(t=this.languages),e||(e=this.options.ns),n||(n=_p),this.services.backendConnector.reload(t,e,t=>{r.resolve(),n(t)}),r}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&xp.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}setResolvedLanguage(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(t,e){var n=this;this.isLanguageChangingTo=t;const r=tp();this.emit("languageChanging",t);const o=t=>{this.language=t,this.languages=this.services.languageUtils.toResolveHierarchy(t),this.resolvedLanguage=void 0,this.setResolvedLanguage(t)},i=(t,i)=>{i?(o(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),e&&e(t,function(){return n.t(...arguments)})},a=e=>{t||e||!this.services.languageDetector||(e=[]);const n=Zh(e)?e:this.services.languageUtils.getBestMatchFromCodes(e);n&&(this.language||o(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,t=>{i(t,n)})};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t):a(this.services.languageDetector.detect()),r}getFixedT(t,e,n){var r=this;const o=function(t,e){let i;if("object"!=typeof e){for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];i=r.options.overloadTranslationOptionHandler([t,e].concat(s))}else i={...e};i.lng=i.lng||o.lng,i.lngs=i.lngs||o.lngs,i.ns=i.ns||o.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||n||o.keyPrefix);const l=r.options.keySeparator||".";let c;return c=i.keyPrefix&&Array.isArray(t)?t.map(t=>`${i.keyPrefix}${l}${t}`):i.keyPrefix?`${i.keyPrefix}${l}${t}`:t,r.t(c,i)};return Zh(t)?o.lng=t:o.lngs=t,o.ns=e,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=e.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const i=(t,e)=>{const n=this.services.backendConnector.state[`${t}|${e}`];return-1===n||0===n||2===n};if(e.precheck){const t=e.precheck(this,i);if(void 0!==t)return t}return!!this.hasResourceBundle(n,t)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(n,t)||r&&!i(o,t)))}loadNamespaces(t,e){const n=tp();return this.options.ns?(Zh(t)&&(t=[t]),t.forEach(t=>{this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}),this.loadResources(t=>{n.resolve(),e&&e(t)}),n):(e&&e(),Promise.resolve())}loadLanguages(t,e){const n=tp();Zh(t)&&(t=[t]);const r=this.options.preload||[],o=t.filter(t=>r.indexOf(t)<0&&this.services.languageUtils.isSupportedCode(t));return o.length?(this.options.preload=r.concat(o),this.loadResources(t=>{n.resolve(),e&&e(t)}),n):(e&&e(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const e=this.services&&this.services.languageUtils||new kp(Fp());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(e.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Wp(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_p;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const r={...this.options,...t,isClone:!0},o=new Wp(r);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));return["store","services","language"].forEach(t=>{o[t]=this[t]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new wp(this.store.data,r),o.services.resourceStore=o.store),o.translator=new Op(o.services,r),o.translator.on("*",function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o.emit(t,...n)}),o.init(r,e),o.translator.options=r,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const zp=Wp.createInstance();zp.createInstance=Wp.createInstance,zp.createInstance,zp.dir,zp.init,zp.loadResources,zp.reloadResources,zp.use,zp.changeLanguage,zp.getFixedT,zp.t,zp.exists,zp.setDefaultNamespace,zp.hasLoadedNamespace,zp.loadNamespaces,zp.loadLanguages;var Up="translation";function Vp(t,e){zp.addResourceBundle(t,Up,e,!0,!0)}function Hp(t){zp.changeLanguage(t)}function Kp(t){return zp.getResourceBundle(t,Up)}function Jp(t){return zp.on("languageChanged",t),function(){return zp.off("languageChanged",t)}}zp.init({lng:"zh-CN",resources:{}});var qp=zp.t.bind(zp);function Gp(t){if(t.removeAttr){t.removeAttr("width"),t.removeAttr("height"),t.removeAttr("fill"),t.removeAttr("class"),t.removeAttr("t"),t.removeAttr("p-id");var e=t.children();e.length&&Gp(e)}}function Yp(){return d('<svg viewBox="0 0 1024 1024"><path d="M498.7 655.8l-197.6-268c-8.1-10.9-0.3-26.4 13.3-26.4h395.2c13.6 0 21.4 15.4 13.3 26.4l-197.6 268c-6.6 9-20 9-26.6 0z"></path></svg>')}function Xp(){return d('<div class="w-e-bar-divider"></div>')}function Qp(t,e,n,r,o){if(void 0===r&&(r=""),void 0===o&&(o=!1),e){if(r){var i=Od?"cmd":"ctrl";r=r.replace("mod",i)}if(o)r&&(t.attr("data-tooltip",r),t.addClass("w-e-menu-tooltip-v5"),t.addClass("tooltip-right"));else{var a=r?"".concat(n,"\n").concat(r):n;t.attr("data-tooltip",a),t.addClass("w-e-menu-tooltip-v5")}}}var Zp=function(){function t(t,e,n){void 0===n&&(n=!1);var r=this;this.$elem=d('<div class="w-e-bar-item"></div>'),this.$button=d('<button type="button"></button>'),this.disabled=!1,this.menu=e;var o=e.tag,i=e.width;if("button"!==o)throw new Error("Invalid tag '".concat(o,"', expected 'button'"));var a=e.title,s=e.hotkey,u=void 0===s?"":s,l=e.iconSvg,c=void 0===l?"":l,f=this.$button;if(c){var h=d(c);Gp(h),f.append(h)}else f.text(a);Qp(f,c,a,u,n),n&&c&&f.append(d('<span class="title">'.concat(a,"</span>"))),i&&f.css("width","".concat(i,"px")),f.attr("data-menu-key",t),this.$elem.append(f),uf(function(){return r.init()})}return t.prototype.init=function(){var t=this;this.setActive(),this.setDisabled(),this.$button.on("click",function(e){e.preventDefault(),hg(t).hidePanelOrModal(),t.disabled||(t.exec(),t.onButtonClick())})},t.prototype.exec=function(){var t=hg(this),e=this.menu,n=e.getValue(t);this.setIcon(),this.setTooltip(),e.exec(t,n)},t.prototype.setActive=function(){var t=hg(this),e=this.$button,n="active";this.menu.isActive(t)?e.addClass(n):e.removeClass(n)},t.prototype.setDisabled=function(){var t=hg(this),e=this.$button,n=this.menu.isDisabled(t);(null==t.selection||t.isDisabled())&&(n=!0),this.menu.alwaysEnable&&(n=!1);var r="disabled";n?e.addClass(r):e.removeClass(r),this.disabled=n},t.prototype.setIcon=function(){var t=hg(this),e=this.$button;if(this.menu.getIcon){var n=this.menu.getIcon(t);if(n){e.find("svg").remove();var r=d(n);Gp(r),e.append(r)}}},t.prototype.setTooltip=function(){var t=hg(this),e=this.$button;if(this.menu.getTitle){var n=this.menu.getTitle(t),r=this.menu.iconSvg;n&&r&&Qp(e,r,n)}},t.prototype.changeMenuState=function(){this.setActive(),this.setDisabled()},t}(),tg=function(t){function e(e,n,r){return void 0===r&&(r=!1),t.call(this,e,n,r)||this}return Zo(e,t),e.prototype.onButtonClick=function(){},e}(Zp),eg=function(){function t(t){this.isShow=!1,this.showTime=0,this.record(t)}return t.prototype.record=function(t){var e=ks.get(t);null==e&&(e=new Set,ks.set(t,e)),e.add(this),Cs.set(this,t)},t.prototype.renderContent=function(t){var e=this.$elem;e.empty(),e.append(t);var n=this.genSelfElem();n&&e.append(n)},t.prototype.appendTo=function(t){var e=this.$elem;t.append(e)},t.prototype.show=function(){if(!this.isShow){this.showTime=Date.now(),this.$elem.show(),this.isShow=!0;var t=Cs.get(this);t&&t.emit(fi,this)}},t.prototype.hide=function(){if(this.isShow&&!(Date.now()-this.showTime<200)){this.$elem.hide(),this.isShow=!1;var t=Cs.get(this);t&&t.emit(di)}},t}(),ng=function(t){function e(e){var n=t.call(this,e)||this;return n.type="dropPanel",n.$elem=d('<div class="w-e-drop-panel"></div>'),n}return Zo(e,t),e.prototype.genSelfElem=function(){return null},e}(eg),rg=function(t){function e(e,n,r){void 0===r&&(r=!1);var o=t.call(this,e,n,r)||this;if(o.dropPanel=null,o.menu=n,n.showDropPanel){var i=Yp();o.$button.append(i)}return o}return Zo(e,t),e.prototype.onButtonClick=function(){this.menu.showDropPanel&&this.handleDropPanel()},e.prototype.handleDropPanel=function(){var t=this.menu;if(null!=t.getPanelContentElem){var e=hg(this);if(null==this.dropPanel){var n=new ng(e),r=t.getPanelContentElem(e);n.renderContent(r),n.appendTo(this.$elem),n.show(),this.dropPanel=n}else{var o=this.dropPanel;if(o.isShow)o.hide();else{r=t.getPanelContentElem(e);o.renderContent(r),o.show()}}var i=this.dropPanel;if(i.isShow){var a=this.$elem,s=a.offset().left,u=a.parents(".w-e-bar");s-u.offset().left>=u.width()/2?i.$elem.css({left:"none",right:"0"}):i.$elem.css({left:"0",right:"none"})}}},e}(Zp),og=function(t){function e(e,n){void 0===n&&(n=0);var r=t.call(this,e)||this;r.type="modal",r.$elem=d('<div class="w-e-modal"></div>'),r.width=0,n&&(r.width=n);var o=r.$elem;return o.on("click",function(t){return t.stopPropagation()}),o.on("keyup",function(t){"Escape"===t.code&&(r.hide(),e.restoreSelection())}),r}return Zo(e,t),e.prototype.genSelfElem=function(){var t=this,e=d('<span class="btn-close">'.concat('<svg viewBox="0 0 1024 1024"><path d="M1024 896.1024l-128 128L512 640 128 1024 0 896 384 512 0 128 128 0 512 384 896.1024 0l128 128L640 512z"></path></svg>',"</span>")),n=Cs.get(this);return e.on("click",function(){t.hide(),null==n||n.restoreSelection()}),e},e.prototype.setStyle=function(t){var e=this.width,n=this.$elem;n.attr("style",""),e&&n.css("width","".concat(e,"px")),n.css(t)},e}(eg);function ig(t,e,n){var r=d('<label class="babel-container"></label>');r.append("<span>".concat(t,"</span>"));var o=d('<input type="text" id="'.concat(e,'" placeholder="').concat(n||"",'">'));return r.append(o),[r[0],o[0]]}function ag(t,e,n){var r=d('<label class="babel-container"></label>');r.append("<span>".concat(t,"</span>"));var o=d('<textarea type="text" id="'.concat(e,'" placeholder="').concat(n||"",'"></textarea>'));return r.append(o),[r[0],o[0]]}function sg(t,e){var n=d('<div class="button-container"></div>'),r=d('<button type="button" id="'.concat(t,'">').concat(e,"</button>"));return n.append(r),[n[0],r[0]]}var ug=function(t){function e(e,n,r){void 0===r&&(r=!1);var o=t.call(this,e,n,r)||this;return o.$body=d("body"),o.modal=null,o.menu=n,o}return Zo(e,t),e.prototype.onButtonClick=function(){this.menu.showModal&&this.handleModal()},e.prototype.getPosition=function(){var t=hg(this),e=this.menu.getModalPositionNode(t);return a.isElement(e)?qh(t,e,"modal"):Jh(t)},e.prototype.handleModal=function(){var t=hg(this),e=this.menu;if(null==this.modal){var n=new og(t,e.modalWidth);this.renderAndShowModal(n,!0),this.modal=n}else{(n=this.modal).isShow?n.hide():this.renderAndShowModal(n,!1)}},e.prototype.renderAndShowModal=function(t,e){void 0===e&&(e=!1);var n=hg(this),r=this.menu;if(null!=r.getModalContentElem){var o=Md.getTextarea(n),i=Md.getToolbar(n),a=((null==i?void 0:i.getConfig())||{}).modalAppendToBody,s=r.getModalContentElem(n);if(t.renderContent(s),a)t.setStyle({left:"0",right:"0"});else{var u=this.getPosition();t.setStyle(u)}e&&(a?t.appendTo(this.$body):t.appendTo(o.$textAreaContainer)),t.show(),a||Gh(n,t.$elem),setTimeout(function(){n.blur()})}},e}(Zp);var lg=function(t){function e(e,n){var r=t.call(this,e)||this;return r.type="selectList",r.$elem=d('<div class="w-e-select-list"></div>'),n&&r.$elem.css("width","".concat(n,"px")),r.$elem.on("click",function(t){t.stopPropagation()}),r}return Zo(e,t),e.prototype.renderList=function(t){var e=this.$elem;e.empty();var n=d("<ul></ul>");t.forEach(function(t){var e=t.value,r=t.text,o=t.selected,i=t.styleForRenderMenuList,a=d('<li data-value="'.concat(e,'"></li>'));if(i&&a.css(i),o){var s=d('<svg viewBox="0 0 1446 1024"><path d="M574.116299 786.736392 1238.811249 48.517862C1272.390222 11.224635 1329.414799 7.827718 1366.75664 41.450462 1403.840015 74.840484 1406.731043 132.084741 1373.10189 169.433699L655.118888 966.834607C653.072421 969.716875 650.835807 972.514337 648.407938 975.210759 615.017957 1012.29409 558.292155 1015.652019 521.195664 982.250188L72.778218 578.493306C35.910826 545.297758 32.859041 488.584019 66.481825 451.242134 99.871807 414.158803 156.597563 410.800834 193.694055 444.202665L574.116299 786.736392Z"></path></svg>');a.append(s),a.addClass("selected")}a.append(d('<span data-value="'.concat(e,'">').concat(r,"</span>"))),a.attr("title",r),n.append(a)}),e.append(n)},e.prototype.genSelfElem=function(){return null},e}(eg);var cg=function(){function t(t,e,n){void 0===n&&(n=!1);var r=this;this.$elem=d('<div class="w-e-bar-item"></div>'),this.$button=d('<button type="button" class="select-button"></button>'),this.disabled=!1,this.selectList=null;var o=e.tag,i=e.title,a=e.width,s=e.iconSvg,u=void 0===s?"":s,l=e.hotkey,c=void 0===l?"":l;if("select"!==o)throw new Error("Invalid tag '".concat(o,"', expected 'select'"));var f=this.$button;a&&f.css("width","".concat(a,"px")),f.attr("data-menu-key",t),Qp(f,u,i,c,n),this.$elem.append(f),this.menu=e,uf(function(){return r.init()})}return t.prototype.init=function(){var t=this;this.setSelectedValue(),this.$button.on("click",function(e){e.preventDefault(),hg(t).hidePanelOrModal(),t.trigger()})},t.prototype.trigger=function(){var t=this,e=hg(this);if(!e.isDisabled()&&!this.disabled){var n=this.menu;if(null==this.selectList){this.selectList=new lg(e,n.selectPanelWidth);var r=this.selectList,o=n.getOptions(e);r.renderList(o),r.appendTo(this.$elem),r.show(),r.$elem.on("click","li",function(e){var n=e.target;if(null!=n){e.preventDefault();var r=d(n).attr("data-value");t.onChange(r)}})}else{if((r=this.selectList).isShow)r.hide();else{o=n.getOptions(e);r.renderList(o),r.show()}}}},t.prototype.onChange=function(t){var e=hg(this),n=this.menu;n.exec&&n.exec(e,t)},t.prototype.setSelectedValue=function(){var t=hg(this),e=this.menu,n=e.getValue(t),r=function(t,e){for(var n=t.length,r="",o=0;o<n;o++){var i=t[o];if(i.value===e){r=i.text;break}}return r}(e.getOptions(t),n.toString()),o=this.$button,i=Yp();o.empty(),o.text(r),o.append(i)},t.prototype.setDisabled=function(){var t=hg(this),e=this.menu.isDisabled(t),n=this.$button;(null==t.selection||t.isDisabled())&&(e=!0);var r="disabled";e?n.addClass(r):n.removeClass(r),this.disabled=e},t.prototype.changeMenuState=function(){this.setSelectedValue(),this.setDisabled()},t}(),fg=function(){function t(t){this.$elem=d('<div class="w-e-bar-item w-e-bar-item-group"></div>'),this.$container=d('<div class="w-e-bar-item-menus-container"></div>'),this.$button=d('<button type="button"></button>');var e=t.key,n=t.iconSvg,r=t.title,o=this.$elem,i=this.$button;if(n){var a=d(n);Gp(a),i.append(a)}else i.text(r);i.attr("data-menu-key",e);var s=Yp();i.append(s),o.append(i);var u=this.$container;o.append(u);var l=this.createObserver();this.observe(l)}return t.prototype.appendBarItem=function(t){var e=t.$elem;this.$container.append(e)},t.prototype.observe=function(t){var e=this.$container;t.observe(e[0],{childList:!0,subtree:!0,attributes:!0})},t.prototype.createObserver=function(){var t=this,e=this.$container,n=this.$button,r=new MutationObserver(function(){var o=e.find("button"),i=o.length;if(0!==i){var a=0;o.each(function(t){d(t).hasClass("disabled")&&a++}),r.disconnect(),a===i?n.addClass("disabled"):n.removeClass("disabled"),t.observe(r)}});return r},t}(),dg=new WeakMap;function hg(t){var e=Es.get(t);if(null==e)throw new Error("Can not get editor instance");return e}function pg(t,e,n){void 0===n&&(n=!1);var r=dg.get(e);if(r)return r;var o=e.tag;if("button"===o){var i=e.showDropPanel,a=e.showModal;r=i?new rg(t,e,n):a?new ug(t,e,n):new tg(t,e,n)}if("select"===o&&(r=new cg(t,e,n)),null==r)throw new Error("Invalid tag in menu ".concat(JSON.stringify(e)));return dg.set(e,r),r}function gg(t,e){var n=t.selection;return null!=n&&(!i.isCollapsed(n)&&(!Md.getSelectedElems(t).some(function(e){if(t.isVoid(e))return!0;var n=e.type;return!!["pre","code","table"].includes(n)})&&!!o.isText(e)))}var vg,mg=function(){function t(){var t=this;this.$elem=d('<div class="w-e-bar w-e-bar-hidden w-e-hover-bar"></div>'),this.menus={},this.hoverbarItems=[],this.prevSelectedNode=null,this.isShow=!1,this.lngListen=function(){},this.changeHoverbarState=_(function(){var n=t.isShow,r=t.getSelectedNodeAndMenuKeys()||{},o=r.node,i=void 0===o?null:o,s=r.menuKeys,u=void 0===s?[]:s,l=t.getEditorInstance();if(null!=i&&t.changeItemsState(),i&&a.isElement(i)&&n){var c=t.isSamePath(i,t.prevSelectedNode);if(!e.isBlock(l,i)&&c)return}t.hideAndClean(),null!=i&&(t.registerItems(u),t.setPosition(i),t.show()),t.prevSelectedNode=i},200),uf(function(){var e=t.getEditorInstance(),n=t.$elem;n.on("mousedown",function(t){return t.preventDefault()},{passive:!1}),Md.getTextarea(e).$textAreaContainer.append(n),e.on(si,t.changeHoverbarState);var r=t.hideAndClean.bind(t);e.on(ui,r),e.on(li,r),e.on(ci,r)}),this.lngListen=Jp(function(){t.menus={},t.hideAndClean(),t.getEditorInstance().deselect()})}return t.prototype.getMenus=function(){return this.menus},t.prototype.hideAndClean=function(){var t=this.$elem;t.removeClass("w-e-bar-show").addClass("w-e-bar-hidden"),this.hoverbarItems=[],t.empty(),this.isShow=!1},t.prototype.checkPositionBottom=function(){var t=this.$elem,e=!1,n="undefined"!=typeof window?window.innerHeight:null;n&&n>=360&&(n-t[0].getBoundingClientRect().bottom<360&&(e=!0));e?t.addClass("w-e-bar-bottom"):t.removeClass("w-e-bar-bottom")},t.prototype.show=function(){this.$elem.removeClass("w-e-bar-hidden").addClass("w-e-bar-show"),this.isShow=!0,this.checkPositionBottom()},t.prototype.changeItemsState=function(){var t=this;uf(function(){t.hoverbarItems.forEach(function(t){t.changeMenuState()})})},t.prototype.registerItems=function(t){var e=this,n=this.$elem;t.forEach(function(t){if("|"!==t)e.registerSingleItem(t);else{var r=Xp();n.append(r)}})},t.prototype.registerSingleItem=function(t){var e=this.getEditorInstance(),n=this.menus,r=n[t];if(null==r){var o=hi[t];if(null==o)throw new Error("Not found menu item factory by key '".concat(t,"'"));if("function"!=typeof o)throw new Error("Menu item factory (key='".concat(t,"') is not a function"));r=o(),n[t]=r}var i=e.getMenuConfig(t);i&&void 0!==i.iconSvg&&(r.iconSvg=i.iconSvg);var a=pg(t,r);this.hoverbarItems.push(a),Es.set(a,e),this.$elem.append(a.$elem)},t.prototype.setPosition=function(t){var e=this.getEditorInstance(),n=this.$elem;if(n.attr("style",""),a.isElement(t)){var r=qh(e,t,"bar");return n.css(r),void Gh(e,n)}if(o.isText(t)){r=Jh(e);return n.css(r),void Gh(e,n)}throw new Error("hoverbar.setPosition error, current selected node is not elem nor text")},t.prototype.getSelectedNodeAndMenuKeys=function(){var t=this.getEditorInstance();if(null==t.selection)return null;var n=this.getHoverbarKeysConf(),r=null,o=[],i=function(i){var a=n[i],s=a.match,u=a.menuKeys,l=void 0===u?[]:u,c=s||function(t,e){return Md.checkNodeType(e,i)},f=ni(e.nodes(t,{match:function(e){return c(t,e)},universal:!0}),1),d=f[0];if(null!=d)return r=d[0],o=l,"break"};for(var a in n){if("break"===i(a))break}return null==r||0===o.length?null:{node:r,menuKeys:o}},t.prototype.getEditorInstance=function(){var t=Ss.get(this);if(null==t)throw new Error("Can not get editor instance");return t},t.prototype.getHoverbarKeysConf=function(){var t=this.getEditorInstance().getConfig().hoverbarKeys,e=void 0===t?{}:t,n=e.text;return n&&null==n.match&&(n.match=gg),e},t.prototype.isSamePath=function(t,e){if(null==t||null==e)return!1;var n=Md.findPath(null,t),o=Md.findPath(null,e);return r.equals(n,o)},t.prototype.destroy=function(){var t;this.changeHoverbarState.cancel(),this.$elem.remove(),null===(t=this.lngListen)||void 0===t||t.call(this),this.menus={},this.hoverbarItems=[],this.prevSelectedNode=null},t}(),yg={};function bg(t,e){return kf(e)&&Md.hasDOMNode(t,e,{editable:!0})}function wg(t,n){if(t.getConfig().readOnly)return!1;var r=xg(t,n)&&Md.toSlateNode(t,n);return e.isVoid(t,r)}function xg(t,e){return kf(e)&&Md.hasDOMNode(t,e)}!function(){if(vg)return yg;vg=1;var t,e=no(),n=_o(),r=pn().f,o=mr(),i=pa(),a=gu(),s=ge(),u=vu(),l=en(),c=n("".slice),f=Math.min,d=u("startsWith");e({target:"String",proto:!0,forced:!!(l||d||(t=r(String.prototype,"startsWith"),!t||t.writable))&&!d},{startsWith:function(t){var e=i(s(this));a(t);var n=o(f(arguments.length>1?arguments[1]:void 0,e.length)),r=i(t);return c(e,n,n+r.length)===r}})}();const Sg=t=>"object"==typeof t&&null!=t&&1===t.nodeType,Og=(t,e)=>(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t,Eg=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return Og(n.overflowY,e)||Og(n.overflowX,e)||(t=>{const e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},kg=(t,e,n,r,o,i,a,s)=>i<t&&a>e||i>t&&a<e?0:i<=t&&s<=n||a>=e&&s>=n?i-t-r:a>e&&s<n||i<t&&s>n?a-e+o:0,Cg=t=>{const e=t.parentElement;return null==e?t.getRootNode().host||null:e},Ng=(t,e)=>{var n,r,o,i;if("undefined"==typeof document)return[];const{scrollMode:a,block:s,inline:u,boundary:l,skipOverflowHiddenElements:c}=e,f="function"==typeof l?l:t=>t!==l;if(!Sg(t))throw new TypeError("Invalid target");const d=document.scrollingElement||document.documentElement,h=[];let p=t;for(;Sg(p)&&f(p);){if(p=Cg(p),p===d){h.push(p);break}null!=p&&p===document.body&&Eg(p)&&!Eg(document.documentElement)||null!=p&&Eg(p,c)&&h.push(p)}const g=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,v=null!=(i=null==(o=window.visualViewport)?void 0:o.height)?i:innerHeight,{scrollX:m,scrollY:y}=window,{height:b,width:w,top:x,right:S,bottom:O,left:E}=t.getBoundingClientRect(),{top:k,right:C,bottom:N,left:T}=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);let L="start"===s||"nearest"===s?x-k:"end"===s?O+N:x+b/2-k+N,M="center"===u?E+w/2-T+C:"end"===u?S+C:E-T;const P=[];for(let t=0;t<h.length;t++){const e=h[t],{height:n,width:r,top:o,right:i,bottom:l,left:c}=e.getBoundingClientRect();if("if-needed"===a&&x>=0&&E>=0&&O<=v&&S<=g&&(e===d&&!Eg(e)||x>=o&&O<=l&&E>=c&&S<=i))return P;const f=getComputedStyle(e),p=parseInt(f.borderLeftWidth,10),k=parseInt(f.borderTopWidth,10),C=parseInt(f.borderRightWidth,10),N=parseInt(f.borderBottomWidth,10);let T=0,R=0;const D="offsetWidth"in e?e.offsetWidth-e.clientWidth-p-C:0,A="offsetHeight"in e?e.offsetHeight-e.clientHeight-k-N:0,j="offsetWidth"in e?0===e.offsetWidth?0:r/e.offsetWidth:0,I="offsetHeight"in e?0===e.offsetHeight?0:n/e.offsetHeight:0;if(d===e)T="start"===s?L:"end"===s?L-v:"nearest"===s?kg(y,y+v,v,k,N,y+L,y+L+b,b):L-v/2,R="start"===u?M:"center"===u?M-g/2:"end"===u?M-g:kg(m,m+g,g,p,C,m+M,m+M+w,w),T=Math.max(0,T+y),R=Math.max(0,R+m);else{T="start"===s?L-o-k:"end"===s?L-l+N+A:"nearest"===s?kg(o,l,n,k,N+A,L,L+b,b):L-(o+n/2)+A/2,R="start"===u?M-c-p:"center"===u?M-(c+r/2)+D/2:"end"===u?M-i+C+D:kg(c,i,r,p,C+D,M,M+w,w);const{scrollLeft:t,scrollTop:a}=e;T=0===I?0:Math.max(0,Math.min(a+T/I,e.scrollHeight-n/I+A)),R=0===j?0:Math.max(0,Math.min(t+R/j,e.scrollWidth-r/j+D)),L+=a-T,M+=t-R}P.push({el:e,top:T,left:R})}return P};function Tg(t,e){if(!t.isConnected||!(t=>{let e=t;for(;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1})(t))return;const n=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);if((t=>"object"==typeof t&&"function"==typeof t.behavior)(e))return e.behavior(Ng(t,e));const r="boolean"==typeof e||null==e?void 0:e.behavior;for(const{el:o,top:i,left:a}of Ng(t,(t=>!1===t?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&0!==Object.keys(t).length)(t)?t:{block:"start",inline:"nearest"})(e))){const t=i-n.top+n.bottom,e=a-n.left+n.right;o.scroll({top:t,left:e,behavior:r})}}function Lg(t,e,n){void 0===n&&(n=!1);var r=e.selection,o=e.getConfig(),a=Md.findDocumentOrShadowRoot(e).getSelection();if(a&&(!t.isComposing||n)&&e.isFocused()){var s="None"!==a.type;if(r||s){var u=js.get(e),l=!1;if(u.contains(a.anchorNode)&&u.contains(a.focusNode)&&(l=!0),s&&l&&r){var c=Md.toSlateRange(e,a,{exactMatch:!0,suppressThrow:!0});if(c&&i.equals(c,r)){var f=!0;if(i.isCollapsed(r)){var d=a.anchorNode,h=a.anchorOffset;if(d===u){var p=u.childNodes,g=void 0;(g=p[h])&&g.matches("table")&&(f=!1),(g=p[h-1])&&g.matches("table")&&(f=!1)}}if(f)return}}if(!r||Md.hasRange(e,r)){t.isUpdatingSelection=!0;var v=r&&Md.toDOMRange(e,r);if(v){i.isBackward(r)?a.setBaseAndExtent(v.endContainer,v.endOffset,v.startContainer,v.startOffset):a.setBaseAndExtent(v.startContainer,v.startOffset,v.endContainer,v.endOffset);var m=v.startContainer.parentElement;if(!m.closest("[data-slate-spacer]")&&v.getBoundingClientRect){var y=v.getBoundingClientRect.bind(v)();0===y.top&&0===y.right&&0===y.bottom&&0===y.left&&0===y.height&&0===y.width||(m.getBoundingClientRect=v.getBoundingClientRect.bind(v));var b=document.body;Tg(m,{scrollMode:"if-needed",boundary:o.scroll&&u.parentElement||b,block:"end",behavior:"smooth"}),delete m.getBoundingClientRect}}else a.removeAllRanges();setTimeout(function(){v&&Ed&&u.focus(),t.isUpdatingSelection=!1})}else e.selection=Md.toSlateRange(e,a,{exactMatch:!1,suppressThrow:!1})}}}var Mg=new WeakMap,Pg=new WeakMap;var Rg={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z",tab:"tab",selectAll:"mod+a"},Dg={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Ag={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},jg=function(t){var e=Rg[t],n=Dg[t],r=Ag[t],o=e&&z(e),i=n&&z(n),a=r&&z(r);return function(t){return!(!o||!o(t))||(!!(Od&&i&&i(t))||!(Od||!a||!a(t)))}},Ig={isBold:jg("bold"),isCompose:jg("compose"),isMoveBackward:jg("moveBackward"),isMoveForward:jg("moveForward"),isDeleteBackward:jg("deleteBackward"),isDeleteForward:jg("deleteForward"),isDeleteLineBackward:jg("deleteLineBackward"),isDeleteLineForward:jg("deleteLineForward"),isDeleteWordBackward:jg("deleteWordBackward"),isDeleteWordForward:jg("deleteWordForward"),isExtendBackward:jg("extendBackward"),isExtendForward:jg("extendForward"),isExtendLineBackward:jg("extendLineBackward"),isExtendLineForward:jg("extendLineForward"),isItalic:jg("italic"),isMoveLineBackward:jg("moveLineBackward"),isMoveLineForward:jg("moveLineForward"),isMoveWordBackward:jg("moveWordBackward"),isMoveWordForward:jg("moveWordForward"),isRedo:jg("redo"),isSplitBlock:jg("splitBlock"),isTransposeCharacter:jg("transposeCharacter"),isUndo:jg("undo"),isTab:jg("tab"),isSelectAll:jg("selectAll")};function $g(t){t.preventDefault()}var Fg,Bg,_g,Wg={beforeinput:function(n,r,o){var a=n,s=o.getConfig().readOnly;if(Ld&&!s&&bg(o,a.target)){var u=o.selection,l=a.inputType,c=a.dataTransfer||a.data||void 0;if("insertCompositionText"!==l&&"deleteCompositionText"!==l){if(a.preventDefault(),!l.startsWith("delete")||l.startsWith("deleteBy")){var f=ni(a.getTargetRanges(),1)[0];if(f){var d=Md.toSlateRange(o,f,{exactMatch:!1,suppressThrow:!1});u&&i.equals(u,d)||t.select(o,d)}}if(u&&i.isExpanded(u)){var h=Md.getSelectedElems(o),p="table"===h[0].type,g="table-cell"!==h[h.length-1].type;if(p&&g)return;if(l.startsWith("delete")){var v=l.endsWith("Backward")?"backward":"forward";return void e.deleteFragment(o,{direction:v})}}switch(l){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":e.deleteFragment(o);break;case"deleteContent":case"deleteContentForward":e.deleteForward(o);break;case"deleteContentBackward":e.deleteBackward(o);break;case"deleteEntireSoftLine":e.deleteBackward(o,{unit:"line"}),e.deleteForward(o,{unit:"line"});break;case"deleteHardLineBackward":e.deleteBackward(o,{unit:"block"});break;case"deleteSoftLineBackward":e.deleteBackward(o,{unit:"line"});break;case"deleteHardLineForward":e.deleteForward(o,{unit:"block"});break;case"deleteSoftLineForward":e.deleteForward(o,{unit:"line"});break;case"deleteWordBackward":e.deleteBackward(o,{unit:"word"});break;case"deleteWordForward":e.deleteForward(o,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":e.insertBreak(o);break;case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if("insertFromPaste"===l&&!Vs.get(o))break;wf(c)?o.insertData(c):"string"==typeof c&&e.insertText(o,c)}}}},blur:function(t,e,n){var r=t,o=e.isUpdatingSelection,i=e.latestElement;if(!n.getConfig().readOnly&&!o&&bg(n,r.target)){var s=Md.findDocumentOrShadowRoot(n);if(i!==s.activeElement){var u=r.relatedTarget;if(!(u===Md.toDOMNode(n,n)||Nf(u)&&u.hasAttribute("data-slate-spacer"))){if(null!=u&&kf(u)&&Md.hasDOMNode(n,u)){var l=Md.toSlateNode(n,u);if(a.isElement(l)&&!n.isVoid(l))return}if(kd){var c=s.getSelection();null==c||c.removeAllRanges()}Ws.delete(n)}}}},focus:function(t,e,n){var r=Md.toDOMNode(n,n),o=Md.findDocumentOrShadowRoot(n);e.latestElement=o.activeElement,Ed&&t.target!==r?r.focus():Ws.set(n,!0)},click:function(n,o,i){if(!i.getConfig().readOnly&&xg(i,n.target)&&kf(n.target)){var a=Md.toSlateNode(i,n.target),u=Md.findPath(i,a);if(e.hasPath(i,u))if(s.get(i,u)===a){var l=e.start(i,u),c=e.end(i,u),f=e.void(i,{at:l}),d=e.void(i,{at:c});if(f&&d&&r.equals(f[1],d[1])){var h=e.range(i,l);t.select(i,h)}}}},compositionstart:function(t,n,r){if(bg(r,t.target)){var o=r.selection;if(o&&i.isExpanded(o)&&(e.deleteFragment(r),Promise.resolve().then(function(){Lg(n,r,!0)})),r.selection){var a=Md.toDOMRange(r,r.selection).startContainer,s=a.textContent||"";Mg.set(r,s),Pg.set(r,a)}n.isComposing=!0,function(t,e){var n;e.getConfig().placeholder&&e.isEmpty()&&t.showPlaceholder&&(null===(n=t.$placeholder)||void 0===n||n.hide(),t.showPlaceholder=!1)}(n,r)}},compositionend:function(t,n,r){var s=t;if(bg(r,s.target)){n.isComposing=!1;var u=r.selection;if(null!=u){(Td||Ed)&&Md.cleanExposedTexNodeInSelectionBlock(r);for(var l=i.isBackward(u)?u.focus:u.anchor,c=ni(e.node(r,[l.path[0]]),1)[0],f=0;f<l.path.length;f+=1){var d=ni(e.node(r,l.path.slice(0,f+1)),1)[0];if(a.isElement(d)&&((kd||Ed)&&"link"===d.type||"code"===d.type)){Md.setNewKey(c);break}}var h=s.data;if(h){if(r.getConfig().maxLength){var p=Md.getLeftLengthOfMaxLength(r);if(p<h.length){var g=Md.toDOMRange(r,u);g.startContainer.nodeType===Node.TEXT_NODE&&(g.startContainer.textContent=Mg.get(r)||""),p>0&&e.insertText(r,h.slice(0,p)),n.changeViewState()}else e.insertText(r,h)}else{var v=Md.findDocumentOrShadowRoot(r).getSelection();v&&function(t,n){if(i.isCollapsed(n)){var r=n.anchor,a=n.focus;if([2,3].includes(r.path.length)&&[2,3].includes(a.path.length)&&(0===r.offset||0===a.offset)){var s=e.node(t,r.path),u=0===r.offset?r.path:a.path,l=[u[0],u[1]-1];if(0===u[1])return!1;var c=e.node(t,l);if(o.isText(c[0])&&o.isText(s[0]))return!0}}}(r,u)&&(r.selection=Md.toSlateRange(r,v,{exactMatch:!1,suppressThrow:!1})),e.insertText(r,h)}kd||setTimeout(function(){var t=r.selection;if(null!=t){var e=Pg.get(r);if(null!=e)Md.toDOMRange(r,t).startContainer!==e&&(e.textContent=Mg.get(r)||"")}})}}}},compositionupdate:function(t,e,n){bg(n,t.target)&&(e.isComposing=!0)},keydown:function(n,r,o){var u=n,l=o.selection;if(!o.getConfig().readOnly&&!r.isComposing&&bg(o,u.target)){if(function(t,e){var n=xs.get(t),r=n&&n.getMenus(),o=Os.get(t),i=o&&o.getMenus(),a=ti(ti({},r),i);for(var s in a){var u=a[s],l=u.hotkey;if(l&&U(l,e)&&!u.isDisabled(t)){var c=u.getValue(t);u.exec(t,c)}}}(o,u),Ig.isTab(u))return $g(u),void o.handleTab();if(Ig.isRedo(u))return $g(u),void("function"==typeof o.redo&&o.redo());if(Ig.isUndo(u))return $g(u),void("function"==typeof o.undo&&o.undo());if(Ig.isMoveLineBackward(u))return $g(u),void t.move(o,{unit:"line",reverse:!0});if(Ig.isMoveLineForward(u))return $g(u),void t.move(o,{unit:"line"});if(Ig.isExtendLineBackward(u))return $g(u),void t.move(o,{unit:"line",edge:"focus",reverse:!0});if(Ig.isExtendLineForward(u))return $g(u),void t.move(o,{unit:"line",edge:"focus"});if(Ig.isMoveBackward(u))return $g(u),void(l&&i.isCollapsed(l)?t.move(o,{reverse:!0}):t.collapse(o,{edge:"start"}));if(Ig.isMoveForward(u))return $g(u),void(l&&i.isCollapsed(l)?t.move(o):t.collapse(o,{edge:"end"}));if(Ig.isMoveWordBackward(u))return $g(u),l&&i.isExpanded(l)&&t.collapse(o,{edge:"focus"}),void t.move(o,{unit:"word",reverse:!0});if(Ig.isMoveWordForward(u))return $g(u),l&&i.isExpanded(l)&&t.collapse(o,{edge:"focus"}),void t.move(o,{unit:"word"});if(Ig.isSelectAll(u))return $g(u),void o.selectAll();if(Ld){if((Td||kd)&&l&&(Ig.isDeleteBackward(u)||Ig.isDeleteForward(u))&&i.isCollapsed(l)){var c=s.parent(o,l.anchor.path);if(a.isElement(c)&&e.isVoid(o,c)&&e.isInline(o,c))return u.preventDefault(),void t.delete(o,{unit:"block"})}}else{if(Ig.isBold(u)||Ig.isItalic(u)||Ig.isTransposeCharacter(u))return void $g(u);if(Ig.isSplitBlock(u))return $g(u),void e.insertBreak(o);if(Ig.isDeleteBackward(u))return $g(u),void(l&&i.isExpanded(l)?e.deleteFragment(o,{direction:"backward"}):e.deleteBackward(o));if(Ig.isDeleteForward(u))return $g(u),void(l&&i.isExpanded(l)?e.deleteFragment(o,{direction:"forward"}):e.deleteForward(o));if(Ig.isDeleteLineBackward(u))return $g(u),void(l&&i.isExpanded(l)?e.deleteFragment(o,{direction:"backward"}):e.deleteBackward(o,{unit:"line"}));if(Ig.isDeleteLineForward(u))return $g(u),void(l&&i.isExpanded(l)?e.deleteFragment(o,{direction:"forward"}):e.deleteForward(o,{unit:"line"}));if(Ig.isDeleteWordBackward(u))return $g(u),void(l&&i.isExpanded(l)?e.deleteFragment(o,{direction:"backward"}):e.deleteBackward(o,{unit:"word"}));if(Ig.isDeleteWordForward(u))return $g(u),void(l&&i.isExpanded(l)?e.deleteFragment(o,{direction:"forward"}):e.deleteForward(o,{unit:"word"}))}}},keypress:function(t,n,r){if(!Ld&&!r.getConfig().readOnly&&bg(r,t.target)){t.preventDefault();var o=t.key;e.insertText(r,o)}},copy:function(t,e,n){var r=t;if(bg(n,r.target)){n.getConfig().readOnly||r.preventDefault();var o=r.clipboardData;if(null!=o){n.setFragmentData(o);var i=n.getConfig().customCopy;i&&i(n,r)}}},cut:function(n,r,o){var a=n,u=o.selection;if(!o.getConfig().readOnly&&(a.preventDefault(),bg(o,a.target))){var l=a.clipboardData;if(null!=l&&(o.setFragmentData(l),u))if(i.isExpanded(u))e.deleteFragment(o);else{var c=s.parent(o,u.anchor.path);e.isVoid(o,c)&&t.delete(o)}}},paste:function(t,e,n){Vs.set(n,!0);var r=t;if(!n.getConfig().readOnly&&bg(n,r.target)){var o=n.getConfig().customPaste;if(o)if(!1===o(n,r))return void Vs.set(n,!1);if(kd||!Ld||Mf(r)){r.preventDefault();var i=r.clipboardData;null!=i&&n.insertData(i)}}},dragover:function(t,n,r){if(xg(r,t.target)){var o=Md.toSlateNode(r,t.target);e.isVoid(r,o)&&t.preventDefault()}},dragstart:function(n,r,o){var i=n;if(xg(o,i.target)&&!o.getConfig().readOnly){var a=Md.toSlateNode(o,i.target),s=Md.findPath(o,a);if(e.isVoid(o,a)||e.void(o,{at:s,voids:!0})){var u=e.range(o,s);t.select(o,u)}var l=i.dataTransfer;if(null!=l)Md.getSelectedNodeByType(o,"table")||(r.isDraggingInternally=!0,o.setFragmentData(l))}},dragend:function(t,e,n){var r=t;n.getConfig().readOnly||e.isDraggingInternally&&xg(n,r.target)&&(e.isDraggingInternally=!1)},drop:function(e,n,r){var o=e,i=o.dataTransfer;if(!r.getConfig().readOnly&&xg(r,o.target)&&null!=i&&!(Ld&&kd&&i.files.length>0)){o.preventDefault();var a=r.selection,s=Md.findEventRange(r,o);t.select(r,s),n.isDraggingInternally&&(a&&t.delete(r,{at:a}),n.isDraggingInternally=!1),r.insertData(i),r.isFocused()||r.focus()}}},zg={};!function(){if(_g)return zg;_g=1;var t=no(),e=function(){if(Bg)return Fg;Bg=1;var t=yt(),e=fe(),n=wt(),r=mt(),o=mo(),i=Qr(),a=le(),s=an(),u=he(),l=Object.assign,c=Object.defineProperty,f=e([].concat);return Fg=!l||r(function(){if(t&&1!==l({b:1},l(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},n={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach(function(t){n[t]=t}),7!==l({},e)[r]||o(l({},n)).join("")!==i})?function(e,r){for(var l=s(e),c=arguments.length,d=1,h=i.f,p=a.f;c>d;)for(var g,v=u(arguments[d++]),m=h?f(o(v),h(v)):o(v),y=m.length,b=0;y>b;)g=m[b++],t&&!n(p,v,g)||(l[g]=v[g]);return l}:l,Fg}();t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e})}();var Ug=[];function Vg(t){Ug.push(t)}var Hg={};function Kg(t){var e=t.type,n=t.renderElem;Hg[e||""]=n}function Jg(t,e,n){var r=n.isInline(t)?"span":"div";return V(r,null,e)}function qg(t,n){var r,o=Md.findKey(n,t),i=n.isInline(t),a=e.isVoid(n,t),u=sd(t.type,o.id),l={id:u,key:o.id,"data-slate-node":"element","data-slate-inline":i},c=t.type,f=t.children,d=void 0===f?[]:f,h=function(t){return Hg[t]||Jg}(c);r=a?null:d.map(function(e,r){return Qg(e,r,t,n)});var p=h(t,r,n);if(a){l["data-slate-void"]=!0;var g=i?"span":"div",v=ni(s.texts(t),1),m=ni(v[0],1)[0],y=Qg(m,0,t,n),b=V(g,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},y);p=V(g,{style:{position:"relative"}},p,b),Ds.set(m,0),As.set(m,t)}return null==p.data&&(p.data={}),Object.assign(p.data,l),a||i||(p=function(t,e){var n=e;return Ug.forEach(function(r){n=r(t,e)}),n}(t,p)),uf(function(){var e=Df(u);null!=e&&($s.set(o,e),Fs.set(t,e),Is.set(e,t))}),p}function Gg(t,e){return void 0===e&&(e=!1),V("span",{"data-slate-string":!0},e?t+"\n":t)}function Yg(t,e){return void 0===t&&(t=0),void 0===e&&(e=!1),V("span",{"data-slate-zero-width":e?"n":"z","data-slate-length":t},"\ufeff",e?V("br",null):null)}function Xg(t,n,i){if(null==t.text)throw new Error("Current node is not slate Text ".concat(JSON.stringify(t)));var a=Md.findKey(i,t),u=i.getConfig().decorate;if(null==u)throw new Error("Can not get config.decorate");var l,c=Md.findPath(i,t),f=u([t,c]),d=o.decorations(t,f),h=d.map(function(o,a){var u=function(t,n,o,i,a){void 0===n&&(n=!1);var u=t.text,l=Md.findPath(a,o),c=r.parent(l);if(e.isEditor(i))throw new Error("Text node ".concat(JSON.stringify(o)," parent is Editor"));return a.isVoid(i)?Yg(s.string(i).length):""!==u||i.children[i.children.length-1]!==o||a.isInline(i)||""!==e.string(a,c)?""===u?Yg():n&&"\n"===u.slice(-1)?Gg(u,!0):Gg(u):Yg(0,!0)}(o,a===d.length-1,t,n,i);return u=function(t,e){var n=e;return Ug.forEach(function(e){n=e(t,n)}),n}(o,u),V("span",{"data-slate-leaf":!0},u)}),p=(l=a.id,"w-e-text-".concat(l)),g=V("span",{"data-slate-node":"text",id:p,key:a.id},h);return uf(function(){var e=Df(p);null!=e&&($s.set(a,e),Fs.set(t,e),Is.set(e,t))}),g}function Qg(t,e,n,r){return Ds.set(t,e),As.set(t,n),a.isElement(t)?qg(t,r):Xg(t,n,r)}var Zg=["props","attrs","style","dataset","on","hook"];function tv(t){var e=t.data,n=void 0===e?{}:e,r=t.children,o=void 0===r?[]:r;Object.keys(n).forEach(function(e){var r,o,i=n[e];if("key"!==e){if(!Zg.includes(e)){if(e.startsWith("data-")){var a=e.slice(5);return a=Z(a),function(t,e){null==t.data&&(t.data={});var n=t.data;null==n.dataset&&(n.dataset={});Object.assign(n.dataset,e)}(t,((r={})[a]=i,r)),void delete n[e]}!function(t,e){null==t.data&&(t.data={});var n=t.data;null==n.props&&(n.props={});Object.assign(n.props,e)}(t,(o={},o[e]=i,o)),delete n[e]}}else t.key=i}),o.length>0&&o.forEach(function(t){"string"!=typeof t&&tv(t)})}function ev(t,e){var n,r,o=t.$scroll,i=(n=t.id,"w-e-textarea-".concat(n)),s=e.getConfig(),u=s.readOnly,l=s.autoFocus,c=function(t,e){return void 0===e&&(e=!1),Q("div#".concat(t),{props:{contentEditable:!e}})}(i,u),f=e.children||[];c.children=f.map(function(t,n){if(Ps.has(t)){var r=Ps.get(t);if(r){var o=ni(r,2),i=o[0],s=o[1];if(s)return i!==n&&(Ds.set(t,n),Ps.set(t,[n,s])),s}}var u=Qg(t,n,e,e);tv(u);var l=e.getConfig().skipCacheTypes,c=void 0===l?["list-item"]:l;return a.isElement(t)&&c.includes(t.type)||Ps.set(t,[n,u]),u});var h=Ts.get(t);if(null==h&&(h=!0),h){var p=function(t){return d('<div\n        id="'.concat(t,'"\n        data-slate-editor\n        data-slate-node="value"\n        suppressContentEditableWarning\n        role="textarea"\n        spellCheck="true"\n        autoCorrect="true"\n        autoCapitalize="true"\n    ></div>'))}(i);o.append(p),t.$textArea=p,r=p[0],(v=H([K,J,q,G,Y,X]))(r,c),Ts.set(t,!1),Ls.set(t,v)}else{var g=Ms.get(t),v=Ls.get(t);if(null==g||null==v)return;r=g.elm,v(g,c)}if(null!=r||null!=(r=Df(i))){if((h?l:e.isFocused())&&r.focus({preventScroll:!0}),h){var m=Ef(r);m&&_s.set(e,m)}js.set(e,r),Fs.set(e,r),Is.set(r,e),Ms.set(t,c)}}var nv=1,rv=function(){function e(e){var n=this;this.id=nv++,this.$textArea=null,this.$progressBar=d('<div class="w-e-progress-bar"></div>'),this.$maxLengthInfo=d('<div class="w-e-max-length-info"></div>'),this.isComposing=!1,this.isUpdatingSelection=!1,this.isDraggingInternally=!1,this.latestElement=null,this.showPlaceholder=!1,this.$placeholder=null,this.latestEditorSelection=null,this.onDOMSelectionChange=W(function(){var e=n.editorInstance;!function(e,n){var r=e.isComposing,o=e.isUpdatingSelection,i=e.isDraggingInternally;if(!(n.getConfig().readOnly||r||o||i)){var a=Md.findDocumentOrShadowRoot(n),s=a.activeElement,u=Md.toDOMNode(n,n),l=a.getSelection();if(s!==u)return Ws.delete(n),void t.deselect(n);if(e.latestElement=s,Ws.set(n,!0),!l)return t.deselect(n);var c=l.anchorNode,f=l.focusNode,d=bg(n,c)||wg(n,c),h=bg(n,f)||wg(n,f);if(d&&h){var p=Md.toSlateRange(n,l,{exactMatch:!1,suppressThrow:!1});t.select(n,p)}}}(n,e)},100);var r=d(e);if(0===r.length)throw new Error("Cannot find textarea DOM by selector '".concat(e,"'"));this.$box=r;var o=d('<div class="w-e-text-container"></div>');o.append(this.$progressBar),o.append(this.$maxLengthInfo),r.append(o);var i=d('<div class="w-e-scroll"></div>');o.append(i),this.$scroll=i,this.$textAreaContainer=o,uf(function(){var t=n.editorInstance,e=Md.getWindow(t);e.document.addEventListener("selectionchange",n.onDOMSelectionChange),t.on(ai,function(){e.document.removeEventListener("selectionchange",n.onDOMSelectionChange)}),o.on("click",function(){return t.hidePanelOrModal()}),t.on(si,n.changeViewState.bind(n));var i=t.getConfig(),a=i.onChange,s=i.scroll;a&&t.on(si,function(){return a(t)}),s||(r.css("position","relative"),o.addClass("no-scroll")),n.onFocusAndOnBlur(),t.on(si,n.changeMaxLengthInfo.bind(n)),n.bindEvent()})}return Object.defineProperty(e.prototype,"editorInstance",{get:function(){var t=bs.get(this);if(null==t)throw new Error("Can not get editor instance");return t},enumerable:!1,configurable:!0}),e.prototype.bindEvent=function(){var t=this,e=this.$textArea,n=this.$scroll,r=this.editorInstance;null!=e&&(f(Wg,function(n,o){e.on(o,function(e){n(e,t,r)})}),r.getConfig().scroll&&(n.css("overflow-y","auto"),n.on("scroll",W(function(){r.emit(ui)},100))))},e.prototype.onFocusAndOnBlur=function(){var t=this,e=this.editorInstance,n=e.getConfig(),r=n.onBlur,o=n.onFocus;this.latestEditorSelection=e.selection,e.on(si,function(){null==t.latestEditorSelection&&null!=e.selection?setTimeout(function(){return o&&o(e)}):null!=t.latestEditorSelection&&null==e.selection&&setTimeout(function(){return r&&r(e)}),t.latestEditorSelection=e.selection})},e.prototype.changeMaxLengthInfo=function(){var t=this.editorInstance,e=t.getConfig().maxLength;if(e){var n=e-Md.getLeftLengthOfMaxLength(t);this.$maxLengthInfo[0].innerHTML="".concat(n,"/").concat(e)}},e.prototype.changeProgress=function(t){var e=this.$progressBar;e.css("width","".concat(t,"%")),t>=100&&setTimeout(function(){e.hide(),e.css("width","0"),e.show()},1e3)},e.prototype.changeViewState=function(){var t=this,e=this.editorInstance;ev(this,e),function(t,e){var n,r=e.getConfig().placeholder;if(r){var o=e.isEmpty();if(o&&!t.showPlaceholder&&!t.isComposing){if(null==t.$placeholder){var i=d('<div class="w-e-text-placeholder">'.concat(r,"</div>"));t.$textAreaContainer.append(i),t.$placeholder=i}return t.$placeholder.show(),void(t.showPlaceholder=!0)}!o&&t.showPlaceholder&&(null===(n=t.$placeholder)||void 0===n||n.hide(),t.showPlaceholder=!1)}}(this,e),uf(function(){Lg(t,e)})},e.prototype.destroy=function(){this.$textAreaContainer.remove()},e}();function ov(t,n,r,o){if(Ds.set(t,n),As.set(t,r),a.isElement(t)){var i=t.children;if((void 0===i?[]:i).forEach(function(e,n){return ov(e,n,t,o)}),e.isVoid(o,t)){var u=ni(s.texts(t),1),l=ni(u[0],1)[0];Ds.set(l,0),As.set(l,t)}}}var iv={en:"Textarea height < 300px. This may cause modal and hoverbar position error",zh:"编辑区域高度 < 300px 这可能会导致 modal hoverbar 定位异常"};function av(t){var e=t.selector,n=void 0===e?"":e,r=t.config,o=void 0===r?{}:r,i=t.content,a=t.html,s=t.plugins,u=void 0===s?[]:s,d=function(t){return[Uh,Eh,Hs,Sh,Xh,zh,Hh,Go].reduce(function(t,e){return e(t)},t)}(l());if(n&&function(t,e){return id(t,"data-w-e-textarea",e)}(d,n))throw new Error("Repeated create editor by selector '".concat(n,"'"));var h=function(t){void 0===t&&(t={});var e=c(oi),n={},r=t.MENU_CONF,o=void 0===r?{}:r;return f(e,function(t,e){n[e]=ti(ti({},t),o[e]||{})}),delete t.MENU_CONF,ti({scroll:!0,readOnly:!1,autoFocus:!0,decorate:function(){return[]},maxLength:0,MENU_CONF:n,hoverbarKeys:{},customAlert:function(t,e){window.alert("".concat(e,":\n").concat(t))}},t)}(o);Ns.set(d,h);var p=h.hoverbarKeys,g=void 0===p?{}:p;if(u.forEach(function(t){d=t(d)}),function(t,e){var n=e.html,r=e.content;null!=n?t.children=ad(t,n):r&&r.length&&(t.children=r),0===t.children.length&&(t.children=[{type:"paragraph",children:[{text:""}]}])}(d,{html:a,content:i}),n){var v=new rv(n);ys.set(d,v),bs.set(v,d),v.changeViewState(),uf(function(){var t=v.$scroll;null!=t&&t.height()<300&&console.warn("".concat(iv.zh,"\n").concat(iv.en),{element:t,height:t.height()})});var m=void 0;Object.keys(g).length>0&&(m=new mg,Ss.set(m,d),Os.set(d,m)),d.on(si,function(){d.hidePanelOrModal()}),d.on(ui,function(){d.hidePanelOrModal()})}else d.children.forEach(function(t,e){return ov(t,e,d,d)});var y=h.onCreated,b=h.onDestroyed;return y&&d.on(ii,function(){return y(d)}),b&&d.on(ai,function(){return b(d)}),uf(function(){return d.emit(ii)}),d}var sv,uv,lv,cv,fv,dv={};function hv(){if(cv)return lv;cv=1;var t=Ce(),e=TypeError;return lv=function(n,r){if(!delete n[r])throw new e("Cannot delete property "+t(r)+" of "+t(n))}}!function(){if(fv)return dv;fv=1;var t=no(),e=an(),n=vr(),r=gr(),o=yr(),i=function(){if(uv)return sv;uv=1;var t=yt(),e=ro(),n=TypeError,r=Object.getOwnPropertyDescriptor,o=t&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();return sv=o?function(t,o){if(e(t)&&!r(t,"length").writable)throw new n("Cannot set read only .length");return t.length=o}:function(t,e){return t.length=e}}(),a=oo(),s=co(),u=io(),l=hv(),c=fo()("splice"),f=Math.max,d=Math.min;t({target:"Array",proto:!0,forced:!c},{splice:function(t,c){var h,p,g,v,m,y,b=e(this),w=o(b),x=n(t,w),S=arguments.length;for(0===S?h=p=0:1===S?(h=0,p=w-x):(h=S-2,p=d(f(r(c),0),w-x)),a(w+h-p),g=s(b,p),v=0;v<p;v++)(m=x+v)in b&&u(g,v,b[m]);if(g.length=p,h<p){for(v=x;v<w-p;v++)y=v+h,(m=v+p)in b?b[y]=b[m]:l(b,y);for(v=w;v>w-p+h;v--)l(b,v-1)}else if(h>p)for(v=w-p;v>x;v--)y=v+h-1,(m=v+p-1)in b?b[y]=b[m]:l(b,y);for(v=0;v<h;v++)b[v+x]=arguments[v+2];return i(b,w-p+h),g}})}();var pv=function(){function t(t,e){var n=this;this.$toolbar=d('<div class="w-e-bar w-e-bar-show w-e-toolbar"></div>'),this.menus={},this.toolbarItems=[],this.config={},this.lngListen=function(){},this.changeToolbarState=_(function(){n.toolbarItems.forEach(function(t){t.changeMenuState()})},200),this.config=e;var r=d(t);if(0===r.length)throw new Error("Cannot find toolbar DOM by selector '".concat(t,"'"));this.$box=r;var o=this.$toolbar;o.on("mousedown",function(t){return t.preventDefault()},{passive:!1}),r.append(o),uf(function(){n.initToolbar(),n.lngListen=Jp(function(){return n.initToolbar()}),n.getEditorInstance().on(si,n.changeToolbarState)})}return t.prototype.getMenus=function(){return this.menus},t.prototype.getConfig=function(){return this.config},t.prototype.initToolbar=function(){this.menus={};var t=this.$toolbar;null==t||t.empty(),this.registerItems(),this.changeToolbarState()},t.prototype.registerItems=function(){var t=this,e="",n=this.$toolbar,r=this.config,o=r.toolbarKeys,i=void 0===o?[]:o,a=r.insertKeys,s=void 0===a?{index:0,keys:[]}:a,u=r.excludeKeys,l=void 0===u?[]:u,f=c(i),d=[];d=Array.isArray(s)?s:[s];var h=0;d.forEach(function(t){var e=t.index+h;if(t.replaceFn&&f[e]){var n=t.replaceFn(f[e]);if(!n)throw new Error("This function needs to return the menu configuration：string | IMenuGroup");f[e]=n}t.keys.length>0&&("string"==typeof t.keys&&(t.keys=[t.keys]),t.keys.forEach(function(t,n){f.splice(e+n,0,t)}),h+=t.keys.length)});var p=f.filter(function(t){var e="string"==typeof t?t:t.key;return!l.includes(e)}),g=p.length;p.forEach(function(r,o){if("|"===r){if(0===o)return;if(o+1===g)return;if("|"===e)return;var i=Xp();return n.append(i),void(e=r)}if("string"==typeof r)return t.registerSingleItem(r,t),void(e=r);t.registerGroup(r),e="group"})},t.prototype.registerGroup=function(t){var e=this,n=this.$toolbar,r=function(t){return new fg(t)}(t),o=t.menuKeys,i=void 0===o?[]:o,a=this.config.excludeKeys,s=void 0===a?[]:a;i.forEach(function(t){s.includes(t)||e.registerSingleItem(t,r)}),n.append(r.$elem)},t.prototype.registerSingleItem=function(t,e){var n=this.getEditorInstance(),r=e instanceof fg,o=this.menus,i=o[t];if(null==i){var a=hi[t];if(null==a)throw new Error("Not found menu item factory by key '".concat(t,"'"));if("function"!=typeof a)throw new Error("Menu item factory (key='".concat(t,"') is not a function"));i=a(),o[t]=i}else console.warn("Duplicated toolbar menu key '".concat(t,"'\n重复注册了菜单栏 menu '").concat(t,"'"));var s=n.getMenuConfig(t);s&&void 0!==s.iconSvg&&(i.iconSvg=s.iconSvg);var u=pg(t,i,r);(this.toolbarItems.push(u),Es.set(u,n),r)?e.appendBarItem(u):e.$toolbar.append(u.$elem)},t.prototype.getEditorInstance=function(){var t=ws.get(this);if(null==t)throw new Error("Can not get editor instance");return t},t.prototype.destroy=function(){var t;this.$toolbar.remove(),null===(t=this.lngListen)||void 0===t||t.call(this),this.menus={},this.toolbarItems=[]},t}();function gv(t,e){if(null==t)throw new Error("Cannot create toolbar, because editor is null");var n=e.selector,r=e.config,o=void 0===r?{}:r;if(function(t,e){return id(t,"data-w-e-toolbar",e)}(t,n))throw new Error("Repeated create toolbar by selector '".concat(n,"'"));var i=ti({toolbarKeys:[],excludeKeys:[],insertKeys:{index:0,keys:[]},modalAppendToBody:!1},o||{}),a=new pv(n,i);return ws.set(a,t),xs.set(t,a),a}var vv,mv={};function yv(t){var e=t.server,n=void 0===e?"":e,r=t.fieldName,o=void 0===r?"":r,i=t.maxFileSize,a=void 0===i?10485760:i,s=t.maxNumberOfFiles,u=void 0===s?100:s,l=t.meta,c=void 0===l?{}:l,d=t.metaWithUrl,h=void 0!==d&&d,p=t.headers,g=void 0===p?{}:p,v=t.withCredentials,m=void 0!==v&&v,y=t.timeout,b=void 0===y?1e4:y,w=t.onBeforeUpload,x=void 0===w?function(t){return t}:w,S=t.onSuccess,O=void 0===S?function(t,e){}:S,E=t.onError,k=void 0===E?function(t,e,n){console.error("".concat(t.name," upload error"),e,n)}:E,C=t.onProgress,N=void 0===C?function(t){}:C;if(!n)throw new Error("Cannot get upload server address\n没有配置上传地址");if(!o)throw new Error("Cannot get fieldName\n没有配置 fieldName");var T=n;h&&(T=function(t,e){var n=ni(t.split("#"),2),r=n[0],o=n[1],i=[];f(e,function(t,e){i.push("".concat(e,"=").concat(t))});var a=i.join("&");return r=r.indexOf("?")>0?"".concat(r,"&").concat(a):"".concat(r,"?").concat(a),o?"".concat(r,"#").concat(o):r}(T,c));var L=new tt(ti({onBeforeUpload:x,restrictions:{maxFileSize:a,maxNumberOfFiles:u},meta:c},t.uppyConfig)).use(et,ti({endpoint:T,headers:g,formData:!0,fieldName:o,bundle:!0,withCredentials:m,timeout:b},t.xhrConfig));return L.on("complete",function(t){var e=t.successful[0],n=e.response,r=(null!=n?n:{}).body,o=void 0===r?{}:r;try{O(e,o)}catch(t){console.error("wangEditor upload file - onSuccess error",t)}}),L.on("progress",function(t){t<1||N(t)}),L.on("upload-error",function(t,e,n){try{k(t,e,n)}catch(t){console.error("wangEditor upload file - onError error",t)}}),L.on("restriction-failed",function(t,e){try{k(t,e)}catch(t){console.error("wangEditor upload file - onError error",t)}}),L}!function(){if(vv)return mv;vv=1;var t=yt(),e=Un().EXISTS,n=fe(),r=_u(),o=Function.prototype,i=n(o.toString),a=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s=n(a.exec);t&&!e&&r(o,"name",{configurable:!0,get:function(){try{return s(a,i(this))[1]}catch(t){return""}}})}();export{df as DOMComment,hf as DOMElement,ff as DOMNode,gf as DOMRange,vf as DOMSelection,mf as DOMStaticRange,pf as DOMText,Md as DomEditor,cd as ELEM_TO_HTML_CONF,lf as NodeType,Qf as PARSE_ELEM_HTML_CONF,Yf as PARSE_STYLE_HTML_FN_LIST,qf as PRE_PARSE_HTML_CONF_LIST,Hg as RENDER_ELEM_CONF,Ug as RENDER_STYLE_HANDLER_LIST,ud as STYLE_TO_HTML_FN_LIST,Jf as TEXT_TAGS,pv as Toolbar,av as coreCreateEditor,gv as coreCreateToolbar,yv as createUploader,sg as genModalButtonElems,ig as genModalInputElems,ag as genModalTextareaElems,Ef as getDefaultView,jf as getEditableChild,Af as getEditableChildAndIndex,Df as getElementById,$f as getFirstVoidChild,If as getPlainText,Bf as getTagName,Rf as hasShadowRoot,Vp as i18nAddResources,Hp as i18nChangeLanguage,Kp as i18nGetResources,Jp as i18nListenLanguage,Cf as isDOMComment,Nf as isDOMElement,kf as isDOMNode,Tf as isDOMSelection,Lf as isDOMText,wf as isDataTransfer,yf as isDocument,Of as isHTMLElememt,Mf as isPlainTextOnlyPaste,bf as isShadowRoot,Sf as isUnprocessedListElement,Pf as normalizeDOMPoint,fd as registerElemToHtmlConf,pi as registerMenu,Zf as registerParseElemHtmlConf,Xf as registerParseStyleHtmlHandler,Gf as registerPreParseHtmlConf,Kg as registerRenderElemConf,Vg as registerStyleHandler,ld as registerStyleToHtmlHandler,qp as t,Ff as walkTextNodes};
//# sourceMappingURL=index.mjs.map
