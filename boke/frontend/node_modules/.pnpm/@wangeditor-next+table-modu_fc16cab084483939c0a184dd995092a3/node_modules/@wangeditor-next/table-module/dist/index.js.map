{"version":3,"file":"index.js","sources":["../src/locale/index.ts","../src/locale/en.ts","../src/locale/zh-CN.ts","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/global-this.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/fails.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/descriptors.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/function-bind-native.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/function-call.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-property-is-enumerable.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/create-property-descriptor.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/function-uncurry-this.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/classof-raw.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/indexed-object.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/is-null-or-undefined.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/require-object-coercible.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/to-indexed-object.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/is-callable.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/is-object.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/get-built-in.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-is-prototype-of.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/environment-user-agent.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/environment-v8-version.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/symbol-constructor-detection.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/use-symbol-as-uid.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/is-symbol.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/try-to-string.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/a-callable.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/get-method.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/ordinary-to-primitive.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/is-pure.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/define-global-property.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/shared-store.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/shared.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/to-object.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/has-own-property.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/uid.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/well-known-symbol.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/to-primitive.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/to-property-key.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/document-create-element.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/ie8-dom-define.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-get-own-property-descriptor.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/v8-prototype-define-bug.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/an-object.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-define-property.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/create-non-enumerable-property.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/function-name.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/inspect-source.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/weak-map-basic-detection.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/shared-key.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/hidden-keys.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/internal-state.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/make-built-in.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/define-built-in.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/to-integer-or-infinity.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/math-trunc.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/to-absolute-index.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/to-length.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/length-of-array-like.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/array-includes.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-keys-internal.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/enum-bug-keys.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-get-own-property-names.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-get-own-property-symbols.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/own-keys.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/copy-constructor-properties.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/is-forced.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/export.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/is-array.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/does-not-exceed-safe-integer.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/create-property.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/to-string-tag-support.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/classof.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/is-constructor.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/array-species-constructor.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/array-species-create.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/array-method-has-species-support.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.array.concat.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/array-method-is-strict.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.array.join.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/function-bind-context.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/function-uncurry-this-clause.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/array-iteration.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.array.map.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.object.to-string.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-to-string.js","../src/module/elem-to-html.ts","../src/constants/svg.ts","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-keys.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/html.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-create.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-define-properties.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/add-to-unscopables.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.array.includes.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/not-a-regexp.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/is-regexp.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/to-string.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.string.includes.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/correct-is-regexp-logic.js","../src/utils/options.ts","../src/utils/is-of-type.ts","../src/utils/has-common.ts","../src/utils/matrices.ts","../src/utils/point.ts","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.array.find.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/iterator-close.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/call-with-safe-iteration-closing.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/iterators.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/is-array-iterator-method.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/get-iterator-method.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/get-iterator.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/check-correctness-of-iteration.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.array.from.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/array-from.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/regexp-flags.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/regexp-sticky-helpers.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/regexp-exec.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/regexp-unsupported-dot-all.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/regexp-unsupported-ncg.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.regexp.exec.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/string-multibyte.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-get-prototype-of.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/correct-prototype-getter.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/iterators-core.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/set-to-string-tag.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/is-possible-prototype.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/a-possible-prototype.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-set-prototype-of.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/function-uncurry-this-accessor.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/iterator-define.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/iterator-create-constructor.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/create-iter-result-object.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.string.iterator.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/dom-iterables.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/dom-token-list-prototype.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/web.dom-collections.for-each.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/array-for-each.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/whitespaces.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/string-trim.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.string.trim.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/string-trim-forced.js","../src/utils/dom.ts","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.array.iterator.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.global-this.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/esnext.global-this.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/freezing.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/define-built-ins.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/array-slice.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-get-own-property-names-external.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-is-extensible.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/array-buffer-non-extensible.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/internal-metadata.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/iterate.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/an-instance.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/inherit-if-required.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/collection.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/collection-weak.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.weak-map.constructor.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.weak-map.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/web.dom-collections.iterator.js","../src/module/weak-maps.ts","../src/module/menu/TableProperty.ts","../src/module/menu/CellProperty.ts","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/delete-property-or-throw.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.array.sort.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/array-sort.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/environment-ff-version.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/environment-is-ie-or-edge.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/environment-webkit-version.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.array.splice.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/array-set-length.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/path.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/this-number-value.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.number.constructor.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/define-built-in-accessor.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/set-species.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/collection-strong.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.set.constructor.js","../src/module/menu/DeleteCol.ts","../src/module/menu/DeleteRow.ts","../src/module/menu/DeleteTable.ts","../src/module/menu/FullWidth.ts","../src/module/helpers.ts","../src/module/menu/InsertCol.ts","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/regexp-get-flags.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/regexp-flags-detection.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.regexp.to-string.js","../src/module/menu/InsertRow.ts","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.array.fill.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/array-fill.js","../src/module/menu/InsertTable.ts","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.map.constructor.js","../src/module/table-cursor.ts","../src/module/menu/MergeCell.ts","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.array.slice.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/a-constructor.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/species-constructor.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/advance-string-index.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/regexp-exec-abstract.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.string.split.js","../src/module/menu/SplitCell.ts","../src/module/menu/TableHeader.ts","../src/module/menu/index.ts","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.array.filter.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/get-substitution.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.string.replace.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/function-apply.js","../src/module/parse-elem-html.ts","../src/module/parse-style-html.ts","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.string.anchor.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/create-html.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/string-html-forced.js","../src/module/plugin.ts","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.weak-set.constructor.js","../src/module/pre-parse-html.ts","../src/module/column-resize.ts","../src/module/row-resize.ts","../src/module/render-elem/index.ts","../src/module/render-elem/render-table.tsx","../src/module/render-elem/render-row.tsx","../src/module/render-elem/render-cell.tsx","../src/utils/vdom.ts","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/modules/es.object.assign.js","../../../node_modules/.pnpm/core-js@3.46.0/node_modules/core-js/internals/object-assign.js","../src/module/index.ts","../src/module/render-style.ts","../src/module/style-to-html.ts","../src/module/with-selection.ts"],"sourcesContent":["/**\n * @description i18n entry\n * @author wangfupeng\n */\n\nimport { i18nAddResources } from '@wangeditor-next/core'\n\nimport enResources from './en'\nimport zhResources from './zh-CN'\n\ni18nAddResources('en', enResources)\ni18nAddResources('zh-CN', zhResources)\n","/**\n * @description i18n en\n * @author wangfupeng\n */\n\nexport default {\n  tableModule: {\n    modal: {\n      border: 'Border',\n      borderWidth: 'Width',\n      bgColor: 'Back color',\n      align: 'Text Align',\n      ok: 'OK',\n    },\n    color: {\n      default: 'Default color',\n      clear: 'Clear back color',\n    },\n    borderStyle: {\n      none: 'None',\n      solid: 'Solid',\n      dotted: 'Dotted',\n      dashed: 'Dashed',\n      double: 'Double',\n      groove: 'Groove',\n      ridge: 'Ridge',\n      inset: 'Inset',\n      outset: 'Outset',\n    },\n    deleteCol: 'Delete column',\n    deleteRow: 'Delete row',\n    deleteTable: 'Delete table',\n    widthAuto: 'Fit width',\n    insertCol: 'Insert column',\n    insertRow: 'Insert row',\n    insertTable: 'Insert table',\n    header: 'Header',\n    mergeCell: 'merge cell',\n    splitCell: 'split cell',\n    tableProperty: 'Table property',\n    cellProperty: 'Cell property',\n  },\n}\n","/**\n * @description i18n zh-CN\n * @author wangfupeng\n */\n\nexport default {\n  tableModule: {\n    modal: {\n      border: '边框',\n      borderWidth: '宽度',\n      bgColor: '背景色',\n      align: '对齐方式',\n      ok: '确定',\n    },\n    color: {\n      default: '默认颜色',\n      clear: '清除背景色',\n    },\n    borderStyle: {\n      none: '无样式',\n      solid: '实线',\n      dotted: '点状虚线',\n      dashed: '虚线',\n      double: '双线',\n      groove: '凹槽边框',\n      ridge: '菱形边框',\n      inset: '凹边框',\n      outset: '凸边框',\n    },\n    deleteCol: '删除列',\n    deleteRow: '删除行',\n    deleteTable: '删除表格',\n    widthAuto: '适应宽度',\n    insertCol: '插入列',\n    insertRow: '插入行',\n    insertTable: '插入表格',\n    header: '表头',\n    mergeCell: '合并单元格',\n    splitCell: '拆分单元格',\n    tableProperty: '表格属性',\n    cellProperty: '单元格属性',\n  },\n}\n","'use strict';\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  check(typeof this == 'object' && this) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","'use strict';\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","'use strict';\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","'use strict';\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","'use strict';\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw new $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","'use strict';\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","'use strict';\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\nvar documentAll = typeof document == 'object' && document.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nmodule.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(globalThis[namespace]) : globalThis[namespace] && globalThis[namespace][method];\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\nvar navigator = globalThis.navigator;\nvar userAgent = navigator && navigator.userAgent;\n\nmodule.exports = userAgent ? String(userAgent) : '';\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar userAgent = require('../internals/environment-user-agent');\n\nvar process = globalThis.process;\nvar Deno = globalThis.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/environment-v8-version');\nvar fails = require('../internals/fails');\nvar globalThis = require('../internals/global-this');\n\nvar $String = globalThis.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL &&\n  !Symbol.sham &&\n  typeof Symbol.iterator == 'symbol';\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","'use strict';\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a function');\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw new $TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nmodule.exports = false;\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(globalThis, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    globalThis[key] = value;\n  } return value;\n};\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar globalThis = require('../internals/global-this');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = module.exports = globalThis[SHARED] || defineGlobalProperty(SHARED, {});\n\n(store.versions || (store.versions = [])).push({\n  version: '3.46.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","'use strict';\nvar store = require('../internals/shared-store');\n\nmodule.exports = function (key, value) {\n  return store[key] || (store[key] = value || {});\n};\n","'use strict';\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.1.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = globalThis.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw new $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isObject = require('../internals/is-object');\n\nvar document = globalThis.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object');\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = globalThis.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","'use strict';\nvar shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar globalThis = require('../internals/global-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = globalThis.TypeError;\nvar WeakMap = globalThis.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\).*$/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","'use strict';\nvar trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","'use strict';\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  var len = toIntegerOrInfinity(argument);\n  return len > 0 ? min(len, 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","'use strict';\nvar toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    if (length === 0) return !IS_INCLUDES && -1;\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = globalThis;\n  } else if (STATIC) {\n    target = globalThis[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = globalThis[TARGET] && globalThis[TARGET].prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","'use strict';\nvar classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n","'use strict';\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  if (DESCRIPTORS) definePropertyModule.f(object, key, createPropertyDescriptor(0, value));\n  else object[key] = value;\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof');\nvar getBuiltIn = require('../internals/get-built-in');\nvar inspectSource = require('../internals/inspect-source');\n\nvar noop = function () { /* empty */ };\nvar construct = getBuiltIn('Reflect', 'construct');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = uncurryThis(constructorRegExp.exec);\nvar INCORRECT_TO_STRING = !constructorRegExp.test(noop);\n\nvar isConstructorModern = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  try {\n    construct(noop, [], argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  switch (classof(argument)) {\n    case 'AsyncFunction':\n    case 'GeneratorFunction':\n    case 'AsyncGeneratorFunction': return false;\n  }\n  try {\n    // we can't check .prototype since constructors produced by .bind haven't it\n    // `Function#toString` throws on some built-it function in some legacy engines\n    // (for example, `DOMQuad` and similar in FF41-)\n    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));\n  } catch (error) {\n    return true;\n  }\n};\n\nisConstructorLegacy.sham = true;\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nmodule.exports = !construct || fails(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\nvar $Array = Array;\n\n// a part of `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (isConstructor(C) && (C === $Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? $Array : C;\n};\n","'use strict';\nvar arraySpeciesConstructor = require('../internals/array-species-constructor');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/environment-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/environment-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !arrayMethodHasSpeciesSupport('concat');\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = lengthOfArrayLike(E);\n        doesNotExceedSafeInteger(n + len);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        doesNotExceedSafeInteger(n + 1);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call -- required for testing\n    method.call(null, argument || function () { return 1; }, 1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject !== Object;\nvar FORCED = ES3_STRINGS || !arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  join: function join(separator) {\n    return nativeJoin(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar classofRaw = require('../internals/classof-raw');\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = uncurryThis([].push);\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE === 1;\n  var IS_FILTER = TYPE === 2;\n  var IS_SOME = TYPE === 3;\n  var IS_EVERY = TYPE === 4;\n  var IS_FIND_INDEX = TYPE === 6;\n  var IS_FILTER_REJECT = TYPE === 7;\n  var NO_HOLES = TYPE === 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var length = lengthOfArrayLike(self);\n    var boundFunction = bind(callbackfn, that);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push(target, value);      // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push(target, value);      // filterReject\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterReject` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterReject: createMethod(7)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  defineBuiltIn(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","/**\n * @description to html\n * @author wangfupeng\n */\n\nimport { Element } from 'slate'\n\nimport { TableCellElement, TableElement, TableRowElement } from './custom-types'\n\nfunction tableToHtml(elemNode: Element, childrenHtml: string): string {\n  const { width = 'auto', columnWidths, height = 'auto' } = elemNode as TableElement\n  const cols = columnWidths\n    ?.map(colWidth => {\n      return `<col width=${colWidth}></col>`\n    })\n    .join('')\n\n  const colgroupStr = cols ? `<colgroup contentEditable=\"false\">${cols}</colgroup>` : ''\n\n  return `<table style=\"width: ${width};table-layout: fixed;height:${height}\">${colgroupStr}<tbody>${childrenHtml}</tbody></table>`\n}\n\nfunction tableRowToHtml(elem: Element, childrenHtml: string): string {\n  const { height } = elem as TableRowElement\n  const heightStyle = height ? ` style=\"height: ${height}px\"` : ''\n\n  return `<tr${heightStyle}>${childrenHtml}</tr>`\n}\n\nfunction tableCellToHtml(cellNode: Element, childrenHtml: string): string {\n  const {\n    colSpan = 1,\n    rowSpan = 1,\n    isHeader = false,\n    width = 'auto',\n    hidden = false,\n  } = cellNode as TableCellElement\n\n  // 如果单元格被隐藏，直接返回空字符串，不生成 HTML 元素\n  if (hidden) {\n    return ''\n  }\n\n  const tag = isHeader ? 'th' : 'td'\n\n  return `<${tag} colSpan=\"${colSpan}\" rowSpan=\"${rowSpan}\" width=\"${width}\">${childrenHtml}</${tag}>`\n}\n\nexport const tableToHtmlConf = {\n  type: 'table',\n  elemToHtml: tableToHtml,\n}\n\nexport const tableRowToHtmlConf = {\n  type: 'table-row',\n  elemToHtml: tableRowToHtml,\n}\n\nexport const tableCellToHtmlConf = {\n  type: 'table-cell',\n  elemToHtml: tableCellToHtml,\n}\n","/**\n * @description icon svg\n * @author wangfupeng\n */\n\n/**\n * 【注意】svg 字符串的长度 ，否则会导致代码体积过大\n * 尽量选择 https://www.iconfont.cn/collections/detail?spm=a313x.7781069.0.da5a778a4&cid=20293\n * 找不到再从 iconfont.com 搜索\n */\n\n// 表格\nexport const TABLE_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M0 64v896h1024V64H0z m384 576v-192h256v192h-256z m256 64v192h-256v-192h256z m0-512v192h-256V192h256zM320 192v192H64V192h256z m-256 256h256v192H64v-192z m640 0h256v192h-256v-192z m0-64V192h256v192h-256zM64 704h256v192H64v-192z m640 192v-192h256v192h-256z\"></path></svg>'\n\n// 垃圾桶（删除）\nexport const TRASH_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z\" p-id=\"9577\"></path><path d=\"M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z\"></path></svg>'\n\n// 表格 添加行\nexport const ADD_ROW_SVG = '<svg viewBox=\"0 0 1048 1024\"><path d=\"M707.7888 521.0112h-147.456v-147.456H488.2432v147.456h-147.456v68.8128h147.456v147.456h72.0896v-147.456h147.456zM0 917.504V0h1048.576v917.504H0zM327.68 65.536H65.536v196.608H327.68V65.536z m327.68 0H393.216v196.608h262.144V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 258.8672H65.536v462.0288H983.04V324.4032z\"></path></svg>'\n\n// 表格 删除行\nexport const DEL_ROW_SVG = '<svg viewBox=\"0 0 1048 1024\"><path d=\"M907.6736 586.5472L747.1104 425.984l163.84-163.84-78.6432-78.6432-163.84 163.84L507.904 186.7776 429.2608 262.144l163.84 163.84-167.1168 167.1168 78.6432 78.6432 167.1168-167.1168 160.5632 160.5632 75.3664-78.6432zM0 917.504V0h1048.576v917.504H0z m983.04-327.68h-22.9376l-65.536-65.536H983.04V327.68h-91.7504l65.536-65.536h26.2144V65.536H65.536v196.608h317.8496l65.536 65.536H65.536v196.608h380.1088l-65.536 65.536H65.536v196.608H983.04v-196.608z\"></path></svg>'\n\n// 表格 添加列\nexport const ADD_COL_SVG = '<svg viewBox=\"0 0 1048 1024\"><path d=\"M327.68 193.3312v186.7776H140.9024v91.7504H327.68v186.7776h88.4736V471.8592h190.0544V380.1088H416.1536V193.3312zM0 917.504V0h1048.576v917.504H0zM655.36 65.536H65.536v720.896H655.36V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 262.144h-262.144v196.608h262.144V327.68z m0 262.144h-262.144v196.608h262.144v-196.608z\"></path></svg>'\n\n// 表格 删除列\nexport const DEL_COL_SVG = '<svg viewBox=\"0 0 1048 1024\"><path d=\"M327.68 510.976L393.216 445.44v-13.1072L327.68 366.7968V510.976z m327.68-78.4384l65.536-65.536V507.904L655.36 442.368v-9.8304z m393.216 484.9664V0H0v917.504h1048.576z m-65.536-131.072h-262.144v-52.4288l-13.1072 13.1072-52.4288-52.4288v91.7504H393.216v-91.7504l-52.4288 52.4288-13.1072-13.1072v52.4288H65.536V65.536H327.68v121.2416l36.0448-36.0448 29.4912 29.4912V62.2592h262.144V180.224l49.152-49.152 16.384 16.384V62.2592h262.144V786.432z m-294.912-108.1344l-160.5632-160.5632-167.1168 167.1168-78.6432-78.6432 167.1168-167.1168L288.3584 278.528l78.6432-78.6432 160.5632 160.5632 163.84-163.84 78.6432 78.6432-163.84 163.84 160.5632 160.5632-78.6432 78.6432z\"></path></svg>'\n\n// 表头\nexport const TABLE_HEADER_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M704 128l-64 0L384 128 320 128 0 128l0 256 0 64 0 192 0 64 0 256 320 0 64 0 256 0 64 0 320 0 0-256 0-64L1024 448 1024 384 1024 128 704 128zM640 640 384 640 384 448l256 0L640 640zM64 448l256 0 0 192L64 640 64 448zM320 896 64 896l0-192 256 0L320 896zM640 896 384 896l0-192 256 0L640 896zM960 896l-256 0 0-192 256 0L960 896zM960 640l-256 0L704 448l256 0L960 640z\"></path></svg>'\n\n// 宽度\nexport const FULL_WIDTH_SVG = '<svg viewBox=\"0 0 1228 1024\"><path d=\"M862.514337 563.200461H404.581995v121.753478a13.311987 13.311987 0 0 1-6.655993 11.468789 10.23999 10.23999 0 0 1-12.083188-1.433599l-204.799795-179.199821a13.721586 13.721586 0 0 1 0-20.479979l204.799795-179.302221a10.23999 10.23999 0 0 1 12.185588-1.535998 13.209587 13.209587 0 0 1 6.553593 11.673588v115.097485h457.932342V319.693504a11.571188 11.571188 0 0 1 18.841582-10.239989l204.799795 179.19982a13.721586 13.721586 0 0 1 0 20.47998l-204.799795 179.199821a10.23999 10.23999 0 0 1-12.185588 1.535998 13.311987 13.311987 0 0 1-6.655994-11.571188V563.200461zM136.499064 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785H15.155185A15.155185 15.155185 0 0 1 0 1008.844815V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086294a15.155185 15.155185 0 0 1 15.257585 15.155185zM1228.798771 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785h-106.188693a15.155185 15.155185 0 0 1-15.155185-15.052785V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086293A15.155185 15.155185 0 0 1 1228.798771 15.053809z\"></path></svg>'\n\n// 合并单元格\nexport const MERGE_CELL_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M482.2 508.4 331.3 389c-3-2.4-7.3-.2-7.3 3.6V478H184V184h204v128c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V144c0-15.5-12.5-28-28-28H144c-15.5 0-28 12.5-28 28v736c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v128H184V546h140v85.4c0 3.8 4.4 6 7.3 3.6l150.9-119.4c2.4-1.8 2.4-5.4 0-7.2zM880 116H596c-15.5 0-28 12.5-28 28v168c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V184h204v294H700v-85.4c0-3.8-4.3-6-7.3-3.6l-151 119.4c-2.3 1.8-2.3 5.3 0 7.1l151 119.5c2.9 2.3 7.3.2 7.3-3.6V546h140v294H636V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v168c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V144c0-15.5-12.5-28-28-28z\"/></svg>'\n\n// 拆分单元格\nexport const SPLIT_CELL_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M362.667 494.933v53.334l25.6-25.6zm0-241.066L460.8 352V78.933H57.6v98.134h305.067zm0 535.466v57.6H57.6v98.134h403.2V691.2zM661.333 494.933v53.334l-25.6-25.6zm0-241.066L563.2 352V78.933h403.2v98.134H661.333zm0 535.466v57.6H966.4v98.134H563.2V691.2z\"/><path d=\"M753.067 341.333 693.333 281.6 512 460.8 330.667 281.6l-59.734 59.733 181.334 181.334L270.933 704l59.734 59.733L512 582.4l181.333 181.333L753.067 704 571.733 522.667z\"/></svg>'\n\n// 表格属性\nexport const TABLE_PROPERTY_SVG = '<svg viewBox=\"0 0 20 20\"><path d=\"M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z\" opacity=\".6\"/><path d=\"m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z\"/></svg>'\n\n// 单元格属性\nexport const CELL_PROPERTY_SVG = '<svg viewBox=\"0 0 20 20\"><path d=\"m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z\" opacity=\".6\"/><path d=\"m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z\"/></svg>'\n\n// 左对齐\nexport const JUSTIFY_LEFT_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M768 793.6v102.4H51.2v-102.4h716.8z m204.8-230.4v102.4H51.2v-102.4h921.6z m-204.8-230.4v102.4H51.2v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z\"></path></svg>'\n\n// 右对齐\nexport const JUSTIFY_RIGHT_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M972.8 793.6v102.4H256v-102.4h716.8z m0-230.4v102.4H51.2v-102.4h921.6z m0-230.4v102.4H256v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z\"></path></svg>'\n\n// 居中对齐\nexport const JUSTIFY_CENTER_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M870.4 793.6v102.4H153.6v-102.4h716.8z m102.4-230.4v102.4H51.2v-102.4h921.6z m-102.4-230.4v102.4H153.6v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z\"></path></svg>'\n\n// 两端对齐\nexport const JUSTIFY_JUSTIFY_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M0 64h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z\"></path></svg>'\n\n// 清空（颜色）\nexport const CLEAN_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M236.8 128L896 787.2V128H236.8z m614.4 704L192 172.8V832h659.2zM192 64h704c38.4 0 64 25.6 64 64v704c0 38.4-25.6 64-64 64H192c-38.4 0-64-25.6-64-64V128c0-38.4 25.6-64 64-64z\"></path></svg>'\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  // eslint-disable-next-line no-useless-assignment -- avoid memory leak\n  activeXDocument = null;\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] === undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar fails = require('../internals/fails');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// FF99+ bug\nvar BROKEN_ON_SPARSE = fails(function () {\n  // eslint-disable-next-line es/no-array-prototype-includes -- detection\n  return !Array(1).includes();\n});\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: BROKEN_ON_SPARSE }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","'use strict';\nvar isRegExp = require('../internals/is-regexp');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw new $TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) === 'RegExp');\n};\n","'use strict';\nvar classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\nvar stringIndexOf = uncurryThis(''.indexOf);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~stringIndexOf(\n      toString(requireObjectCoercible(this)),\n      toString(notARegExp(searchString)),\n      arguments.length > 1 ? arguments[1] : undefined\n    );\n  }\n});\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","import { CustomTypes, ExtendedType } from 'slate'\n\ntype ElementType = ExtendedType<'Element', CustomTypes>['type']\n\nexport interface WithTableOptions {\n  blocks: {\n    td: ElementType\n    th: ElementType\n    content: ElementType\n    tr: ElementType\n    table: ElementType\n    tbody: ElementType\n    tfoot: ElementType\n    thead: ElementType\n  }\n}\n\nexport const DEFAULT_WITH_TABLE_OPTIONS = {\n  blocks: {\n    td: 'table-cell',\n    th: 'table-cell',\n    content: 'paragraph',\n    tr: 'table-row',\n    table: 'table',\n    tbody: 'table-body',\n    // tfoot: \"table-footer\",\n    // thead: \"table-head\",\n  },\n}\n","import {\n  Editor, Element, Node, NodeMatch,\n} from 'slate'\n\nimport { DEFAULT_WITH_TABLE_OPTIONS, WithTableOptions } from './options'\nimport { WithType } from './types'\n\nexport function isElement<T extends Element>(node: Node): node is WithType<T> {\n  return !Editor.isEditor(node) && Element.isElement(node) && 'type' in node\n}\n\n/** @returns a `NodeMatch` function which is used to match the elements of a specific `type`. */\nexport function isOfType<T extends WithType<Element>>(\n  editor: Editor,\n  ...types: Array<keyof WithTableOptions['blocks']>\n): NodeMatch<T> {\n  const options = DEFAULT_WITH_TABLE_OPTIONS\n  const elementTypes = types.map(type => options?.blocks?.[type])\n\n  return (node: Node): boolean => isElement(node) && elementTypes.includes(node.type)\n}\n","import { Editor, Node, Span } from 'slate'\n\nimport { isOfType } from './is-of-type'\nimport { WithTableOptions } from './options'\n\n/**\n * Determines whether two paths belong to the same types by checking\n * if they share a common ancestor node of type table\n */\nexport function hasCommon(\n  editor: Editor,\n  [path, another]: Span,\n  ...types: Array<keyof WithTableOptions['blocks']>\n) {\n  const [node, commonPath] = Node.common(editor, path, another)\n\n  if (isOfType(editor, ...types)(node, commonPath)) {\n    return true\n  }\n\n  // Warning: returns the common ancestor but will return `undefined` if the\n  // `commonPath` is equal to the specified types path\n  return !!Editor.above(editor, {\n    match: isOfType(editor, ...types),\n    at: commonPath,\n  })\n}\n","import { Editor, Location, NodeEntry } from 'slate'\n\nimport { isOfType } from './is-of-type'\nimport { CellElement, NodeEntryWithContext } from './types'\n\n/** Generates a matrix for each table section (`thead`, `tbody`, `tfoot`) */\nexport function* matrices(\n  editor: Editor,\n  options: { at?: Location } = {},\n): Generator<NodeEntry<CellElement>[][]> {\n  const [table] = Editor.nodes(editor, {\n    match: isOfType(editor, 'table'),\n    at: options.at,\n  })\n\n  if (!table) {\n    return []\n  }\n\n  const [, tablePath] = table\n\n  for (const [, path] of Editor.nodes(editor, {\n    // match: isOfType(editor, \"thead\", \"tbody\", \"tfoot\"),\n    match: isOfType(editor, 'table'),\n    at: tablePath,\n  })) {\n    const matrix: NodeEntry<CellElement>[][] = []\n\n    for (const [, trPath] of Editor.nodes(editor, {\n      match: isOfType(editor, 'tr'),\n      at: path,\n    })) {\n      matrix.push([\n        ...Editor.nodes<CellElement>(editor, {\n          match: isOfType(editor, 'th', 'td'),\n          at: trPath,\n        }),\n      ])\n    }\n\n    yield matrix\n  }\n}\n\nexport function filledMatrix(\n  editor: Editor,\n  options: { at?: Location } = {},\n): NodeEntryWithContext[][] {\n  const filled: NodeEntryWithContext[][] = []\n\n  // Expand each section separately to avoid sections collapsing into each other.\n  for (const matrix of matrices(editor, { at: options.at })) {\n    const filledSection: NodeEntryWithContext[][] = []\n\n    // 首先，找出最大的列数来确定矩阵的宽度\n    let maxCols = 0\n\n    for (let x = 0; x < matrix.length; x += 1) {\n      if (matrix[x]) {\n        maxCols = Math.max(maxCols, matrix[x].length)\n      }\n    }\n\n    for (let x = 0; x < matrix.length; x += 1) {\n      if (!filledSection[x]) {\n        filledSection[x] = []\n      }\n\n      if (!matrix[x]) {\n        continue\n      }\n\n      for (let y = 0; y < matrix[x].length; y += 1) {\n        if (!matrix[x][y] || !matrix[x][y][0]) {\n          continue\n        }\n\n        const [{ rowSpan = 1, colSpan = 1 }] = matrix[x][y]\n\n        // 找到下一个可用的位置\n        let startCol = y\n\n        while (filledSection[x] && filledSection[x][startCol]) {\n          startCol += 1\n        }\n\n        for (let c = 0; c < colSpan; c += 1) {\n          for (let r = 0; r < rowSpan; r += 1) {\n            const targetX = x + r\n            const targetY = startCol + c\n\n            if (!filledSection[targetX]) {\n              filledSection[targetX] = []\n            }\n\n            if (filledSection[targetX][targetY]) {\n              continue\n            }\n\n            filledSection[targetX][targetY] = [\n              matrix[x][y],\n              {\n                rtl: c + 1,\n                ltr: colSpan - c,\n                ttb: r + 1,\n                btt: rowSpan - r,\n              },\n            ]\n          }\n        }\n      }\n    }\n\n    filled.push(...filledSection)\n  }\n\n  return filled\n}\n","export class Point {\n  public x: number\n\n  public y: number\n\n  constructor(x: number, y: number) {\n    this.x = x\n    this.y = y\n  }\n\n  public static valueOf(x: number, y: number): Point {\n    return new this(x, y)\n  }\n\n  public static equals(point: Point, another: Point): boolean {\n    return point.x === another.x && point.y === another.y\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\n// eslint-disable-next-line es/no-array-prototype-find -- testing\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getMethod = require('../internals/get-method');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator, 'throw', error);\n  }\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","'use strict';\nvar classof = require('../internals/classof');\nvar getMethod = require('../internals/get-method');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw new $TypeError(tryToString(argument) + ' is not iterable');\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  try {\n    if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  } catch (error) { return false; } // workaround of old WebKit + `eval` bug\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar isConstructor = require('../internals/is-constructor');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar $Array = Array;\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var IS_CONSTRUCTOR = isConstructor(this);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined);\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod && !(this === $Array && isArrayIteratorMethod(iteratorMethod))) {\n    result = IS_CONSTRUCTOR ? new this() : [];\n    iterator = getIterator(O, iteratorMethod);\n    next = iterator.next;\n    for (;!(step = call(next, iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = lengthOfArrayLike(O);\n    result = IS_CONSTRUCTOR ? new this(length) : $Array(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar globalThis = require('../internals/global-this');\n\n// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\nvar $RegExp = globalThis.RegExp;\n\nvar UNSUPPORTED_Y = fails(function () {\n  var re = $RegExp('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') !== null;\n});\n\n// UC Browser bug\n// https://github.com/zloirock/core-js/issues/1008\nvar MISSED_STICKY = UNSUPPORTED_Y || fails(function () {\n  return !$RegExp('a', 'y').sticky;\n});\n\nvar BROKEN_CARET = UNSUPPORTED_Y || fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = $RegExp('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') !== null;\n});\n\nmodule.exports = {\n  BROKEN_CARET: BROKEN_CARET,\n  MISSED_STICKY: MISSED_STICKY,\n  UNSUPPORTED_Y: UNSUPPORTED_Y\n};\n","'use strict';\n/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\nvar nativeExec = RegExp.prototype.exec;\nvar patchedExec = nativeExec;\nvar charAt = uncurryThis(''.charAt);\nvar indexOf = uncurryThis(''.indexOf);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  call(nativeExec, re1, 'a');\n  call(nativeExec, re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  patchedExec = function exec(string) {\n    var re = this;\n    var state = getInternalState(re);\n    var str = toString(string);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = call(patchedExec, raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = call(regexpFlags, re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = replace(flags, 'y', '');\n      if (indexOf(flags, 'g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = stringSlice(str, re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt(str, re.lastIndex - 1) !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = call(nativeExec, sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = stringSlice(match.input, charsAdded);\n        match[0] = stringSlice(match[0], charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn't work for /(.?)?/\n      call(nativeReplace, match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar fails = require('../internals/fails');\nvar globalThis = require('../internals/global-this');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\nvar $RegExp = globalThis.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('.', 's');\n  return !(re.dotAll && re.test('\\n') && re.flags === 's');\n});\n","'use strict';\nvar fails = require('../internals/fails');\nvar globalThis = require('../internals/global-this');\n\n// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError\nvar $RegExp = globalThis.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('(?<a>b)', 'g');\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar stringSlice = uncurryThis(''.slice);\n\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toIntegerOrInfinity(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = charCodeAt(S, position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING\n          ? charAt(S, position)\n          : first\n        : CONVERT_TO_STRING\n          ? stringSlice(S, position, position + 2)\n          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (target, TAG, STATIC) {\n  if (target && !STATIC) target = target.prototype;\n  if (target && !hasOwn(target, TO_STRING_TAG)) {\n    defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nmodule.exports = function (argument) {\n  return isObject(argument) || argument === null;\n};\n","'use strict';\nvar isPossiblePrototype = require('../internals/is-possible-prototype');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (isPossiblePrototype(argument)) return argument;\n  throw new $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","'use strict';\n/* eslint-disable no-proto -- safe */\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar isObject = require('../internals/is-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    requireObjectCoercible(O);\n    aPossiblePrototype(proto);\n    if (!isObject(O)) return O;\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar IS_PURE = require('../internals/is-pure');\nvar FunctionName = require('../internals/function-name');\nvar isCallable = require('../internals/is-callable');\nvar createIteratorConstructor = require('../internals/iterator-create-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar PROPER_FUNCTION_NAME = FunctionName.PROPER;\nvar CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND && KIND in IterablePrototype) return IterablePrototype[KIND];\n\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    }\n\n    return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME === 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (!isCallable(CurrentIteratorPrototype[ITERATOR])) {\n          defineBuiltIn(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n  if (PROPER_FUNCTION_NAME && DEFAULT === VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    if (!IS_PURE && CONFIGURABLE_FUNCTION_NAME) {\n      createNonEnumerableProperty(IterablePrototype, 'name', VALUES);\n    } else {\n      INCORRECT_VALUES_NAME = true;\n      defaultIterator = function values() { return call(nativeIterator, this); };\n    }\n  }\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        defineBuiltIn(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    defineBuiltIn(IterablePrototype, ITERATOR, defaultIterator, { name: DEFAULT });\n  }\n  Iterators[NAME] = defaultIterator;\n\n  return methods;\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\n// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar toString = require('../internals/to-string');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/iterator-define');\nvar createIterResultObject = require('../internals/create-iter-result-object');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: toString(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return createIterResultObject(undefined, true);\n  point = charAt(string, index);\n  state.index += point.length;\n  return createIterResultObject(point, false);\n});\n","'use strict';\n// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","'use strict';\n// in old WebKit versions, `element.classList` is not an instance of global `DOMTokenList`\nvar documentCreateElement = require('../internals/document-create-element');\n\nvar classList = documentCreateElement('span').classList;\nvar DOMTokenListPrototype = classList && classList.constructor && classList.constructor.prototype;\n\nmodule.exports = DOMTokenListPrototype === Object.prototype ? undefined : DOMTokenListPrototype;\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(globalThis[COLLECTION_NAME] && globalThis[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","'use strict';\n// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar ltrim = RegExp('^[' + whitespaces + ']+');\nvar rtrim = RegExp('(^|[^' + whitespaces + '])[' + whitespaces + ']+$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '$1');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","'use strict';\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","/**\n * @description DOM 操作\n * @author wangfupeng\n */\n\nimport $, {\n  addClass,\n  append,\n  attr,\n  children,\n  data,\n  dataset,\n  Dom7Array,\n  each,\n  find,\n  focus,\n  hide,\n  html,\n  on,\n  removeClass,\n  show,\n  val,\n} from 'dom7'\n\n// COMPAT: This is required to prevent TypeScript aliases from doing some very\n// weird things for Slate's types with the same name as globals. (2019/11/27)\n// https://github.com/microsoft/TypeScript/issues/35002\nimport DOMNode = globalThis.Node\nimport DOMComment = globalThis.Comment\nimport DOMElement = globalThis.Element\nimport DOMText = globalThis.Text\nimport DOMRange = globalThis.Range\nimport DOMSelection = globalThis.Selection\nimport DOMStaticRange = globalThis.StaticRange\n\nexport { Dom7Array } from 'dom7'\n\nif (append && $.fn) {\n  $.fn.append = append\n}\nif (on && $.fn) {\n  $.fn.on = on\n}\nif (focus && $.fn) {\n  $.fn.focus = focus\n}\nif (attr && $.fn) {\n  $.fn.attr = attr\n}\nif (val && $.fn) {\n  $.fn.val = val\n}\nif (html && $.fn) {\n  $.fn.html = html\n}\nif (dataset && $.fn) {\n  $.fn.dataset = dataset\n}\nif (addClass && $.fn) {\n  $.fn.addClass = addClass\n}\nif (removeClass && $.fn) {\n  $.fn.removeClass = removeClass\n}\nif (children && $.fn) {\n  $.fn.children = children\n}\nif (each && $.fn) {\n  $.fn.each = each\n}\nif (find && $.fn) {\n  $.fn.find = find\n}\nif (data && $.fn) {\n  $.fn.data = data\n}\nif (hide && $.fn) {\n  $.fn.hide = hide\n}\nif (show && $.fn) {\n  $.fn.show = show\n}\n\nexport default $\n\n/**\n * 获取 tagName lower-case\n * @param $elem $elem\n */\nexport function getTagName($elem: Dom7Array): string {\n  if ($elem.length) { return $elem[0].tagName.toLowerCase() }\n  return ''\n}\n\n/**\n * 获取 $elem 某一个 style 值\n * @param $elem $elem\n * @param styleKey style key\n */\nexport function getStyleValue($elem: Dom7Array, styleKey: string): string {\n  let res = ''\n\n  const styleStr = $elem.attr('style') || '' // 如 'line-height: 2.5; color: red;'\n  const styleArr = styleStr.split(';') // 如 ['line-height: 2.5', ' color: red', '']\n  const length = styleArr.length\n\n  for (let i = 0; i < length; i += 1) {\n    const styleItemStr = styleArr[i] // 如 'line-height: 2.5'\n\n    if (styleItemStr) {\n      const arr = styleItemStr.split(':') // ['line-height', ' 2.5']\n\n      if (arr[0].trim() === styleKey) {\n        res = arr[1].trim()\n      }\n    }\n  }\n\n  return res\n}\n\n/**\n * 获取 outerHTML\n * @param $elem dom7 elem\n */\nexport function getOuterHTML($elem: Dom7Array) {\n  if ($elem.length === 0) { return '' }\n  return $elem[0].outerHTML\n}\nexport {\n  DOMComment, DOMElement, DOMNode, DOMRange, DOMSelection, DOMStaticRange, DOMText,\n}\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineProperty = require('../internals/object-define-property').f;\nvar defineIterator = require('../internals/iterator-define');\nvar createIterResultObject = require('../internals/create-iter-result-object');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = null;\n    return createIterResultObject(undefined, true);\n  }\n  switch (state.kind) {\n    case 'keys': return createIterResultObject(index, false);\n    case 'values': return createIterResultObject(target[index], false);\n  } return createIterResultObject([index, target[index]], false);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nvar values = Iterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n// V8 ~ Chrome 45- bug\nif (!IS_PURE && DESCRIPTORS && values.name !== 'values') try {\n  defineProperty(values, 'name', { value: 'values' });\n} catch (error) { /* empty */ }\n","'use strict';\nvar $ = require('../internals/export');\nvar globalThis = require('../internals/global-this');\n\n// `globalThis` object\n// https://tc39.es/ecma262/#sec-globalthis\n$({ global: true, forced: globalThis.globalThis !== globalThis }, {\n  globalThis: globalThis\n});\n","'use strict';\n// TODO: Remove from `core-js@4`\nrequire('../modules/es.global-this');\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-isextensible, es/no-object-preventextensions -- required for testing\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) defineBuiltIn(target, key, src[key], options);\n  return target;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis([].slice);\n","'use strict';\n/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar classof = require('../internals/classof-raw');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar arraySlice = require('../internals/array-slice');\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return arraySlice(windowNames);\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && classof(it) === 'Window'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar ARRAY_BUFFER_NON_EXTENSIBLE = require('../internals/array-buffer-non-extensible');\n\n// eslint-disable-next-line es/no-object-isextensible -- safe\nvar $isExtensible = Object.isExtensible;\nvar FAILS_ON_PRIMITIVES = fails(function () { $isExtensible(1); });\n\n// `Object.isExtensible` method\n// https://tc39.es/ecma262/#sec-object.isextensible\nmodule.exports = (FAILS_ON_PRIMITIVES || ARRAY_BUFFER_NON_EXTENSIBLE) ? function isExtensible(it) {\n  if (!isObject(it)) return false;\n  if (ARRAY_BUFFER_NON_EXTENSIBLE && classof(it) === 'ArrayBuffer') return false;\n  return $isExtensible ? $isExtensible(it) : true;\n} : $isExtensible;\n","'use strict';\n// FF26- bug: ArrayBuffers are non-extensible, but Object.isExtensible does not report it\nvar fails = require('../internals/fails');\n\nmodule.exports = fails(function () {\n  if (typeof ArrayBuffer == 'function') {\n    var buffer = new ArrayBuffer(8);\n    // eslint-disable-next-line es/no-object-isextensible, es/no-object-defineproperty -- safe\n    if (Object.isExtensible(buffer)) Object.defineProperty(buffer, 'a', { value: 8 });\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternalModule = require('../internals/object-get-own-property-names-external');\nvar isExtensible = require('../internals/object-is-extensible');\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar REQUIRED = false;\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + id++, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!hasOwn(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!hasOwn(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && REQUIRED && isExtensible(it) && !hasOwn(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar enable = function () {\n  meta.enable = function () { /* empty */ };\n  REQUIRED = true;\n  var getOwnPropertyNames = getOwnPropertyNamesModule.f;\n  var splice = uncurryThis([].splice);\n  var test = {};\n  test[METADATA] = 1;\n\n  // prevent exposing of metadata key\n  if (getOwnPropertyNames(test).length) {\n    getOwnPropertyNamesModule.f = function (it) {\n      var result = getOwnPropertyNames(it);\n      for (var i = 0, length = result.length; i < length; i++) {\n        if (result[i] === METADATA) {\n          splice(result, i, 1);\n          break;\n        }\n      } return result;\n    };\n\n    $({ target: 'Object', stat: true, forced: true }, {\n      getOwnPropertyNames: getOwnPropertyNamesExternalModule.f\n    });\n  }\n};\n\nvar meta = module.exports = {\n  enable: enable,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar $TypeError = TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_RECORD = !!(options && options.IS_RECORD);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal');\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_RECORD) {\n    iterator = iterable.iterator;\n  } else if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw new $TypeError(tryToString(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = IS_RECORD ? iterable.next : iterator.next;\n  while (!(step = call(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n","'use strict';\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw new $TypeError('Incorrect invocation');\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar globalThis = require('../internals/global-this');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isForced = require('../internals/is-forced');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isCallable = require('../internals/is-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = globalThis[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var uncurriedNativeMethod = uncurryThis(NativePrototype[KEY]);\n    defineBuiltIn(NativePrototype, KEY,\n      KEY === 'add' ? function add(value) {\n        uncurriedNativeMethod(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY === 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : KEY === 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : KEY === 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        uncurriedNativeMethod(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  var REPLACE = isForced(\n    CONSTRUCTOR_NAME,\n    !isCallable(NativeConstructor) || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n      new NativeConstructor().entries().next();\n    }))\n  );\n\n  if (REPLACE) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.enable();\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) !== instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new -- required for testing\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, NativePrototype);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (!isNullOrUndefined(iterable)) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, constructor: true, forced: Constructor !== NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltIns = require('../internals/define-built-ins');\nvar getWeakData = require('../internals/internal-metadata').getWeakData;\nvar anInstance = require('../internals/an-instance');\nvar anObject = require('../internals/an-object');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar isObject = require('../internals/is-object');\nvar iterate = require('../internals/iterate');\nvar ArrayIterationModule = require('../internals/array-iteration');\nvar hasOwn = require('../internals/has-own-property');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\nvar find = ArrayIterationModule.find;\nvar findIndex = ArrayIterationModule.findIndex;\nvar splice = uncurryThis([].splice);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (state) {\n  return state.frozen || (state.frozen = new UncaughtFrozenStore());\n};\n\nvar UncaughtFrozenStore = function () {\n  this.entries = [];\n};\n\nvar findUncaughtFrozen = function (store, key) {\n  return find(store.entries, function (it) {\n    return it[0] === key;\n  });\n};\n\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.entries.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = findIndex(this.entries, function (it) {\n      return it[0] === key;\n    });\n    if (~index) splice(this.entries, index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var Constructor = wrapper(function (that, iterable) {\n      anInstance(that, Prototype);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        id: id++,\n        frozen: null\n      });\n      if (!isNullOrUndefined(iterable)) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var Prototype = Constructor.prototype;\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var data = getWeakData(anObject(key), true);\n      if (data === true) uncaughtFrozenStore(state).set(key, value);\n      else data[state.id] = value;\n      return that;\n    };\n\n    defineBuiltIns(Prototype, {\n      // `{ WeakMap, WeakSet }.prototype.delete(key)` methods\n      // https://tc39.es/ecma262/#sec-weakmap.prototype.delete\n      // https://tc39.es/ecma262/#sec-weakset.prototype.delete\n      'delete': function (key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state)['delete'](key);\n        return data && hasOwn(data, state.id) && delete data[state.id];\n      },\n      // `{ WeakMap, WeakSet }.prototype.has(key)` methods\n      // https://tc39.es/ecma262/#sec-weakmap.prototype.has\n      // https://tc39.es/ecma262/#sec-weakset.prototype.has\n      has: function has(key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state).has(key);\n        return data && hasOwn(data, state.id);\n      }\n    });\n\n    defineBuiltIns(Prototype, IS_MAP ? {\n      // `WeakMap.prototype.get(key)` method\n      // https://tc39.es/ecma262/#sec-weakmap.prototype.get\n      get: function get(key) {\n        var state = getInternalState(this);\n        if (isObject(key)) {\n          var data = getWeakData(key);\n          if (data === true) return uncaughtFrozenStore(state).get(key);\n          if (data) return data[state.id];\n        }\n      },\n      // `WeakMap.prototype.set(key, value)` method\n      // https://tc39.es/ecma262/#sec-weakmap.prototype.set\n      set: function set(key, value) {\n        return define(this, key, value);\n      }\n    } : {\n      // `WeakSet.prototype.add(value)` method\n      // https://tc39.es/ecma262/#sec-weakset.prototype.add\n      add: function add(value) {\n        return define(this, value, true);\n      }\n    });\n\n    return Constructor;\n  }\n};\n","'use strict';\nvar FREEZING = require('../internals/freezing');\nvar globalThis = require('../internals/global-this');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltIns = require('../internals/define-built-ins');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar collection = require('../internals/collection');\nvar collectionWeak = require('../internals/collection-weak');\nvar isObject = require('../internals/is-object');\nvar enforceInternalState = require('../internals/internal-state').enforce;\nvar fails = require('../internals/fails');\nvar NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\n\nvar $Object = Object;\n// eslint-disable-next-line es/no-array-isarray -- safe\nvar isArray = Array.isArray;\n// eslint-disable-next-line es/no-object-isextensible -- safe\nvar isExtensible = $Object.isExtensible;\n// eslint-disable-next-line es/no-object-isfrozen -- safe\nvar isFrozen = $Object.isFrozen;\n// eslint-disable-next-line es/no-object-issealed -- safe\nvar isSealed = $Object.isSealed;\n// eslint-disable-next-line es/no-object-freeze -- safe\nvar freeze = $Object.freeze;\n// eslint-disable-next-line es/no-object-seal -- safe\nvar seal = $Object.seal;\n\nvar IS_IE11 = !globalThis.ActiveXObject && 'ActiveXObject' in globalThis;\nvar InternalWeakMap;\n\nvar wrapper = function (init) {\n  return function WeakMap() {\n    return init(this, arguments.length ? arguments[0] : undefined);\n  };\n};\n\n// `WeakMap` constructor\n// https://tc39.es/ecma262/#sec-weakmap-constructor\nvar $WeakMap = collection('WeakMap', wrapper, collectionWeak);\nvar WeakMapPrototype = $WeakMap.prototype;\nvar nativeSet = uncurryThis(WeakMapPrototype.set);\n\n// Chakra Edge bug: adding frozen arrays to WeakMap unfreeze them\nvar hasMSEdgeFreezingBug = function () {\n  return FREEZING && fails(function () {\n    var frozenArray = freeze([]);\n    nativeSet(new $WeakMap(), frozenArray, 1);\n    return !isFrozen(frozenArray);\n  });\n};\n\n// IE11 WeakMap frozen keys fix\n// We can't use feature detection because it crash some old IE builds\n// https://github.com/zloirock/core-js/issues/485\nif (NATIVE_WEAK_MAP) if (IS_IE11) {\n  InternalWeakMap = collectionWeak.getConstructor(wrapper, 'WeakMap', true);\n  InternalMetadataModule.enable();\n  var nativeDelete = uncurryThis(WeakMapPrototype['delete']);\n  var nativeHas = uncurryThis(WeakMapPrototype.has);\n  var nativeGet = uncurryThis(WeakMapPrototype.get);\n  defineBuiltIns(WeakMapPrototype, {\n    'delete': function (key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceInternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeDelete(this, key) || state.frozen['delete'](key);\n      } return nativeDelete(this, key);\n    },\n    has: function has(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceInternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas(this, key) || state.frozen.has(key);\n      } return nativeHas(this, key);\n    },\n    get: function get(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceInternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas(this, key) ? nativeGet(this, key) : state.frozen.get(key);\n      } return nativeGet(this, key);\n    },\n    set: function set(key, value) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceInternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        nativeHas(this, key) ? nativeSet(this, key, value) : state.frozen.set(key, value);\n      } else nativeSet(this, key, value);\n      return this;\n    }\n  });\n// Chakra Edge frozen keys fix\n} else if (hasMSEdgeFreezingBug()) {\n  defineBuiltIns(WeakMapPrototype, {\n    set: function set(key, value) {\n      var arrayIntegrityLevel;\n      if (isArray(key)) {\n        if (isFrozen(key)) arrayIntegrityLevel = freeze;\n        else if (isSealed(key)) arrayIntegrityLevel = seal;\n      }\n      nativeSet(this, key, value);\n      if (arrayIntegrityLevel) arrayIntegrityLevel(key);\n      return this;\n    }\n  });\n}\n","'use strict';\n// TODO: Remove this module from `core-js@4` since it's replaced to module below\nrequire('../modules/es.weak-map.constructor');\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nvar handlePrototype = function (CollectionPrototype, COLLECTION_NAME) {\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    setToStringTag(CollectionPrototype, COLLECTION_NAME, true);\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  handlePrototype(globalThis[COLLECTION_NAME] && globalThis[COLLECTION_NAME].prototype, COLLECTION_NAME);\n}\n\nhandlePrototype(DOMTokenListPrototype, 'DOMTokenList');\n","import { Editor, Element } from 'slate'\n\nimport { NodeEntryWithContext } from '../utils'\n\n/** Weak reference between the `Editor` and the selected elements */\nexport const EDITOR_TO_SELECTION = new WeakMap<Editor, NodeEntryWithContext[][]>()\n\n/** Weak reference between the `Editor` and a set of the selected elements */\nexport const EDITOR_TO_SELECTION_SET = new WeakMap<Editor, WeakSet<Element>>()\n","/**\n * @description set cell property menu\n * @author hsuna\n */\n\nimport {\n  DomEditor, IButtonMenu, IDomEditor, t,\n} from '@wangeditor-next/core'\nimport { Editor, Transforms } from 'slate'\n\nimport {\n  CLEAN_SVG,\n  JUSTIFY_CENTER_SVG,\n  JUSTIFY_JUSTIFY_SVG,\n  JUSTIFY_LEFT_SVG,\n  JUSTIFY_RIGHT_SVG,\n  TABLE_PROPERTY_SVG,\n} from '../../constants/svg'\nimport { isOfType } from '../../utils'\nimport $ from '../../utils/dom'\nimport { EDITOR_TO_SELECTION } from '../weak-maps'\n\nclass TableProperty implements IButtonMenu {\n  readonly title = t('tableModule.tableProperty')\n\n  iconSvg = TABLE_PROPERTY_SVG\n\n  readonly tag = 'button'\n\n  readonly showModal = true\n\n  readonly modalWidth = 300\n\n  readonly menu: string = 'table'\n\n  readonly borderStyle = [\n    { value: 'none', label: t('tableModule.borderStyle.none') },\n    { value: 'solid', label: t('tableModule.borderStyle.solid') },\n    { value: 'dotted', label: t('tableModule.borderStyle.dotted') },\n    { value: 'dashed', label: t('tableModule.borderStyle.dashed') },\n    { value: 'double', label: t('tableModule.borderStyle.double') },\n    { value: 'groove', label: t('tableModule.borderStyle.groove') },\n    { value: 'ridge', label: t('tableModule.borderStyle.ridge') },\n    { value: 'inset', label: t('tableModule.borderStyle.inset') },\n    { value: 'outset', label: t('tableModule.borderStyle.outset') },\n  ]\n\n  readonly textAlignOptions = [\n    { value: 'left', label: t('justify.left'), svg: JUSTIFY_LEFT_SVG },\n    { value: 'center', label: t('justify.center'), svg: JUSTIFY_CENTER_SVG },\n    { value: 'right', label: t('justify.right'), svg: JUSTIFY_RIGHT_SVG },\n    { value: 'justify', label: t('justify.justify'), svg: JUSTIFY_JUSTIFY_SVG },\n  ]\n\n  getValue(_editor: IDomEditor): string | boolean {\n    return ''\n  }\n\n  isActive(_editor: IDomEditor): boolean {\n    return false\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    const tableNode = DomEditor.getSelectedNodeByType(editor, 'table')\n\n    if (tableNode == null) {\n      return true\n    }\n    return false\n  }\n\n  exec(_editor: IDomEditor, _value: string | boolean) {\n    // 此处空着即可\n  }\n\n  getModalContentNode(editor: IDomEditor) {\n    const [node] = Editor.nodes(editor, {\n      match: isOfType(editor, 'table'),\n    })\n\n    return node\n  }\n\n  getModalPositionNode(_editor: IDomEditor) {\n    return null\n  }\n\n  getModalContentElem(editor: IDomEditor) {\n    const node = this.getModalContentNode(editor)\n\n    if (!node) { return null }\n\n    const [data, path] = node\n    const $content = $(`<div>\n      <label class=\"babel-container\">\n        <span>${t('tableModule.modal.border')}</span>\n        <span class=\"babel-container-border\">\n          <select name=\"borderStyle\">\n            ${this.borderStyle\n    .map(item => `<option value=\"${item.value}\">${item.label}</option>`)\n    .join('')}\n          </select>\n          <span class=\"color-group\" data-mark=\"color\">\n            <span class=\"color-group-block\"></span>\n            <input name=\"borderColor\" type=\"hidden\">\n          </span>\n          <input name=\"borderWidth\" type=\"number\" placeholder=\"${t(\n    'tableModule.modal.borderWidth',\n  )}\">\n        </span>\n      </label>\n      <div class=\"babel-container\">\n        <span>${t('tableModule.modal.bgColor')}</span>\n        <span class=\"babel-container-background\">\n          <span class=\"color-group\" data-mark=\"bgColor\">\n            <span class=\"color-group-block\"></span>\n            <input name=\"backgroundColor\" type=\"hidden\">\n          </span>\n        </span>\n      </div>\n      <label class=\"babel-container\">\n        <span>${t('tableModule.modal.align')}</span>\n        <span class=\"babel-container-align\">\n          <select name=\"textAlign\">\n            ${this.textAlignOptions\n    .map(item => `<option value=\"${item.value}\">${item.label}</option>`)\n    .join('')}\n          </select>\n        </span>\n      </label>\n      <div class=\"button-container\">\n        <button type=\"button\">${t('tableModule.modal.ok')}</button>\n      </div>\n    </div>`)\n\n    // 初始化所有表单的值\n    $content.find('[name]').each(elem => {\n      $(elem).val(data[$(elem).attr('name')])\n    })\n\n    const setSelectedColor = (elem, color) => {\n      if (color) {\n        $('.color-group-block', elem).css('background-color', color).empty()\n      } else {\n        $('.color-group-block', elem).css('background-color', '').html(CLEAN_SVG)\n      }\n    }\n\n    $content.find('.color-group').each(elem => {\n      const selectedColor = $('[type=\"hidden\"]', elem).val() || ''\n\n      setSelectedColor(elem, selectedColor)\n\n      const $elem = $(elem)\n\n      $elem.on('click', () => {\n        $content.find('.color-group .w-e-drop-panel').hide()\n        let $panel = $elem.data('panel')\n\n        if (!$panel) {\n          $panel = this.getPanelContentElem(editor, {\n            mark: $elem.data('mark'),\n            selectedColor,\n            callback: color => {\n              $('[type=\"hidden\"]', elem).val(color || '')\n              setSelectedColor(elem, color)\n              $panel.hide()\n            },\n          })\n          $elem.append($panel)\n          $elem.data('panel', $panel)\n        } else {\n          $panel.show()\n        }\n      })\n    })\n\n    const $button = $content.find('button')\n\n    $button.on('click', () => {\n      const props = Array.from($content.find('[name]')).reduce((obj, elem) => {\n        obj[$(elem).attr('name')] = $(elem).val()\n        return obj\n      }, {})\n\n      const selection = EDITOR_TO_SELECTION.get(editor)\n\n      if (this.menu === 'cell' && !!selection?.length) {\n        selection.forEach(row => {\n          row.forEach(cell => {\n            Transforms.setNodes(editor, props, { at: cell[0][1] })\n          })\n        })\n      } else {\n        Transforms.setNodes(editor, props, { at: path })\n      }\n\n      setTimeout(() => {\n        editor.focus()\n      })\n    })\n\n    return $content[0]\n  }\n\n  getPanelContentElem(editor, { mark, selectedColor, callback }) {\n    const $colorPanel = $('<ul class=\"w-e-panel-content-color\"></ul>')\n\n    $colorPanel.on('click', 'li', e => {\n      const { target } = e\n\n      if (!target) { return }\n      e.preventDefault()\n      e.stopPropagation()\n\n      const $li = $(target)\n      const val = $li.attr('data-value')\n\n      callback(val)\n    })\n\n    const colorConf = editor.getMenuConfig(mark)\n    const { colors = [] } = colorConf\n\n    colors.forEach(color => {\n      const $block = $(`<div class=\"color-block\" data-value=\"${color}\"></div>`)\n\n      $block.css('background-color', color)\n\n      const $li = $(`<li data-value=\"${color}\"></li>`)\n\n      if (selectedColor === color) {\n        $li.addClass('active')\n      }\n      $li.append($block)\n\n      $colorPanel.append($li)\n    })\n\n    let clearText = ''\n\n    if (mark === 'color') { clearText = t('tableModule.color.default') }\n    if (mark === 'bgColor') { clearText = t('tableModule.color.clear') }\n    const $clearLi = $(`\n      <li data-value=\"\" class=\"clear\">\n        ${CLEAN_SVG}\n        ${clearText}\n      </li>\n    `)\n\n    $colorPanel.prepend($clearLi)\n\n    const $panel = $('<div class=\"w-e-drop-panel\"></div>')\n\n    $panel.append($colorPanel)\n    return $panel\n  }\n}\n\nexport default TableProperty\n","import { IButtonMenu, IDomEditor, t } from '@wangeditor-next/core'\nimport { Editor } from 'slate'\n\nimport { CELL_PROPERTY_SVG } from '../../constants/svg'\nimport { isOfType } from '../../utils'\nimport TableProperty from './TableProperty'\n\nclass CellProperty extends TableProperty implements IButtonMenu {\n  readonly title = t('tableModule.cellProperty')\n\n  readonly iconSvg = CELL_PROPERTY_SVG\n\n  readonly tag = 'button'\n\n  readonly showModal = true\n\n  readonly modalWidth = 300\n\n  readonly menu = 'cell'\n\n  getModalContentNode(editor: IDomEditor) {\n    const [node] = Editor.nodes(editor, {\n      match: isOfType(editor, 'td'),\n    })\n\n    return node\n  }\n}\n\nexport default CellProperty\n","'use strict';\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (O, P) {\n  if (!delete O[P]) throw new $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar internalSort = require('../internals/array-sort');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar FF = require('../internals/environment-ff-version');\nvar IE_OR_EDGE = require('../internals/environment-is-ie-or-edge');\nvar V8 = require('../internals/environment-v8-version');\nvar WEBKIT = require('../internals/environment-webkit-version');\n\nvar test = [];\nvar nativeSort = uncurryThis(test.sort);\nvar push = uncurryThis(test.push);\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar STABLE_SORT = !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return toString(x) > toString(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aCallable(comparefn);\n\n    var array = toObject(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? nativeSort(array) : nativeSort(array, comparefn);\n\n    var items = [];\n    var arrayLength = lengthOfArrayLike(array);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) push(items, array[index]);\n    }\n\n    internalSort(items, getSortCompare(comparefn));\n\n    itemsLength = lengthOfArrayLike(items);\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) deletePropertyOrThrow(array, index++);\n\n    return array;\n  }\n});\n","'use strict';\nvar arraySlice = require('../internals/array-slice');\n\nvar floor = Math.floor;\n\nvar sort = function (array, comparefn) {\n  var length = array.length;\n\n  if (length < 8) {\n    // insertion sort\n    var i = 1;\n    var element, j;\n\n    while (i < length) {\n      j = i;\n      element = array[i];\n      while (j && comparefn(array[j - 1], element) > 0) {\n        array[j] = array[--j];\n      }\n      if (j !== i++) array[j] = element;\n    }\n  } else {\n    // merge sort\n    var middle = floor(length / 2);\n    var left = sort(arraySlice(array, 0, middle), comparefn);\n    var right = sort(arraySlice(array, middle), comparefn);\n    var llength = left.length;\n    var rlength = right.length;\n    var lindex = 0;\n    var rindex = 0;\n\n    while (lindex < llength || rindex < rlength) {\n      array[lindex + rindex] = (lindex < llength && rindex < rlength)\n        ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]\n        : lindex < llength ? left[lindex++] : right[rindex++];\n    }\n  }\n\n  return array;\n};\n\nmodule.exports = sort;\n","'use strict';\nvar userAgent = require('../internals/environment-user-agent');\n\nvar firefox = userAgent.match(/firefox\\/(\\d+)/i);\n\nmodule.exports = !!firefox && +firefox[1];\n","'use strict';\nvar UA = require('../internals/environment-user-agent');\n\nmodule.exports = /MSIE|Trident/.test(UA);\n","'use strict';\nvar userAgent = require('../internals/environment-user-agent');\n\nvar webkit = userAgent.match(/AppleWebKit\\/(\\d+)\\./);\n\nmodule.exports = !!webkit && +webkit[1];\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\n    }\n    doesNotExceedSafeInteger(len + insertCount - actualDeleteCount);\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) deletePropertyOrThrow(O, k - 1);\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else deletePropertyOrThrow(O, to);\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    setArrayLength(O, len - actualDeleteCount + insertCount);\n    return A;\n  }\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw new $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\nmodule.exports = globalThis;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = uncurryThis(1.1.valueOf);\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar globalThis = require('../internals/global-this');\nvar path = require('../internals/path');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isForced = require('../internals/is-forced');\nvar hasOwn = require('../internals/has-own-property');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar isSymbol = require('../internals/is-symbol');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar thisNumberValue = require('../internals/this-number-value');\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = globalThis[NUMBER];\nvar PureNumberNamespace = path[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\nvar TypeError = globalThis.TypeError;\nvar stringSlice = uncurryThis(''.slice);\nvar charCodeAt = uncurryThis(''.charCodeAt);\n\n// `ToNumeric` abstract operation\n// https://tc39.es/ecma262/#sec-tonumeric\nvar toNumeric = function (value) {\n  var primValue = toPrimitive(value, 'number');\n  return typeof primValue == 'bigint' ? primValue : toNumber(primValue);\n};\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, 'number');\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (isSymbol(it)) throw new TypeError('Cannot convert a Symbol value to a number');\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = charCodeAt(it, 0);\n    if (first === 43 || first === 45) {\n      third = charCodeAt(it, 2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (charCodeAt(it, 1)) {\n        // fast equal of /^0b[01]+$/i\n        case 66:\n        case 98:\n          radix = 2;\n          maxCode = 49;\n          break;\n        // fast equal of /^0o[0-7]+$/i\n        case 79:\n        case 111:\n          radix = 8;\n          maxCode = 55;\n          break;\n        default:\n          return +it;\n      }\n      digits = stringSlice(it, 2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = charCodeAt(digits, index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nvar FORCED = isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'));\n\nvar calledWithNew = function (dummy) {\n  // includes check on 1..constructor(foo) case\n  return isPrototypeOf(NumberPrototype, dummy) && fails(function () { thisNumberValue(dummy); });\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nvar NumberWrapper = function Number(value) {\n  var n = arguments.length < 1 ? 0 : NativeNumber(toNumeric(value));\n  return calledWithNew(this) ? inheritIfRequired(Object(n), this, NumberWrapper) : n;\n};\n\nNumberWrapper.prototype = NumberPrototype;\nif (FORCED && !IS_PURE) NumberPrototype.constructor = NumberWrapper;\n\n$({ global: true, constructor: true, wrap: true, forced: FORCED }, {\n  Number: NumberWrapper\n});\n\n// Use `internal/copy-constructor-properties` helper in `core-js@4`\nvar copyConstructorProperties = function (target, source) {\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(source) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (hasOwn(source, key = keys[j]) && !hasOwn(target, key)) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n\nif (IS_PURE && PureNumberNamespace) copyConstructorProperties(path[NUMBER], PureNumberNamespace);\nif (FORCED || IS_PURE) copyConstructorProperties(path[NUMBER], NativeNumber);\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineBuiltInAccessor(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","'use strict';\nvar create = require('../internals/object-create');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar defineBuiltIns = require('../internals/define-built-ins');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/iterator-define');\nvar createIterResultObject = require('../internals/create-iter-result-object');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var Constructor = wrapper(function (that, iterable) {\n      anInstance(that, Prototype);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: null,\n        last: null,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (!isNullOrUndefined(iterable)) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var Prototype = Constructor.prototype;\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: null,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key === key) return entry;\n      }\n    };\n\n    defineBuiltIns(Prototype, {\n      // `{ Map, Set }.prototype.clear()` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.clear\n      // https://tc39.es/ecma262/#sec-set.prototype.clear\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = null;\n          entry = entry.next;\n        }\n        state.first = state.last = null;\n        state.index = create(null);\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // `{ Map, Set }.prototype.delete(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.delete\n      // https://tc39.es/ecma262/#sec-set.prototype.delete\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first === entry) state.first = next;\n          if (state.last === entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // `{ Map, Set }.prototype.forEach(callbackfn, thisArg = undefined)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.foreach\n      // https://tc39.es/ecma262/#sec-set.prototype.foreach\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // `{ Map, Set}.prototype.has(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.has\n      // https://tc39.es/ecma262/#sec-set.prototype.has\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    defineBuiltIns(Prototype, IS_MAP ? {\n      // `Map.prototype.get(key)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.get\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // `Map.prototype.set(key, value)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.set\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // `Set.prototype.add(value)` method\n      // https://tc39.es/ecma262/#sec-set.prototype.add\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineBuiltInAccessor(Prototype, 'size', {\n      configurable: true,\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return Constructor;\n  },\n  setStrong: function (Constructor, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // `{ Map, Set }.prototype.{ keys, values, entries, @@iterator }()` methods\n    // https://tc39.es/ecma262/#sec-map.prototype.entries\n    // https://tc39.es/ecma262/#sec-map.prototype.keys\n    // https://tc39.es/ecma262/#sec-map.prototype.values\n    // https://tc39.es/ecma262/#sec-map.prototype-@@iterator\n    // https://tc39.es/ecma262/#sec-set.prototype.entries\n    // https://tc39.es/ecma262/#sec-set.prototype.keys\n    // https://tc39.es/ecma262/#sec-set.prototype.values\n    // https://tc39.es/ecma262/#sec-set.prototype-@@iterator\n    defineIterator(Constructor, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: null\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = null;\n        return createIterResultObject(undefined, true);\n      }\n      // return step by kind\n      if (kind === 'keys') return createIterResultObject(entry.key, false);\n      if (kind === 'values') return createIterResultObject(entry.value, false);\n      return createIterResultObject([entry.key, entry.value], false);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // `{ Map, Set }.prototype[@@species]` accessors\n    // https://tc39.es/ecma262/#sec-get-map-@@species\n    // https://tc39.es/ecma262/#sec-get-set-@@species\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.es/ecma262/#sec-set-objects\ncollection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","/**\n * @description del col menu\n * @author wangfupeng\n */\n\nimport {\n  DomEditor, IButtonMenu, IDomEditor, t,\n} from '@wangeditor-next/core'\nimport {\n  Editor, Path, Range, Transforms,\n} from 'slate'\n\nimport { DEL_COL_SVG } from '../../constants/svg'\nimport { filledMatrix } from '../../utils'\nimport { TableCellElement, TableElement } from '../custom-types'\n\nclass DeleteCol implements IButtonMenu {\n  readonly title = t('tableModule.deleteCol')\n\n  readonly iconSvg = DEL_COL_SVG\n\n  readonly tag = 'button'\n\n  getValue(_editor: IDomEditor): string | boolean {\n    // 无需获取 val\n    return ''\n  }\n\n  isActive(_editor: IDomEditor): boolean {\n    // 无需 active\n    return false\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    const { selection } = editor\n\n    if (selection == null) { return true }\n    if (!Range.isCollapsed(selection)) { return true }\n\n    const cellNode = DomEditor.getSelectedNodeByType(editor, 'table-cell')\n\n    if (cellNode == null) {\n      // 选区未处于 table cell node ，则禁用\n      return true\n    }\n    return false\n  }\n\n  exec(editor: IDomEditor, _value: string | boolean) {\n    if (this.isDisabled(editor)) { return }\n\n    const [cellEntry] = Editor.nodes(editor, {\n      match: n => DomEditor.checkNodeType(n, 'table-cell'),\n      universal: true,\n    })\n    const [selectedCellNode, selectedCellPath] = cellEntry\n\n    // 如果只有一列，则删除整个表格\n    const rowNode = DomEditor.getParentNode(editor, selectedCellNode)\n    const colLength = rowNode?.children.length || 0\n\n    if (!rowNode || colLength <= 1) {\n      Transforms.removeNodes(editor, { mode: 'highest' }) // 删除整个表格\n      return\n    }\n\n    // ------------------------- 不只有 1 列，则继续 -------------------------\n\n    const tableNode = DomEditor.getParentNode(editor, rowNode)\n\n    if (tableNode == null) { return }\n\n    const matrix = filledMatrix(editor)\n    let tdIndex = 0\n\n    // eslint-disable-next-line no-labels\n    out: for (let x = 0; x < matrix.length; x += 1) {\n      for (let y = 0; y < matrix[x].length; y += 1) {\n        const [[, path]] = matrix[x][y]\n\n        if (Path.equals(selectedCellPath, path)) {\n          tdIndex = y\n          // eslint-disable-next-line no-labels\n          break out\n        }\n      }\n    }\n\n    Editor.withoutNormalizing(editor, () => {\n      // 记录需要删除的单元格路径和已处理的合并单元格\n      const cellsToDelete = new Set<string>()\n      const processedMergedCells = new Set<string>()\n\n      // 遍历每一行的第 tdIndex 列\n      for (let x = 0; x < matrix.length; x += 1) {\n        if (!matrix[x] || !matrix[x][tdIndex]) {\n          continue\n        }\n\n        const [[, cellPath], {\n          rtl, ltr, ttb, btt,\n        }] = matrix[x][tdIndex]\n        const cellPathKey = cellPath.join(',')\n\n        // 判断是否是合并单元格\n        if (rtl > 1 || ltr > 1 || ttb > 1 || btt > 1) {\n          // 这是合并单元格的一部分\n          // 找到真实单元格的位置（左上角的位置）\n          // rtl表示从右到左的距离，所以真实单元格列 = 当前列 - (rtl - 1)\n          // ttb表示从上到下的距离，所以真实单元格行 = 当前行 - (ttb - 1)\n          const realCellRow = x - (ttb - 1)\n          const realCellCol = tdIndex - (rtl - 1)\n\n          // 安全检查：确保真实单元格位置存在\n          if (realCellRow < 0 || realCellRow >= matrix.length\n              || !matrix[realCellRow] || !matrix[realCellRow][realCellCol]) {\n            continue\n          }\n\n          const [[realCellElement, realCellPath]] = matrix[realCellRow][realCellCol]\n          const realCellPathKey = realCellPath.join(',')\n\n          // 避免重复处理同一个合并单元格\n          if (!processedMergedCells.has(realCellPathKey)) {\n            processedMergedCells.add(realCellPathKey)\n\n            const { rowSpan = 1, colSpan = 1 } = realCellElement\n            const newColSpan = Math.max(colSpan - 1, 1)\n\n            // 更新真实单元格的 colSpan\n            Transforms.setNodes<TableCellElement>(\n              editor,\n              {\n                rowSpan,\n                colSpan: newColSpan,\n              },\n              { at: realCellPath },\n            )\n          }\n        } else {\n          // rtl = 1 且 ltr = 1 且 ttb = 1 且 btt = 1，说明这是独立的单元格，直接删除\n          cellsToDelete.add(cellPathKey)\n        }\n      }\n\n      // 删除独立的单元格\n      const cellsToDeleteArray = Array.from(cellsToDelete)\n\n      // 按路径深度降序排序，确保从深层到浅层删除，避免路径失效\n      cellsToDeleteArray.sort((a, b) => {\n        const pathA = a.split(',').map(Number)\n        const pathB = b.split(',').map(Number)\n\n        // 按行降序排序\n        if (pathA[pathA.length - 2] !== pathB[pathB.length - 2]) {\n          return pathB[pathB.length - 2] - pathA[pathA.length - 2]\n        }\n\n        // 同行内按列降序排序\n        return pathB[pathB.length - 1] - pathA[pathA.length - 1]\n      })\n\n      for (const pathKey of cellsToDeleteArray) {\n        const path = pathKey.split(',').map(Number)\n\n        try {\n          if (Editor.hasPath(editor, path)) {\n            Transforms.removeNodes(editor, { at: path })\n          }\n        } catch (error) {\n          console.warn('删除单元格失败:', path, error)\n        }\n      }\n\n      // 调整表格的 columnWidths\n      const [tableEntry] = Editor.nodes(editor, {\n        match: n => DomEditor.checkNodeType(n, 'table'),\n        universal: true,\n      })\n\n      if (tableEntry) {\n        const [elemNode, tablePath] = tableEntry\n        const { columnWidths = [] } = elemNode as TableElement\n        const adjustColumnWidths = [...columnWidths]\n\n        // 删除对应列的宽度\n        adjustColumnWidths.splice(tdIndex, 1)\n\n        Transforms.setNodes(editor, { columnWidths: adjustColumnWidths } as TableElement, {\n          at: tablePath,\n        })\n      }\n    })\n  }\n}\n\nexport default DeleteCol\n","/**\n * @description del row menu\n * @author wangfupeng\n */\n\nimport {\n  DomEditor, IButtonMenu, IDomEditor, t,\n} from '@wangeditor-next/core'\nimport {\n  Editor, Path, Range, Transforms,\n} from 'slate'\n\nimport { DEL_ROW_SVG } from '../../constants/svg'\nimport { filledMatrix } from '../../utils'\nimport { TableCellElement } from '../custom-types'\n\nclass DeleteRow implements IButtonMenu {\n  readonly title = t('tableModule.deleteRow')\n\n  readonly iconSvg = DEL_ROW_SVG\n\n  readonly tag = 'button'\n\n  getValue(_editor: IDomEditor): string | boolean {\n    // 无需获取 val\n    return ''\n  }\n\n  isActive(_editor: IDomEditor): boolean {\n    // 无需 active\n    return false\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    const { selection } = editor\n\n    if (selection == null) { return true }\n    if (!Range.isCollapsed(selection)) { return true }\n\n    const rowNode = DomEditor.getSelectedNodeByType(editor, 'table-row')\n\n    if (rowNode == null) {\n      // 选区未处于 table row node ，则禁用\n      return true\n    }\n    return false\n  }\n\n  exec(editor: IDomEditor, _value: string | boolean) {\n    if (this.isDisabled(editor)) { return }\n\n    const [rowEntry] = Editor.nodes(editor, {\n      match: n => DomEditor.checkNodeType(n, 'table-row'),\n      universal: true,\n    })\n    const [rowNode, rowPath] = rowEntry\n\n    const tableNode = DomEditor.getParentNode(editor, rowNode)\n    const rowsLength = tableNode?.children.length || 0\n\n    if (rowsLength <= 1) {\n      // row 只有一行，则删掉整个表格\n      Transforms.removeNodes(editor, { mode: 'highest' })\n      return\n    }\n\n    // row > 1 行，则删掉这一行\n    const [cellEntry] = Editor.nodes(editor, {\n      match: n => DomEditor.checkNodeType(n, 'table-cell'),\n      universal: true,\n    })\n    const [, cellPath] = cellEntry\n    const matrix = filledMatrix(editor)\n    let trIndex = 0\n\n    // eslint-disable-next-line no-labels\n    outer: for (let x = 0; x < matrix.length; x += 1) {\n      for (let y = 0; y < matrix[x].length; y += 1) {\n        const [[, path]] = matrix[x][y]\n\n        if (!Path.equals(cellPath, path)) {\n          continue\n        }\n        trIndex = x\n        // eslint-disable-next-line no-labels\n        break outer\n      }\n    }\n\n    Editor.withoutNormalizing(editor, () => {\n      // 收集需要在下一行插入的新单元格信息\n      const cellsToInsert: Array<{\n        cell: TableCellElement\n        columnIndex: number\n      }> = []\n\n      for (let y = 0; y < matrix[trIndex].length; y += 1) {\n        const [[{ hidden }], { ttb, btt, rtl }] = matrix[trIndex][y]\n\n        // 寻找跨行行为\n        if (ttb > 1 || btt > 1) {\n          // 找到显示中 rowSpan 节点\n          const originalRowIndex = trIndex - (ttb - 1)\n\n          // 安全检查：确保目标行和列都存在\n          if (originalRowIndex < 0 || originalRowIndex >= matrix.length || !matrix[originalRowIndex] || !matrix[originalRowIndex][y]) {\n            continue\n          }\n\n          const [[originalCell, path]] = matrix[originalRowIndex][y]\n          const typedOriginalCell = originalCell as TableCellElement\n          const { rowSpan = 1, colSpan = 1 } = typedOriginalCell\n\n          if (hidden) {\n            // 如果当前选中节点为隐藏节点，则向上寻找处理 rowSpan 逻辑\n            Transforms.setNodes<TableCellElement>(\n              editor,\n              {\n                rowSpan: Math.max(rowSpan - 1, 1),\n                colSpan,\n              },\n              { at: path },\n            )\n          } else if (ttb === 1 && rtl === 1) {\n            // 只处理合并单元格的真正位置（左上角）：ttb=1且rtl=1\n            // 这样避免重复处理同一个合并单元格\n            const hasNextRow = trIndex + 1 < matrix.length\n\n            if (hasNextRow && rowSpan > 1) {\n              // 创建新的单元格，继承原单元格的内容和属性\n              const newCell: TableCellElement = {\n                type: 'table-cell',\n                rowSpan: rowSpan - 1, // 新单元格的rowSpan = 原rowSpan - 1\n                colSpan, // 保持原来的colSpan\n                hidden: false,\n                children: typedOriginalCell.children.map(child => ({ ...child })), // 深拷贝继承原单元格的内容\n              }\n\n              // 继承原单元格的其他属性\n              if (typedOriginalCell.isHeader) { newCell.isHeader = typedOriginalCell.isHeader }\n              if (typedOriginalCell.width) { newCell.width = typedOriginalCell.width }\n              if (typedOriginalCell.backgroundColor) { newCell.backgroundColor = typedOriginalCell.backgroundColor }\n              if (typedOriginalCell.borderWidth) { newCell.borderWidth = typedOriginalCell.borderWidth }\n              if (typedOriginalCell.borderStyle) { newCell.borderStyle = typedOriginalCell.borderStyle }\n              if (typedOriginalCell.borderColor) { newCell.borderColor = typedOriginalCell.borderColor }\n              if (typedOriginalCell.textAlign) { newCell.textAlign = typedOriginalCell.textAlign }\n\n              // 记录需要插入的单元格信息\n              cellsToInsert.push({\n                cell: newCell,\n                columnIndex: y,\n              })\n            } else {\n              // 如果没有下一行，直接减少原始单元格的 rowSpan\n              Transforms.setNodes<TableCellElement>(\n                editor,\n                {\n                  rowSpan: Math.max(rowSpan - 1, 1),\n                  colSpan,\n                },\n                { at: path },\n              )\n            }\n          } else {\n            // 处理其他跨行单元格的情况：非隐藏且非左上角原始位置\n            // 这种情况下也需要减少原始单元格的 rowSpan\n            Transforms.setNodes<TableCellElement>(\n              editor,\n              {\n                rowSpan: Math.max(rowSpan - 1, 1),\n                colSpan,\n              },\n              { at: path },\n            )\n          }\n        }\n      }\n\n      // 删除当前行\n      Transforms.removeNodes(editor, { at: rowPath })\n\n      // 行删除时，对应的行元素及其高度属性会自动被移除，无需额外操作\n\n      // 在下一行（现在变成了当前行）的对应位置插入新单元格\n      if (cellsToInsert.length > 0) {\n        // 删除行后，原来的下一行会移动到rowPath的位置\n        const targetRowPath = rowPath\n\n        try {\n          // 按列索引排序，从左到右插入\n          cellsToInsert.sort((a, b) => a.columnIndex - b.columnIndex)\n\n          for (const { cell, columnIndex } of cellsToInsert) {\n            try {\n              // 尝试在对应的列位置插入\n              const insertPath = [...targetRowPath, columnIndex]\n\n              Transforms.insertNodes(editor, cell, { at: insertPath })\n            } catch (error) {\n              // 如果插入失败，尝试在行末尾插入\n              try {\n                const [targetRow] = Editor.node(editor, targetRowPath)\n                const cellCount = (targetRow as any).children.length\n                const endPath = [...targetRowPath, cellCount]\n\n                Transforms.insertNodes(editor, cell, { at: endPath })\n              } catch (fallbackError) {\n                console.warn('插入新单元格失败:', fallbackError)\n              }\n            }\n          }\n        } catch (error) {\n          console.warn('插入新单元格失败:', error)\n        }\n      }\n    })\n  }\n}\n\nexport default DeleteRow\n","/**\n * @description del table menu\n * @author wangfupeng\n */\n\nimport {\n  DomEditor, IButtonMenu, IDomEditor, t,\n} from '@wangeditor-next/core'\nimport { Transforms } from 'slate'\n\nimport { TRASH_SVG } from '../../constants/svg'\n\nclass DeleteTable implements IButtonMenu {\n  readonly title = t('tableModule.deleteTable')\n\n  readonly iconSvg = TRASH_SVG\n\n  readonly tag = 'button'\n\n  getValue(_editor: IDomEditor): string | boolean {\n    // 无需获取 val\n    return ''\n  }\n\n  isActive(_editor: IDomEditor): boolean {\n    // 无需 active\n    return false\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    if (editor.selection == null) { return true }\n\n    const tableNode = DomEditor.getSelectedNodeByType(editor, 'table')\n\n    if (tableNode == null) {\n      // 选区未处于 table node ，则禁用\n      return true\n    }\n    return false\n  }\n\n  exec(editor: IDomEditor, _value: string | boolean) {\n    if (this.isDisabled(editor)) { return }\n\n    // 删除表格\n    Transforms.removeNodes(editor, { mode: 'highest' })\n  }\n}\n\nexport default DeleteTable\n","/**\n * @description table full width menu\n * @author wangfupeng\n */\n\nimport {\n  DomEditor, IButtonMenu, IDomEditor, t,\n} from '@wangeditor-next/core'\nimport { Range, Transforms } from 'slate'\n\nimport { FULL_WIDTH_SVG } from '../../constants/svg'\nimport { TableElement } from '../custom-types'\n\nclass TableFullWidth implements IButtonMenu {\n  readonly title = t('tableModule.widthAuto')\n\n  readonly iconSvg = FULL_WIDTH_SVG\n\n  readonly tag = 'button'\n\n  getValue(_editor: IDomEditor): string | boolean {\n    // 每次点击都执行调整，不需要状态判断\n    return false\n  }\n\n  isActive(_editor: IDomEditor): boolean {\n    // 每次点击都执行调整，不需要状态判断\n    return false\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    const { selection } = editor\n\n    if (selection == null) { return true }\n    if (!Range.isCollapsed(selection)) { return true }\n\n    const tableNode = DomEditor.getSelectedNodeByType(editor, 'table')\n\n    if (tableNode == null) {\n      // 选区未处于 table node ，则禁用\n      return true\n    }\n    return false\n  }\n\n  exec(editor: IDomEditor, _value: string | boolean) {\n    if (this.isDisabled(editor)) { return }\n\n    const tableNode = DomEditor.getSelectedNodeByType(editor, 'table') as TableElement\n\n    if (!tableNode) { return }\n\n    const { columnWidths = [] } = tableNode\n\n    // 获取当前选中的表格的DOM元素,再查找table-container容器元素，防止文档多表格时，获取到其他表格的容器元素\n    const tableDom = DomEditor.toDOMNode(editor, tableNode)\n    const containerElement = tableDom.querySelector('.table-container')\n\n    if (!containerElement || columnWidths.length === 0) {\n      // 如果找不到容器或没有列宽信息，则使用原来的逻辑，先使用auto预留以后实现按比例实现缩放功能\n      const props: Partial<TableElement> = {\n        width: 'auto',\n      }\n\n      Transforms.setNodes(editor, props, { mode: 'highest' })\n      return\n    }\n\n    const containerWidth = containerElement.clientWidth\n    const currentTotalWidth = columnWidths.reduce((a, b) => a + b, 0)\n\n    // 计算等比例调整后的列宽\n    const adjustedColumnWidths = columnWidths.map(width => {\n      const ratio = width / currentTotalWidth\n\n      return Math.floor(ratio * containerWidth)\n    })\n\n    // 确保最小宽度限制（与 insertTable 配置一致，默认 60px）\n    const { minWidth: configuredMinWidth = 60 } = editor.getMenuConfig('insertTable') as any\n    const minWidth = parseInt(String(configuredMinWidth), 10) || 60\n    const adjustedWithMinWidth = adjustedColumnWidths.map(width => Math.max(minWidth, width))\n\n    // 如果调整后的总宽度超过容器宽度，按比例缩小\n    const adjustedTotalWidth = adjustedWithMinWidth.reduce((a, b) => a + b, 0)\n\n    if (adjustedTotalWidth > containerWidth) {\n      const scaleFactor = containerWidth / adjustedTotalWidth\n      const finalColumnWidths = adjustedWithMinWidth.map(width => Math.max(minWidth, Math.floor(width * scaleFactor)))\n\n      // 应用新的列宽和宽度设置\n      const props: Partial<TableElement> = {\n        width: 'auto',\n        columnWidths: finalColumnWidths,\n      }\n\n      Transforms.setNodes(editor, props, { mode: 'highest' })\n    } else {\n      // 如果调整后的总宽度小于容器宽度，将剩余宽度加到最后一列\n      const finalColumnWidths = [...adjustedWithMinWidth]\n      const remainingWidth = containerWidth - adjustedTotalWidth - 1\n\n      if (remainingWidth > 0 && finalColumnWidths.length > 0) {\n        // 将剩余宽度加到最后一列\n        finalColumnWidths[finalColumnWidths.length - 1] += remainingWidth\n      }\n\n      // 应用新的列宽和宽度设置\n      const props: Partial<TableElement> = {\n        width: 'auto',\n        columnWidths: finalColumnWidths,\n      }\n\n      Transforms.setNodes(editor, props, { mode: 'highest' })\n    }\n  }\n}\n\nexport default TableFullWidth\n","/**\n * @description table menu helpers\n * @author wangfupeng\n */\n\nimport { DomEditor, IDomEditor } from '@wangeditor-next/core'\n\nimport { TableCellElement, TableElement } from './custom-types'\n\n/**\n * 获取第一行所有 cells\n * @param tableNode table node\n */\nexport function getFirstRowCells(tableNode: TableElement): TableCellElement[] {\n  const rows = tableNode.children || [] // 所有行\n\n  if (rows.length === 0) { return [] }\n  const firstRow = rows[0] || {} // 第一行\n  const cells = firstRow.children || [] // 第一行所有 cell\n\n  return cells\n}\n\n/**\n * 表格是否带有表头？\n * @param tableNode table node\n */\nexport function isTableWithHeader(tableNode: TableElement): boolean {\n  const firstRowCells = getFirstRowCells(tableNode)\n\n  return firstRowCells.every(cell => !!cell.isHeader)\n}\n\n/**\n * 单元格是否在第一行\n * @param editor editor\n * @param cellNode cell node\n */\nexport function isCellInFirstRow(editor: IDomEditor, cellNode: TableCellElement): boolean {\n  const rowNode = DomEditor.getParentNode(editor, cellNode)\n\n  if (rowNode == null) { return false }\n  const tableNode = DomEditor.getParentNode(editor, rowNode)\n\n  if (tableNode == null) { return false }\n\n  const firstRowCells = getFirstRowCells(tableNode as TableElement)\n\n  return firstRowCells.some(c => c === cellNode)\n}\n","/**\n * @description insert col menu\n * @author wangfupeng\n */\n\nimport {\n  DomEditor, IButtonMenu, IDomEditor, t,\n} from '@wangeditor-next/core'\nimport {\n  Editor, Path, Range, Transforms,\n} from 'slate'\n\nimport { ADD_COL_SVG } from '../../constants/svg'\nimport { filledMatrix } from '../../utils'\nimport { TableCellElement, TableElement } from '../custom-types'\nimport { isTableWithHeader } from '../helpers'\n\nclass InsertCol implements IButtonMenu {\n  readonly title = t('tableModule.insertCol')\n\n  readonly iconSvg = ADD_COL_SVG\n\n  readonly tag = 'button'\n\n  getValue(_editor: IDomEditor): string | boolean {\n    // 无需获取 val\n    return ''\n  }\n\n  isActive(_editor: IDomEditor): boolean {\n    // 无需 active\n    return false\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    const { selection } = editor\n\n    if (selection == null) { return true }\n    if (!Range.isCollapsed(selection)) { return true }\n\n    const tableNode = DomEditor.getSelectedNodeByType(editor, 'table')\n\n    if (tableNode == null) {\n      // 选区未处于 table cell node ，则禁用\n      return true\n    }\n\n    // 检查当前单元格的宽度是否小于20px\n    try {\n      const [cellEntry] = Editor.nodes(editor, {\n        match: n => DomEditor.checkNodeType(n, 'table-cell'),\n        universal: true,\n      })\n\n      if (!cellEntry) {\n        return true\n      }\n\n      const [, selectedCellPath] = cellEntry\n      const matrix = filledMatrix(editor)\n      let tdIndex = -1\n\n      // 找到当前单元格在矩阵中的列索引\n      for (let x = 0; x < matrix.length; x += 1) {\n        for (let y = 0; y < matrix[x].length; y += 1) {\n          const [[, path]] = matrix[x][y]\n\n          if (Path.equals(selectedCellPath, path)) {\n            tdIndex = y\n            break\n          }\n        }\n        if (tdIndex !== -1) { break }\n      }\n\n      if (tdIndex === -1) {\n        return true\n      }\n\n      // 获取表格的列宽信息\n      const tableElement = tableNode as TableElement\n      const { columnWidths = [] } = tableElement\n\n      // 检查当前列的宽度 - 如果小于20px则禁用插入列功能\n      const currentColWidth = columnWidths[tdIndex]\n\n      if (currentColWidth && currentColWidth < 20) {\n        return true // 宽度限制：当前列宽度小于20px时禁用插入列功能\n      }\n\n    } catch (error) {\n      // 如果检查过程中出现错误，为安全起见禁用功能\n      return true\n    }\n\n    return false\n  }\n\n  exec(editor: IDomEditor, _value: string | boolean) {\n    if (this.isDisabled(editor)) { return }\n\n    const [cellEntry] = Editor.nodes(editor, {\n      match: n => DomEditor.checkNodeType(n, 'table-cell'),\n      universal: true,\n    })\n    const [selectedCellNode, selectedCellPath] = cellEntry\n\n    const rowNode = DomEditor.getParentNode(editor, selectedCellNode)\n\n    if (rowNode == null) { return }\n    const tableNode = DomEditor.getParentNode(editor, rowNode) as TableElement\n\n    if (tableNode == null) { return }\n\n    const matrix = filledMatrix(editor)\n    let tdIndex = 0\n\n    for (let x = 0; x < matrix.length; x += 1) {\n      for (let y = 0; y < matrix[x].length; y += 1) {\n        const [[, path]] = matrix[x][y]\n\n        if (Path.equals(selectedCellPath, path)) {\n          tdIndex = y\n          break\n        }\n      }\n    }\n\n    Editor.withoutNormalizing(editor, () => {\n      // 记录已处理的合并单元格和需要跳过插入的行\n      const processedMergedCells = new Set<string>()\n      const skipInsertForRows = new Set<number>()\n\n      // 遍历每一行的第 tdIndex 列，处理合并单元格\n      for (let x = 0; x < matrix.length; x += 1) {\n        // 安全检查：确保行和列都存在\n        if (!matrix[x] || !matrix[x][tdIndex]) {\n          continue\n        }\n\n        const [[,], {\n          rtl, ltr, ttb, btt,\n        }] = matrix[x][tdIndex]\n\n        // 判断是否是合并单元格\n        if (rtl > 1 || ltr > 1 || ttb > 1 || btt > 1) {\n          // 这是合并单元格的一部分\n          // 找到真实单元格的位置（左上角的位置）\n          // rtl表示从右到左的距离，所以真实单元格列 = 当前列 - (rtl - 1)\n          // ttb表示从上到下的距离，所以真实单元格行 = 当前行 - (ttb - 1)\n          const realCellRow = x - (ttb - 1)\n          const realCellCol = tdIndex - (rtl - 1)\n\n          // 安全检查：确保真实单元格位置存在\n          if (realCellRow < 0 || realCellRow >= matrix.length\n              || !matrix[realCellRow] || !matrix[realCellRow][realCellCol]) {\n            continue\n          }\n\n          const [[realCellElement, realCellPath]] = matrix[realCellRow][realCellCol]\n          const realCellPathKey = realCellPath.join(',')\n\n          // 避免重复处理同一个合并单元格\n          if (!processedMergedCells.has(realCellPathKey)) {\n            processedMergedCells.add(realCellPathKey)\n\n            const { rowSpan = 1, colSpan = 1 } = realCellElement\n            const newColSpan = colSpan + 1\n\n            // 更新真实单元格的 colSpan\n            if (!realCellElement.hidden) {\n              Transforms.setNodes<TableCellElement>(\n                editor,\n                {\n                  colSpan: newColSpan,\n                },\n                { at: realCellPath },\n              )\n            }\n\n            // 标记所有被这个合并单元格影响的行，这些行不需要插入新的单元格\n            // 从真实单元格的行开始，标记rowSpan行\n            for (let r = 0; r < rowSpan; r += 1) {\n              skipInsertForRows.add(realCellRow + r)\n            }\n          } else {\n            // 如果已经处理过这个合并单元格，当前行也不需要插入新单元格\n            skipInsertForRows.add(x)\n          }\n        }\n      }\n\n      // 遍历所有行，为需要插入的行添加新单元格\n      for (let x = 0; x < matrix.length; x += 1) {\n        // 如果这一行被合并单元格覆盖，则不插入新单元格\n        if (skipInsertForRows.has(x)) {\n          continue\n        }\n\n        // 安全检查：确保矩阵位置存在\n        if (!matrix[x] || !matrix[x][tdIndex]) {\n          continue\n        }\n\n        const newCell: TableCellElement = {\n          type: 'table-cell',\n          children: [{ text: '' }],\n        }\n\n        // 如果是第一行且表格有标题，设置为标题单元格\n        if (x === 0 && isTableWithHeader(tableNode)) {\n          newCell.isHeader = true\n        }\n\n        const [[, insertPath]] = matrix[x][tdIndex]\n\n        Transforms.insertNodes(editor, newCell, { at: insertPath })\n      }\n\n      // 调整 columnWidths\n      const [tableEntry] = Editor.nodes(editor, {\n        match: n => DomEditor.checkNodeType(n, 'table'),\n        universal: true,\n      })\n\n      if (tableEntry) {\n        const [elemNode, tablePath] = tableEntry\n        const { columnWidths = [] } = elemNode as TableElement\n        const adjustColumnWidths = [...columnWidths]\n\n        // 获取当前列的宽度，如果没有设置则使用默认宽度\n        const { minWidth = 60 } = editor.getMenuConfig('insertTable')\n        const currentColWidth = columnWidths[tdIndex] || parseInt(minWidth, 10) || 60\n\n        // 将当前列宽度一分为二\n        const halfWidth = Math.floor(currentColWidth / 2)\n        const remainingWidth = currentColWidth - halfWidth\n\n        // 在当前位置插入新列（左侧），使用一半宽度\n        adjustColumnWidths.splice(tdIndex, 0, halfWidth)\n        // 更新原列宽度为剩余的一半\n        adjustColumnWidths[tdIndex + 1] = remainingWidth\n\n        Transforms.setNodes(editor, { columnWidths: adjustColumnWidths } as TableElement, {\n          at: tablePath,\n        })\n      }\n    })\n  }\n}\n\nexport default InsertCol\n","'use strict';\nvar call = require('../internals/function-call');\nvar hasOwn = require('../internals/has-own-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar regExpFlagsDetection = require('../internals/regexp-flags-detection');\nvar regExpFlagsGetterImplementation = require('../internals/regexp-flags');\n\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = regExpFlagsDetection.correct ? function (it) {\n  return it.flags;\n} : function (it) {\n  return (!regExpFlagsDetection.correct && isPrototypeOf(RegExpPrototype, it) && !hasOwn(it, 'flags'))\n    ? call(regExpFlagsGetterImplementation, it)\n    : it.flags;\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar fails = require('../internals/fails');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 'd') -> /./d and it causes SyntaxError\nvar RegExp = globalThis.RegExp;\n\nvar FLAGS_GETTER_IS_CORRECT = !fails(function () {\n  var INDICES_SUPPORT = true;\n  try {\n    RegExp('.', 'd');\n  } catch (error) {\n    INDICES_SUPPORT = false;\n  }\n\n  var O = {};\n  // modern V8 bug\n  var calls = '';\n  var expected = INDICES_SUPPORT ? 'dgimsy' : 'gimsy';\n\n  var addGetter = function (key, chr) {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(O, key, { get: function () {\n      calls += chr;\n      return true;\n    } });\n  };\n\n  var pairs = {\n    dotAll: 's',\n    global: 'g',\n    ignoreCase: 'i',\n    multiline: 'm',\n    sticky: 'y'\n  };\n\n  if (INDICES_SUPPORT) pairs.hasIndices = 'd';\n\n  for (var key in pairs) addGetter(key, pairs[key]);\n\n  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n  var result = Object.getOwnPropertyDescriptor(RegExp.prototype, 'flags').get.call(O);\n\n  return result !== expected || calls !== expected;\n});\n\nmodule.exports = { correct: FLAGS_GETTER_IS_CORRECT };\n","'use strict';\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar defineBuiltIn = require('../internals/define-built-in');\nvar anObject = require('../internals/an-object');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) !== '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && nativeToString.name !== TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  defineBuiltIn(RegExpPrototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var pattern = $toString(R.source);\n    var flags = $toString(getRegExpFlags(R));\n    return '/' + pattern + '/' + flags;\n  }, { unsafe: true });\n}\n","/**\n * @description insert row menu\n * @author wangfupeng\n */\n\nimport {\n  DomEditor, IButtonMenu, IDomEditor, t,\n} from '@wangeditor-next/core'\nimport {\n  Editor, Path, Range, Transforms,\n} from 'slate'\n\nimport { ADD_ROW_SVG } from '../../constants/svg'\nimport { filledMatrix } from '../../utils'\nimport { TableCellElement, TableRowElement } from '../custom-types'\n\nclass InsertRow implements IButtonMenu {\n  readonly title = t('tableModule.insertRow')\n\n  readonly iconSvg = ADD_ROW_SVG\n\n  readonly tag = 'button'\n\n  getValue(_editor: IDomEditor): string | boolean {\n    // 无需获取 val\n    return ''\n  }\n\n  isActive(_editor: IDomEditor): boolean {\n    // 无需 active\n    return false\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    const { selection } = editor\n\n    if (selection == null) { return true }\n    if (!Range.isCollapsed(selection)) { return true }\n\n    const tableNode = DomEditor.getSelectedNodeByType(editor, 'table')\n\n    if (tableNode == null) {\n      // 选区未处于 table cell node ，则禁用\n      return true\n    }\n    return false\n  }\n\n  exec(editor: IDomEditor, _value: string | boolean) {\n    if (this.isDisabled(editor)) { return }\n\n    const [cellEntry] = Editor.nodes(editor, {\n      match: n => DomEditor.checkNodeType(n, 'table-cell'),\n      universal: true,\n    })\n    const [, cellPath] = cellEntry\n\n    const matrix = filledMatrix(editor)\n    // 向下插入行为，先找到\n    // 当前选区所在的 tr 索引\n    let trIndex = 0\n    /* eslint-disable no-labels */\n\n    outer: for (let x = 0; x < matrix.length; x += 1) {\n      for (let y = 0; y < matrix[x].length; y += 1) {\n        const [[, path]] = matrix[x][y]\n\n        if (!Path.equals(cellPath, path)) {\n          continue\n        }\n        trIndex = x\n        // eslint-disable-next-line no-labels\n        break outer\n      }\n    }\n\n    // 获取表格的真实列数（使用matrix的列数，而不是当前行的physical cell数量）\n    const cellsLength = matrix[trIndex]?.length || 0\n\n    if (cellsLength === 0) { return }\n\n    Editor.withoutNormalizing(editor, () => {\n      // 向下添加 tr 索引\n      const destIndex = trIndex + 1\n      const isWithinBounds = destIndex >= 0 && destIndex < matrix.length\n      const exitMerge: number[] = []\n\n      for (let y = 0; isWithinBounds && y < matrix[trIndex].length; y += 1) {\n        const [, { ttb, btt }] = matrix[trIndex][y]\n\n        // 向上找到 1 元素为止\n        if (ttb > 1 || btt > 1) {\n          const originalRowIndex = trIndex - (ttb - 1)\n\n          // 安全检查：确保目标行和列都存在\n          if (originalRowIndex < 0 || originalRowIndex >= matrix.length || !matrix[originalRowIndex] || !matrix[originalRowIndex][y]) {\n            continue\n          }\n\n          const [[element, path]] = matrix[originalRowIndex][y]\n          const rowSpan = element.rowSpan || 1\n\n          exitMerge.push(y)\n          if (!element.hidden) {\n            Transforms.setNodes<TableCellElement>(\n              editor,\n              {\n                rowSpan: rowSpan + 1,\n              },\n              { at: path },\n            )\n          }\n        }\n      }\n\n      // 拼接新的 row\n      const { minRowHeight = 30 } = editor.getMenuConfig('insertTable') || {}\n      const defaultRowHeight = parseInt(minRowHeight.toString(), 10) || 30\n      const newRow: TableRowElement = { type: 'table-row', children: [], height: defaultRowHeight }\n\n      // 只为不被合并单元格覆盖的位置创建td元素\n      for (let i = 0; i < cellsLength; i += 1) {\n        // 如果当前位置被合并单元格覆盖，则跳过（不创建td）\n        if (exitMerge.includes(i)) {\n          continue\n        }\n\n        const cell: TableCellElement = {\n          type: 'table-cell',\n          children: [{ text: '' }],\n        }\n\n        newRow.children.push(cell)\n      }\n\n      // 插入 row\n      const rowPath = Path.parent(cellPath) // 获取 tr 的 path\n      const newRowPath = Path.next(rowPath)\n\n      Transforms.insertNodes(editor, newRow, { at: newRowPath })\n\n      // 新插入的行已经在创建时设置了高度属性，无需额外操作\n    })\n  }\n}\n\nexport default InsertRow\n","'use strict';\nvar $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = lengthOfArrayLike(O);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","/**\n * @description insert table menu\n * @author wangfupeng\n */\n\nimport {\n  DomEditor, IDomEditor, IDropPanelMenu, t,\n} from '@wangeditor-next/core'\nimport {\n  Range, Transforms,\n} from 'slate'\n\nimport { TABLE_SVG } from '../../constants/svg'\nimport $, { Dom7Array, DOMElement } from '../../utils/dom'\nimport { TableCellElement, TableElement, TableRowElement } from '../custom-types'\n\nfunction genTableNode(editor: IDomEditor, rowNum: number, colNum: number): TableElement {\n  // 拼接 rows\n  const rows: TableRowElement[] = []\n  const {\n    minWidth = 60, minRowHeight = 30, tableFullWidth, tableHeader,\n  } = editor.getMenuConfig('insertTable')\n  const columnWidths: number[] = Array(colNum).fill(parseInt(minWidth, 10) || 60)\n\n  for (let i = 0; i < rowNum; i += 1) {\n    // 拼接 cells\n    const cells: TableCellElement[] = []\n\n    for (let j = 0; j < colNum; j += 1) {\n      const cellNode: TableCellElement = {\n        type: 'table-cell',\n        children: [{ text: '' }],\n      }\n\n      if (i === 0) {\n        cellNode.isHeader = tableHeader?.selected ?? true // 第一行默认是 th\n      }\n      cells.push(cellNode)\n    }\n\n    // 生成 row\n    rows.push({\n      type: 'table-row',\n      children: cells,\n      height: parseInt(minRowHeight, 10) || 30,\n    })\n  }\n\n  return {\n    type: 'table',\n    width: tableFullWidth?.selected ? '100%' : 'auto',\n    children: rows,\n    columnWidths,\n  }\n}\n\nclass InsertTable implements IDropPanelMenu {\n  title = t('tableModule.insertTable')\n\n  iconSvg = TABLE_SVG\n\n  tag = 'button'\n\n  showDropPanel = true // 点击 button 时显示 dropPanel\n\n  private $content: Dom7Array | null = null\n\n  getValue(_editor: IDomEditor): string | boolean {\n    // 插入菜单，不需要 value\n    return ''\n  }\n\n  isActive(_editor: IDomEditor): boolean {\n    // 任何时候，都不用激活 menu\n    return false\n  }\n\n  exec(_editor: IDomEditor, _value: string | boolean) {\n    // 点击菜单时，弹出 modal 之前，不需要执行其他代码\n    // 此处空着即可\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    const { selection } = editor\n\n    if (selection == null) { return true }\n    if (!Range.isCollapsed(selection)) { return true } // 选区非折叠，禁用\n\n    const selectedElems = DomEditor.getSelectedElems(editor)\n    const hasVoidOrPreOrTable = selectedElems.some(elem => {\n      const type = DomEditor.getNodeType(elem)\n\n      if (type === 'pre') { return true }\n      if (type === 'table') { return true }\n      if (type === 'list-item') { return true }\n      if (editor.isVoid(elem)) { return true }\n      return false\n    })\n\n    if (hasVoidOrPreOrTable) { return true } // 匹配到，禁用\n\n    return false\n  }\n\n  /**\n   *  获取 panel 内容\n   * @param editor editor\n   */\n  getPanelContentElem(editor: IDomEditor): DOMElement {\n    // 已有，直接返回\n    if (this.$content) { return this.$content[0] }\n\n    // 初始化\n    const $content = $('<div class=\"w-e-panel-content-table\"></div>')\n    const $info = $('<span>0 &times; 0</span>') // 显示行列数量\n\n    // 渲染 10 * 10 table ，以快速创建表格\n    const $table = $('<table></table>')\n\n    for (let i = 0; i < 10; i += 1) {\n      const $tr = $('<tr></tr>')\n\n      for (let j = 0; j < 10; j += 1) {\n        const $td = $('<td></td>')\n\n        $td.attr('data-x', j.toString())\n        $td.attr('data-y', i.toString())\n        $tr.append($td)\n\n        // 绑定 mouseenter\n        $td.on('mouseenter', (e: Event) => {\n          const { target } = e\n\n          if (target == null) { return }\n          const $focusTd = $(target)\n          const { x: focusX, y: focusY } = $focusTd.dataset()\n\n          // 显示行列数量\n          $info[0].innerHTML = `${focusX + 1} &times; ${focusY + 1}`\n\n          // 修改 table td 样式\n          $table.children().each(tr => {\n            $(tr)\n              .children()\n              .each(td => {\n                const $newTd = $(td)\n                const { x, y } = $newTd.dataset()\n\n                if (x <= focusX && y <= focusY) {\n                  $newTd.addClass('active')\n                } else {\n                  $newTd.removeClass('active')\n                }\n              })\n          })\n        })\n\n        // 绑定 click\n        $td.on('click', (e: Event) => {\n          e.preventDefault()\n          const { target } = e\n\n          if (target == null) { return }\n          // eslint-disable-next-line @typescript-eslint/no-shadow\n          const $td = $(target)\n          const { x, y } = $td.dataset()\n\n          this.insertTable(editor, y + 1, x + 1)\n        })\n      }\n      $table.append($tr)\n    }\n    $content.append($table)\n    $content.append($info)\n\n    // 记录，并返回\n    this.$content = $content\n    return $content[0]\n  }\n\n  private insertTable(editor: IDomEditor, rowNumStr: string, colNumStr: string) {\n    const rowNum = parseInt(rowNumStr, 10)\n    const colNum = parseInt(colNumStr, 10)\n\n    if (!rowNum || !colNum) { return }\n    if (rowNum <= 0 || colNum <= 0) { return }\n\n    // 如果当前是空 p ，则删除该 p\n    if (DomEditor.isSelectedEmptyParagraph(editor)) {\n      Transforms.removeNodes(editor, { mode: 'highest' })\n    }\n\n    if (editor.children.length === 0) {\n      // table 作为第一个 children 时会导致无法正常删除\n      // 在当前位置插入空行，当前元素下移\n      const newElem = { type: 'paragraph', children: [{ text: '' }] }\n\n      Transforms.insertNodes(editor, newElem, { mode: 'highest' })\n    }\n    // 插入表格\n    const tableNode = genTableNode(editor, rowNum, colNum)\n\n    Transforms.insertNodes(editor, tableNode, { mode: 'highest' })\n  }\n}\n\nexport default InsertTable\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.es/ecma262/#sec-map-objects\ncollection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","import {\n  Editor,\n  Element,\n  Location,\n  NodeEntry,\n} from 'slate'\n\nimport { isOfType } from '../utils'\nimport { EDITOR_TO_SELECTION, EDITOR_TO_SELECTION_SET } from './weak-maps'\n\nexport const TableCursor = {\n  /** @returns {boolean} `true` if the selection is inside a table, otherwise `false`. */\n  isInTable(editor: Editor, options: { at?: Location } = {}): boolean {\n    const [table] = Editor.nodes(editor, {\n      match: isOfType(editor, 'table'),\n      at: options.at,\n    })\n\n    return !!table\n  },\n  /**\n   * Retrieves a matrix representing the selected cells within a table.\n   * @returns {NodeEntry<T>[][]} A matrix containing the selected cells.\n   */\n  * selection(editor: Editor): Generator<NodeEntry[]> {\n    const matrix = EDITOR_TO_SELECTION.get(editor)\n\n    for (let x = 0; matrix && x < matrix.length; x += 1) {\n      const cells: NodeEntry[] = []\n\n      for (let y = 0; y < matrix[x].length; y += 1) {\n        const [entry, { ltr: colSpan, ttb }] = matrix[x][y]\n\n        if (ttb === 1) { cells.push(entry) }\n\n        y += colSpan - 1\n      }\n\n      yield cells\n    }\n  },\n  /** Clears the selection from the table */\n  unselect(editor: Editor): void {\n    // const matrix = EDITOR_TO_SELECTION.get(editor);\n\n    // if (!matrix?.length) {\n    //   return;\n    // }\n\n    // for (let x = 0; x < matrix.length; x+=1) {\n    //   for (let y = 0; y < matrix[x].length; y+=1) {\n    //     const [[, path], { ltr: colSpan, ttb }] = matrix[x][y];\n    //     y += colSpan - 1;\n\n    //     if (ttb > 1) {\n    //       continue;\n    //     }\n\n    //     // no-op since the paths are the same\n    //     const noop: Operation = {\n    //       type: \"move_node\",\n    //       newPath: path,\n    //       path: path,\n    //     };\n    //     Transforms.transform(editor, noop);\n    //   }\n    // }\n\n    EDITOR_TO_SELECTION_SET.delete(editor)\n    EDITOR_TO_SELECTION.delete(editor)\n    // 清除选区\n    // document.getSelection()?.removeAllRanges()\n  },\n  /**\n   * Checks whether a given cell is part of the current table selection.\n   * @returns {boolean} - Returns true if the cell is selected, otherwise false.\n   */\n  isSelected<T extends Element>(editor: Editor, element: T): boolean {\n    const selectedElements = EDITOR_TO_SELECTION_SET.get(editor)\n\n    if (!selectedElements) {\n      return false\n    }\n\n    return selectedElements.has(element)\n  },\n}\n","import { IButtonMenu, IDomEditor, t } from '@wangeditor-next/core'\nimport {\n  Editor, Node, Path, Transforms,\n} from 'slate'\n\nimport { MERGE_CELL_SVG } from '../../constants/svg'\nimport {\n  CellElement, hasCommon,\n} from '../../utils'\nimport { TableCursor } from '../table-cursor'\nimport { EDITOR_TO_SELECTION } from '../weak-maps'\n\nclass MergeCell implements IButtonMenu {\n  readonly title = t('tableModule.mergeCell')\n\n  readonly iconSvg = MERGE_CELL_SVG\n\n  readonly tag = 'button'\n\n  getValue(_editor: IDomEditor): string | boolean {\n    // 无需获取 val\n    return ''\n  }\n\n  isActive(_editor: IDomEditor): boolean {\n    // 无需 active\n    return false\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    return !this.canMerge(editor)\n  }\n\n  exec(editor: IDomEditor, _value: string | boolean) {\n    if (this.isDisabled(editor)) { return }\n\n    this.merge(editor)\n    // 释放选区\n    TableCursor.unselect(editor)\n  }\n\n  /**\n   * Checks if the current selection can be merged. Merging is not possible when any of the following conditions are met:\n   * - The selection is empty.\n   * - The selection is not within the same \"thead\", \"tbody,\" or \"tfoot\" section.\n   * @returns {boolean} `true` if the selection can be merged, otherwise `false`.\n   */\n  canMerge(editor: Editor): boolean {\n    const matrix = EDITOR_TO_SELECTION.get(editor)\n\n    // cannot merge when selection is empty\n    if (!matrix || !matrix.length) {\n      return false\n    }\n\n    // prettier-ignore\n    const [[, lastPath]] = matrix[matrix.length - 1][matrix[matrix.length - 1].length - 1]\n    const [[, firstPath]] = matrix[0][0]\n\n    // cannot merge when selection is not in common section\n    if (!hasCommon(editor, [firstPath, lastPath], 'table')) {\n      return false\n    }\n\n    return true\n  }\n\n  /**\n   * Merges the selected cells in the table.\n   * @returns void\n   */\n  merge(editor: Editor): void {\n    if (!this.canMerge(editor)) {\n      return\n    }\n\n    const selection = EDITOR_TO_SELECTION.get(editor)\n\n    if (!selection || !selection.length) {\n      return\n    }\n\n    const [[, basePath]] = selection[0][0]\n    const [[, lastPath]] = Node.children(editor, basePath, { reverse: true })\n\n    Editor.withoutNormalizing(editor, () => {\n      // 收集所有真实的单元格（避免重复计算虚拟位置）\n      const realCells = new Map<string, { path: Path; x: number; y: number; element: CellElement }>()\n      const cellsToDelete: Path[] = []\n\n      // 计算实际的边界范围（考虑单元格的实际跨度）\n      let minRow = Infinity\n      let maxRow = -Infinity\n      let minCol = Infinity\n      let maxCol = -Infinity\n\n      // 第一阶段：收集所有真实单元格并计算其实际占用的范围\n      for (let x = 0; x < selection.length; x += 1) {\n        for (let y = 0; y < selection[x].length; y += 1) {\n          const [[element, path], { ttb }] = selection[x][y]\n          const pathKey = path.join(',')\n\n          // 只处理真实单元格（ttb === 1 表示单元格的实际位置，不是虚拟扩展）\n          if (ttb === 1 && !realCells.has(pathKey)) {\n            realCells.set(pathKey, {\n              path, x, y, element,\n            })\n\n            // 获取当前单元格的跨度\n            const { rowSpan = 1, colSpan = 1 } = element\n\n            // 计算该单元格实际占用的范围\n            const cellMinRow = x\n            const cellMaxRow = x + rowSpan - 1\n            const cellMinCol = y\n            const cellMaxCol = y + colSpan - 1\n\n            // 更新整体边界\n            minRow = Math.min(minRow, cellMinRow)\n            maxRow = Math.max(maxRow, cellMaxRow)\n            minCol = Math.min(minCol, cellMinCol)\n            maxCol = Math.max(maxCol, cellMaxCol)\n          }\n        }\n      }\n\n      // 计算正确的rowSpan和colSpan（基于实际占用的行列范围）\n      const finalRowSpan = maxRow - minRow + 1\n      const finalColSpan = maxCol - minCol + 1\n\n      // 第二阶段：确定要删除的单元格\n      for (const [, { path }] of realCells) {\n        // 跳过基础单元格（第一个单元格作为合并后的目标）\n        if (Path.equals(basePath, path)) {\n          continue\n        }\n\n        cellsToDelete.push(path)\n      }\n\n      // 第三阶段：按路径降序排序并删除单元格\n      cellsToDelete.sort((a, b) => {\n        for (let i = 0; i < Math.min(a.length, b.length); i += 1) {\n          if (a[i] !== b[i]) {\n            return b[i] - a[i] // 降序\n          }\n        }\n        return b.length - a.length\n      })\n\n      // 删除单元格并移动内容\n      for (const path of cellsToDelete) {\n        try {\n          // 检查节点是否仍然存在\n          if (!Editor.hasPath(editor, path)) {\n            continue\n          }\n\n          // 移动单元格内容到基础单元格\n          for (const [, childPath] of Node.children(editor, path, { reverse: true })) {\n            Transforms.moveNodes(editor, {\n              to: Path.next(lastPath),\n              at: childPath,\n            })\n          }\n\n          // 删除单元格\n          Transforms.removeNodes(editor, { at: path })\n        } catch (error) {\n          // 静默处理删除失败的情况\n        }\n      }\n\n      // 为基础单元格设置正确的rowSpan和colSpan属性\n      Transforms.setNodes<CellElement>(editor, { rowSpan: finalRowSpan, colSpan: finalColSpan }, { at: basePath })\n    })\n  }\n}\n\nexport default MergeCell\n","'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar nativeSlice = require('../internals/array-slice');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar $Array = Array;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = lengthOfArrayLike(O);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (isConstructor(Constructor) && (Constructor === $Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === $Array || Constructor === undefined) {\n        return nativeSlice(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? $Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar call = require('../internals/function-call');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegExp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) !== 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () {\n      execCalled = true;\n      return null;\n    };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: call(nativeRegExpMethod, regexp, str, arg2) };\n        }\n        return { done: true, value: call(nativeMethod, str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    defineBuiltIn(String.prototype, KEY, methods[0]);\n    defineBuiltIn(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar isConstructor = require('../internals/is-constructor');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsConstructor(argument) is true`\nmodule.exports = function (argument) {\n  if (isConstructor(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a constructor');\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\nvar aConstructor = require('../internals/a-constructor');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || isNullOrUndefined(S = anObject(C)[SPECIES]) ? defaultConstructor : aConstructor(S);\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof-raw');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar $TypeError = TypeError;\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (isCallable(exec)) {\n    var result = call(exec, R, S);\n    if (result !== null) anObject(result);\n    return result;\n  }\n  if (classof(R) === 'RegExp') return call(regexpExec, R, S);\n  throw new $TypeError('RegExp#exec called on incompatible receiver');\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar getMethod = require('../internals/get-method');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar fails = require('../internals/fails');\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\nvar MAX_UINT32 = 0xFFFFFFFF;\nvar min = Math.min;\nvar push = uncurryThis([].push);\nvar stringSlice = uncurryThis(''.slice);\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nvar BUGGY = 'abbc'.split(/(b)*/)[1] === 'c' ||\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  'test'.split(/(?:)/, -1).length !== 4 ||\n  'ab'.split(/(?:ab)*/).length !== 2 ||\n  '.'.split(/(.?)(.?)/).length !== 4 ||\n  // eslint-disable-next-line regexp/no-empty-capturing-group, regexp/no-empty-group -- required for testing\n  '.'.split(/()()/).length > 1 ||\n  ''.split(/.?/).length;\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit = '0'.split(undefined, 0).length ? function (separator, limit) {\n    return separator === undefined && limit === 0 ? [] : call(nativeSplit, this, separator, limit);\n  } : nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = isObject(separator) ? getMethod(separator, SPLIT) : undefined;\n      return splitter\n        ? call(splitter, separator, O, limit)\n        : call(internalSplit, toString(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (string, limit) {\n      var rx = anObject(this);\n      var S = toString(string);\n\n      if (!BUGGY) {\n        var res = maybeCallNative(internalSplit, rx, S, limit, internalSplit !== nativeSplit);\n        if (res.done) return res.value;\n      }\n\n      var C = speciesConstructor(rx, RegExp);\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (UNSUPPORTED_Y ? 'g' : 'y');\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(UNSUPPORTED_Y ? '^(?:' + rx.source + ')' : rx, flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return regExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = UNSUPPORTED_Y ? 0 : q;\n        var z = regExpExec(splitter, UNSUPPORTED_Y ? stringSlice(S, q) : S);\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (UNSUPPORTED_Y ? q : 0)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          push(A, stringSlice(S, p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            push(A, z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      push(A, stringSlice(S, p));\n      return A;\n    }\n  ];\n}, BUGGY || !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC, UNSUPPORTED_Y);\n","import {\n  DomEditor, IButtonMenu, IDomEditor, t,\n} from '@wangeditor-next/core'\nimport { Editor, Path, Transforms } from 'slate'\n\nimport { SPLIT_CELL_SVG } from '../../constants/svg'\nimport { CellElement, isOfType } from '../../utils'\nimport { TableCellElement, TableElement } from '../custom-types'\nimport { isTableWithHeader } from '../helpers'\n// import { DEFAULT_WITH_TABLE_OPTIONS } from \"../../utils/options\";\n\nclass SplitCell implements IButtonMenu {\n  readonly title = t('tableModule.splitCell')\n\n  readonly iconSvg = SPLIT_CELL_SVG\n\n  readonly tag = 'button'\n\n  getValue(_editor: IDomEditor): string | boolean {\n    // 无需获取 val\n    return ''\n  }\n\n  isActive(_editor: IDomEditor): boolean {\n    // 无需 active\n    return false\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    // 查找当前选中的单元格，支持td和th两种类型\n    const [cell] = Editor.nodes(editor, {\n      match: n => {\n        return DomEditor.checkNodeType(n, 'table-cell')\n      },\n    })\n\n    if (!cell) {\n      return true // 如果没有找到单元格，则禁用拆分功能\n    }\n\n    const [{ rowSpan = 1, colSpan = 1 }] = cell as CellElement[]\n\n    // 只有当rowSpan或colSpan大于1时才能拆分\n    if (rowSpan > 1 || colSpan > 1) {\n      return false\n    }\n\n    return true\n  }\n\n  exec(editor: IDomEditor, _value: string | boolean) {\n    if (this.isDisabled(editor)) { return }\n\n    this.split(editor)\n  }\n\n  /**\n   * Splits either the cell at the current selection or a specified location. If a range\n   * selection is present, all cells within the range will be split.\n   * @param {Location} [options.at] - Splits the cell at the specified location. If no\n   * location is specified it will split the cell at the current selection\n   * @param {boolean} [options.all] - If true, splits all cells in the table\n   * @returns void\n   */\n  split(editor: Editor, options: { at?: Location; all?: boolean } = {}): void {\n    const [table, td] = Editor.nodes(editor, {\n      match: isOfType(editor, 'table', 'th', 'td'),\n      // @ts-ignore\n      at: options.at,\n    })\n\n    if (!table || !td) {\n      return\n    }\n\n    const [tableNode] = table as [TableElement, Path]\n    const hasHeader = isTableWithHeader(tableNode)\n\n    // 获取当前选中的单元格\n    const [selectedCell, selectedCellPath] = td as [CellElement, Path]\n    const { rowSpan = 1, colSpan = 1 } = selectedCell\n\n    // 如果单元格未合并，无需拆分\n    if (rowSpan === 1 && colSpan === 1) {\n      return\n    }\n\n    Editor.withoutNormalizing(editor, () => {\n      // 1. 重置当前单元格的rowSpan和colSpan\n      Transforms.setNodes<CellElement>(editor, { rowSpan: 1, colSpan: 1 }, { at: selectedCellPath })\n\n      // 2. 处理同行的其他列（colSpan > 1的情况）\n      // 在当前单元格后面插入 colSpan-1 个新单元格\n      for (let c = 1; c < colSpan; c += 1) {\n        const newCell: TableCellElement = {\n          type: 'table-cell',\n          children: [{ text: '' }],\n        }\n\n        // 如果在第一行且表格有表头，设置isHeader\n        const currentRowIndex = selectedCellPath[selectedCellPath.length - 2]\n\n        if (currentRowIndex === 0 && hasHeader) {\n          newCell.isHeader = true\n        }\n\n        // 在当前行的当前位置之后插入\n        const currentRowPath = selectedCellPath.slice(0, -1)\n        const insertIndex = selectedCellPath[selectedCellPath.length - 1] + c\n        const insertPath = [...currentRowPath, insertIndex]\n\n        try {\n          Transforms.insertNodes(editor, newCell, { at: insertPath })\n        } catch (error) {\n          // 如果指定位置插入失败，在行末尾插入\n          try {\n            const [currentRow] = Editor.node(editor, currentRowPath)\n            const cellsCount = (currentRow as any).children.length\n            const fallbackPath = [...currentRowPath, cellsCount]\n\n            Transforms.insertNodes(editor, newCell, { at: fallbackPath })\n          } catch (fallbackError) {\n            console.warn(`插入同行单元格失败: ${fallbackError instanceof Error ? fallbackError.message : String(fallbackError)}`)\n          }\n        }\n      }\n\n      // 3. 处理其他行（rowSpan > 1的情况）\n      // 在下面的每一行都插入相应数量的单元格\n      for (let r = 1; r < rowSpan; r += 1) {\n        // 计算目标行路径\n        const targetRowIndex = selectedCellPath[selectedCellPath.length - 2] + r\n        const targetRowPath = [...selectedCellPath.slice(0, -2), targetRowIndex]\n\n        try {\n          // 检查目标行是否存在\n          const [targetRow] = Editor.node(editor, targetRowPath)\n\n          if (!targetRow) {\n            console.warn(`目标行 ${targetRowIndex} 不存在`)\n            continue\n          }\n\n          // 在目标行中插入colSpan个新单元格\n          for (let c = 0; c < colSpan; c += 1) {\n            const newCell: TableCellElement = {\n              type: 'table-cell',\n              children: [{ text: '' }],\n            }\n\n            // 计算插入位置\n            const originalColumnIndex = selectedCellPath[selectedCellPath.length - 1]\n            const insertIndex = originalColumnIndex + c\n            const insertPath = [...targetRowPath, insertIndex]\n\n            try {\n              // 获取目标行当前的单元格数量\n              const currentCellsCount = (targetRow as any).children.length\n\n              // 如果插入位置超出当前行的范围，在行末尾插入\n              if (insertIndex >= currentCellsCount) {\n                const endPath = [...targetRowPath, currentCellsCount]\n\n                Transforms.insertNodes(editor, newCell, { at: endPath })\n              } else {\n                Transforms.insertNodes(editor, newCell, { at: insertPath })\n              }\n            } catch (insertError) {\n              // 最后的备用方案：在行末尾插入\n              try {\n                const updatedCellsCount = (targetRow as any).children.length\n                const fallbackPath = [...targetRowPath, updatedCellsCount]\n\n                Transforms.insertNodes(editor, newCell, { at: fallbackPath })\n              } catch (finalError) {\n                console.warn(`插入单元格到第${r}行失败: ${finalError instanceof Error ? finalError.message : String(finalError)}`)\n              }\n            }\n          }\n        } catch (rowError) {\n          console.warn(`处理第${r}行时出错: ${rowError instanceof Error ? rowError.message : String(rowError)}`)\n        }\n      }\n    })\n  }\n}\n\nexport default SplitCell\n","/**\n * @description table header menu\n * @author wangfupeng\n */\n\nimport {\n  DomEditor, IButtonMenu, IDomEditor, t,\n} from '@wangeditor-next/core'\nimport { Range, Transforms } from 'slate'\n\nimport { TABLE_HEADER_SVG } from '../../constants/svg'\nimport { TableElement } from '../custom-types'\nimport { getFirstRowCells, isTableWithHeader } from '../helpers'\n\nclass TableHeader implements IButtonMenu {\n  readonly title = t('tableModule.header')\n\n  readonly iconSvg = TABLE_HEADER_SVG\n\n  readonly tag = 'button'\n\n  // 是否已设置表头\n  getValue(editor: IDomEditor): string | boolean {\n    const tableNode = DomEditor.getSelectedNodeByType(editor, 'table') as TableElement\n\n    if (tableNode == null) { return false }\n\n    return isTableWithHeader(tableNode)\n  }\n\n  isActive(editor: IDomEditor): boolean {\n    return !!this.getValue(editor)\n  }\n\n  isDisabled(editor: IDomEditor): boolean {\n    const { selection } = editor\n\n    if (selection == null) { return true }\n    if (!Range.isCollapsed(selection)) { return true }\n\n    const tableNode = DomEditor.getSelectedNodeByType(editor, 'table')\n\n    if (tableNode == null) {\n      // 选区未处于 table node ，则禁用\n      return true\n    }\n    return false\n  }\n\n  exec(editor: IDomEditor, value: string | boolean) {\n    if (this.isDisabled(editor)) { return }\n\n    // 已经设置了表头，则取消。未设置表头，则设置\n    const newValue = !value\n\n    // 获取第一行所有 cell\n    const tableNode = DomEditor.getSelectedNodeByType(editor, 'table') as TableElement\n\n    if (tableNode == null) { return }\n    const firstRowCells = getFirstRowCells(tableNode)\n\n    // 设置 isHeader 属性\n    firstRowCells.forEach(cell => Transforms.setNodes(\n      editor,\n      { isHeader: newValue },\n      {\n        at: DomEditor.findPath(editor, cell),\n      },\n    ))\n  }\n}\n\nexport default TableHeader\n","/**\n * @description table menu\n * @author wangfupeng\n */\n\nimport CellProperty from './CellProperty'\nimport DeleteCol from './DeleteCol'\nimport DeleteRow from './DeleteRow'\nimport DeleteTable from './DeleteTable'\nimport FullWidth from './FullWidth'\nimport InsertCol from './InsertCol'\nimport InsertRow from './InsertRow'\nimport InsertTable from './InsertTable'\nimport MergeCell from './MergeCell'\nimport SplitCell from './SplitCell'\nimport TableHander from './TableHeader'\nimport TableProperty from './TableProperty'\n\nexport const insertTableMenuConf = {\n  key: 'insertTable',\n  factory() {\n    return new InsertTable()\n  },\n}\n\nexport const deleteTableMenuConf = {\n  key: 'deleteTable',\n  factory() {\n    return new DeleteTable()\n  },\n}\n\nexport const insertTableRowConf = {\n  key: 'insertTableRow',\n  factory() {\n    return new InsertRow()\n  },\n}\n\nexport const deleteTableRowConf = {\n  key: 'deleteTableRow',\n  factory() {\n    return new DeleteRow()\n  },\n}\n\nexport const insertTableColConf = {\n  key: 'insertTableCol',\n  factory() {\n    return new InsertCol()\n  },\n}\n\nexport const deleteTableColConf = {\n  key: 'deleteTableCol',\n  factory() {\n    return new DeleteCol()\n  },\n}\n\nexport const tableHeaderMenuConf = {\n  key: 'tableHeader',\n  factory() {\n    return new TableHander()\n  },\n}\n\nexport const tableFullWidthMenuConf = {\n  key: 'tableFullWidth',\n  factory() {\n    return new FullWidth()\n  },\n}\n\n/** Meger / Split conf */\nexport const mergeTableCellConf = {\n  key: 'mergeTableCell',\n  factory() {\n    return new MergeCell()\n  },\n}\n\nexport const splitTableCellConf = {\n  key: 'splitTableCell',\n  factory() {\n    return new SplitCell()\n  },\n}\n\n/** set property conf */\nexport const setTablePropertyConf = {\n  key: 'setTableProperty',\n  factory() {\n    return new TableProperty()\n  },\n}\n\nexport const setTableCellPropertyConf = {\n  key: 'setTableCellProperty',\n  factory() {\n    return new CellProperty()\n  },\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar charAt = uncurryThis(''.charAt);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n// eslint-disable-next-line redos/no-vulnerable -- safe\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (charAt(ch, 0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return stringSlice(str, 0, position);\n      case \"'\": return stringSlice(str, tailPos);\n      case '<':\n        capture = namedCaptures[stringSlice(ch, 1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","'use strict';\nvar apply = require('../internals/function-apply');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getMethod = require('../internals/get-method');\nvar getSubstitution = require('../internals/get-substitution');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\nvar concat = uncurryThis([].concat);\nvar push = uncurryThis([].push);\nvar stringIndexOf = uncurryThis(''.indexOf);\nvar stringSlice = uncurryThis(''.slice);\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = isObject(searchValue) ? getMethod(searchValue, REPLACE) : undefined;\n      return replacer\n        ? call(replacer, searchValue, O, replaceValue)\n        : call(nativeReplace, toString(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      var rx = anObject(this);\n      var S = toString(string);\n\n      if (\n        typeof replaceValue == 'string' &&\n        stringIndexOf(replaceValue, UNSAFE_SUBSTITUTE) === -1 &&\n        stringIndexOf(replaceValue, '$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var functionalReplace = isCallable(replaceValue);\n      if (!functionalReplace) replaceValue = toString(replaceValue);\n\n      var flags = toString(getRegExpFlags(rx));\n      var global = stringIndexOf(flags, 'g') !== -1;\n      var fullUnicode;\n      if (global) {\n        fullUnicode = stringIndexOf(flags, 'u') !== -1;\n        rx.lastIndex = 0;\n      }\n\n      var results = [];\n      var result;\n      while (true) {\n        result = regExpExec(rx, S);\n        if (result === null) break;\n\n        push(results, result);\n        if (!global) break;\n\n        var matchStr = toString(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = toString(result[0]);\n        var position = max(min(toIntegerOrInfinity(result.index), S.length), 0);\n        var captures = [];\n        var replacement;\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) push(captures, maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = concat([matched], captures, position, S);\n          if (namedCaptures !== undefined) push(replacerArgs, namedCaptures);\n          replacement = toString(apply(replaceValue, undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += stringSlice(S, nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n\n      return accumulatedResult + stringSlice(S, nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es/no-function-prototype-bind, es/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","/**\n * @description parse html\n * @author wangfupeng\n */\n\nimport { DomEditor, IDomEditor } from '@wangeditor-next/core'\nimport { Descendant, Text } from 'slate'\n\nimport $, { DOMElement, getStyleValue, getTagName } from '../utils/dom'\nimport { TableCellElement, TableElement, TableRowElement } from './custom-types'\n\nfunction parseCellHtml(\n  elem: DOMElement,\n  children: Descendant[],\n  editor: IDomEditor,\n): TableCellElement {\n  const $elem = $(elem)\n\n  children = children.filter(child => {\n    if (DomEditor.getNodeType(child) === 'paragraph') { return true }\n    if (Text.isText(child)) { return true }\n    if (editor.isInline(child)) { return true }\n    return false\n  })\n\n  // 无 children ，则用纯文本\n  if (children.length === 0) {\n    children = [{ text: $elem.text().replace(/\\s+/gm, ' ') }]\n  }\n\n  const colSpan = parseInt($elem.attr('colSpan') || '1', 10)\n  const rowSpan = parseInt($elem.attr('rowSpan') || '1', 10)\n  const hidden = getStyleValue($elem, 'display') === 'none'\n  const width = $elem.attr('width') || 'auto'\n\n  return {\n    type: 'table-cell',\n    isHeader: getTagName($elem) === 'th',\n    colSpan,\n    rowSpan,\n    width,\n    // @ts-ignore\n    children,\n    hidden,\n  }\n}\n\nexport const parseCellHtmlConf = {\n  selector: 'td:not([data-w-e-type]),th:not([data-w-e-type])', // data-w-e-type 属性，留给自定义元素，保证扩展性\n  parseElemHtml: parseCellHtml,\n}\n\nfunction parseRowHtml(\n  elem: DOMElement,\n  children: Descendant[],\n  _editor: IDomEditor,\n): TableRowElement {\n  const $elem = $(elem)\n  const tableCellChildren: TableCellElement[] = []\n\n  for (let i = 0; i < children.length; i += 1) {\n    const child = children[i]\n\n    // 确保是 table-cell 类型\n    if (DomEditor.getNodeType(child) === 'table-cell') {\n      const tableCell = child as TableCellElement\n\n      // 如果是隐藏的单元格，则跳过（删除）\n      if (tableCell.hidden) {\n        continue\n      }\n\n      tableCellChildren.push(tableCell) // 只添加非隐藏的单元格\n    }\n  }\n\n  // 解析行高度\n  const height = parseInt(getStyleValue($elem, 'height') || '0', 10) || undefined\n\n  return {\n    type: 'table-row',\n    height,\n    children: tableCellChildren,\n  }\n}\n\nexport const parseRowHtmlConf = {\n  selector: 'tr:not([data-w-e-type])', // data-w-e-type 属性，留给自定义元素，保证扩展性\n  parseElemHtml: parseRowHtml,\n}\n\nfunction parseTableHtml(\n  elem: DOMElement,\n  children: Descendant[],\n  _editor: IDomEditor,\n): TableElement {\n  const $elem = $(elem)\n\n  // 计算宽度\n  let tableWidth = 'auto'\n\n  if (getStyleValue($elem, 'width') === '100%') { tableWidth = '100%' }\n  if ($elem.attr('width') === '100%') { tableWidth = '100%' } // 兼容 v4 格式\n\n  // 计算高度\n  const height = parseInt(getStyleValue($elem, 'height') || '0', 10)\n\n  const tableELement: TableElement = {\n    type: 'table',\n    width: tableWidth,\n    height,\n    // @ts-ignore\n    children: children.filter(child => DomEditor.getNodeType(child) === 'table-row'),\n  }\n  const tdList = $elem.find('tr')[0]?.children || []\n  const colgroupElments: HTMLCollection = $elem.find('colgroup')[0]?.children || null\n  // @ts-ignore\n  const colLength = children[children.length - 1].children.length\n\n  if (colgroupElments && colgroupElments.length === colLength) {\n    tableELement.columnWidths = Array.from(colgroupElments).map((col: any) => {\n      return parseInt(col.getAttribute('width'), 10)\n    })\n  } else if (tdList.length > 0) {\n    const columnWidths: number[] = []\n\n    Array.from(tdList).forEach(td => {\n      const colSpan = parseInt($(td).attr('colSpan') || '1', 10) // 获取 colSpan，默认为 1\n      const width = parseInt(getStyleValue($(td), 'width') || '90', 10) // 获取 width，默认为 90\n\n      // 根据 colSpan 的值来填充 columnWidths 数组\n      columnWidths.push(width)\n      for (let i = 1; i < colSpan; i += 1) {\n        columnWidths.push(90)\n      }\n    })\n    tableELement.columnWidths = columnWidths\n  }\n  return tableELement\n}\n\nexport const parseTableHtmlConf = {\n  selector: 'table:not([data-w-e-type])', // data-w-e-type 属性，留给自定义元素，保证扩展性\n  parseElemHtml: parseTableHtml,\n}\n","/**\n * @description parse style html\n * @author hsuna\n */\nimport { IDomEditor } from '@wangeditor-next/core'\nimport { Descendant } from 'slate'\n\nimport $, { DOMElement, getStyleValue } from '../utils/dom'\nimport { TableCellElement } from './custom-types'\n\n// 获取 var(--w-e-textarea-border-color) 变量的实际样式值\nconst DEFAULT_BORDER_COLOR = window\n  ?.getComputedStyle(document.documentElement)\n  ?.getPropertyValue('--w-e-textarea-border-color')\n\nexport function parseStyleHtml(elem: DOMElement, node: Descendant, _editor: IDomEditor): Descendant {\n  if (!['TABLE', 'TD', 'TH'].includes(elem.tagName)) { return node }\n\n  const $elem = $(elem)\n\n  const tableNode = node as TableCellElement\n  let backgroundColor = getStyleValue($elem, 'background-color')\n\n  if (!backgroundColor) { backgroundColor = getStyleValue($elem, 'background') } // word 背景色\n  if (backgroundColor) {\n    tableNode.backgroundColor = backgroundColor\n  }\n\n  let border = getStyleValue($elem, 'border')\n\n  if (!border && elem.tagName === 'TD') {\n    // https://github.com/wangeditor-next/wangEditor-next/blob/master/packages/table-module/src/assets/index.less#L20\n    // TD存在默认的css样式，尝试用getComputedStyle获取不到，只能写死\n    border = `1px solid ${DEFAULT_BORDER_COLOR}`\n  }\n\n  let [borderWidth, borderStyle, borderColor] = border?.split(' ') || []\n\n  borderWidth = getStyleValue($elem, 'border-width') || borderWidth // border 宽度\n  if (borderWidth) {\n    tableNode.borderWidth = borderWidth.replace(/[^\\d]/g, '')\n  }\n  borderStyle = getStyleValue($elem, 'border-style') || borderStyle // border 样式\n  if (borderStyle) {\n    tableNode.borderStyle = borderStyle === 'none' ? '' : borderStyle\n  }\n  borderColor = getStyleValue($elem, 'border-color') || borderColor // border 颜色\n  if (borderColor) {\n    tableNode.borderColor = borderColor\n  }\n\n  let textAlign = getStyleValue($elem, 'text-align')\n\n  textAlign = getStyleValue($elem, 'text-align') || textAlign // 文本 对齐\n  if (textAlign) {\n    tableNode.textAlign = textAlign\n  }\n  return node\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.anchor` method\n// https://tc39.es/ecma262/#sec-string.prototype.anchor\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('anchor') }, {\n  anchor: function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  }\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\n\nvar quot = /\"/g;\nvar replace = uncurryThis(''.replace);\n\n// `CreateHTML` abstract operation\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = toString(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + replace(toString(value), quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","/**\n * @description editor 插件，重写 editor API\n * @author wangfupeng\n */\n\nimport { DomEditor, IDomEditor } from '@wangeditor-next/core'\nimport {\n  BaseText,\n  Descendant,\n  Editor,\n  Element as SlateElement,\n  Location,\n  Node,\n  NodeEntry,\n  Path,\n  Point,\n  Selection,\n  Text,\n  Transforms,\n} from 'slate'\n\nimport { EDITOR_TO_SELECTION } from './weak-maps'\nimport { withSelection } from './with-selection'\n\n// table cell 内部的删除处理\nfunction deleteHandler(newEditor: IDomEditor): boolean {\n  const { selection } = newEditor\n\n  if (selection == null) { return false }\n\n  const [cellNodeEntry] = Editor.nodes(newEditor, {\n    match: n => DomEditor.checkNodeType(n, 'table-cell'),\n  })\n\n  if (cellNodeEntry) {\n    const [, cellPath] = cellNodeEntry\n    const start = Editor.start(newEditor, cellPath)\n\n    if (Point.equals(selection.anchor, start)) {\n      return true // 阻止删除 cell\n    }\n  }\n\n  return false\n}\n\n// #region 删除 cell 内的换行\n/**\n * 判断光标是否在换行符中间 \\n|\\r\n * @param newEditor\n * @param location\n */\nfunction isHalfBreak(newEditor: IDomEditor, location: Point): boolean {\n  const offset = location.offset\n\n  if (offset === 0) { return false }\n  const node = Editor.node(newEditor, location)\n\n  if (!Text.isText(node[0])) { return false }\n\n  const text = Node.string((node[0]))\n\n  if (offset >= text.length) { return false }\n\n  return text[offset - 1] === '\\n' && text[offset] === '\\r'\n}\n\n/**\n * 删除 cell 内的换行，光标首尾在同一个位置的情况\n * @param newEditor\n * @returns 是否在内部处理了删除\n */\nfunction deleteCellBreak(newEditor: IDomEditor, unit: Parameters<IDomEditor['deleteBackward']>[0], direction: 'forward' | 'backward'): boolean {\n  const { selection } = newEditor\n\n  if (selection == null || unit === 'line') { return false }\n\n  // 判断目标位置是否在同一个 cell 内，不在同一个 cell 内不处理\n  const [cellNodeEntry] = Editor.nodes(newEditor, {\n    match: n => DomEditor.checkNodeType(n, 'table-cell'),\n  })\n\n  // 根据删除的方向及当前的光标位置，获取到真实的删除位置\n  let targetPoint: Point | undefined = selection.anchor\n\n  if (direction === 'backward' && selection.anchor.offset === 0) {\n    targetPoint = Editor.before(newEditor, selection)\n  }\n\n  if (direction === 'forward' && Editor.isEnd(newEditor, selection.anchor, selection.anchor.path)) {\n    targetPoint = Editor.after(newEditor, selection)\n  }\n\n  if (targetPoint == null) { return false }\n  const aboveCell = Editor.above(newEditor, {\n    at: targetPoint,\n    match: n => DomEditor.checkNodeType(n, 'table-cell'),\n  })\n\n  if (aboveCell == null || cellNodeEntry == null || !Path.equals(aboveCell[1], cellNodeEntry[1])) { return false }\n  const targetNode = Editor.node(newEditor, targetPoint)\n\n  if (!Text.isText(targetNode[0]) || targetNode[0].text.length < 2) { return false } // 如果存在\\n\\r，那长度必定大于2\n\n  // 处理光标在换行符首/尾的情况,|表示光标  |\\n\\r   \\n\\r|\n  const parameters: Parameters<typeof String.prototype.slice> = direction === 'backward'\n    ? [targetPoint.offset - 2, targetPoint.offset]\n    : [targetPoint.offset, targetPoint.offset + 2]\n\n  const nodeText = Node.string(targetNode[0])\n  const isBreak = nodeText.slice(...parameters) === '\\n\\r'\n\n  if (isBreak) {\n    Transforms.insertText(newEditor, nodeText.slice(0, parameters[0]) + nodeText.slice(parameters[1]), {\n      at: {\n        anchor: Editor.start(newEditor, targetPoint.path),\n        focus: Editor.end(newEditor, targetPoint.path),\n      },\n    })\n    return true\n  }\n\n  // 处理光标在换行符中间的情况\n  if (isHalfBreak(newEditor, targetPoint)) {\n    Transforms.insertText(newEditor, nodeText.slice(0, selection.anchor.offset - 1) + nodeText.slice(selection.anchor.offset + 1), {\n      at: {\n        anchor: Editor.start(newEditor, targetPoint.path),\n        focus: Editor.end(newEditor, targetPoint.path),\n      },\n    })\n    return true\n  }\n\n  return false\n}\n// #endregion\n\n/**\n * 判断该 location 有没有命中 table\n * @param editor editor\n * @param location location\n */\nfunction isTableLocation(editor: IDomEditor, location: Location): boolean {\n  const tables = Editor.nodes(editor, {\n    at: location,\n    match: n => {\n      const type = DomEditor.getNodeType(n)\n\n      return type === 'table'\n    },\n  })\n\n  const hasTable = !![...tables].find(() => true)\n\n  return hasTable\n}\n\n/**\n * 检查当前选中的节点是否是受保护的节点类型（不应该被删除的节点）\n * @param editor editor\n * @returns 是否是受保护的节点\n */\nfunction isProtectedNode(editor: IDomEditor): boolean {\n  // 检查是否是受保护的节点类型\n  const protectedTypes = [\n    'paragraph',\n    'header1', 'header2', 'header3', 'header4', 'header5', 'header6',\n    'blockquote',\n    'list-item',\n    'todo',\n    'divider',\n  ]\n\n  for (const type of protectedTypes) {\n    if (DomEditor.getSelectedNodeByType(editor, type)) {\n      return true\n    }\n  }\n\n  return false\n}\n\nfunction withTable<T extends IDomEditor>(editor: T): T {\n  const {\n    insertBreak,\n    deleteBackward,\n    deleteForward,\n    deleteFragment,\n    normalizeNode,\n    insertData,\n    handleTab,\n    selectAll,\n  } = editor\n  const newEditor = editor\n\n  // 重写 insertBreak - cell 内换行，只换行文本，不拆分 node\n  newEditor.insertBreak = () => {\n    const selectedNode = DomEditor.getSelectedNodeByType(newEditor, 'table')\n\n    if (selectedNode != null) {\n      // 选中了 table ，则在 cell 内换行\n      newEditor.insertText('\\n\\r')\n      return\n    }\n\n    // 未选中 table ，默认的换行\n    insertBreak()\n  }\n\n  // 重写 delete - cell 内删除，只删除文字，不删除 node\n  newEditor.deleteBackward = unit => {\n    const res = deleteHandler(newEditor)\n\n    if (res) { return } // 命中 table cell ，自己处理删除\n\n    if (deleteCellBreak(newEditor, unit, 'backward')) { return } // 命中了 cell 内删除换行符，自行处理删除\n\n    // 防止从 table 后面的 p 删除时，删除最后一个 cell - issues/4221\n    const { selection } = newEditor\n\n    if (selection) {\n      const before = Editor.before(newEditor, selection) // 前一个 location\n      const tableCell = Editor.above(newEditor, {\n        at: selection,\n        match: n => DomEditor.checkNodeType(n, 'table-cell'),\n      })\n\n      if (before) {\n        const isTableOnBeforeLocation = isTableLocation(newEditor, before) // before 是否是 table\n        // 如果前面是 table, 当前是 paragraph ，则不执行删除。否则会删除 table 最后一个 cell\n        // 兼容了 table 嵌套 p标签元素 selection数组五层的情况 - issues/342\n\n        // 如果前面是 table, 当前是受保护的节点类型，则不执行删除\n        if (!tableCell && isTableOnBeforeLocation && isProtectedNode(newEditor)) {\n          return\n        }\n      }\n    }\n\n    // 执行默认的删除\n    deleteBackward(unit)\n  }\n\n  // 重写 handleTab 在table内按tab时跳到下一个单元格\n  newEditor.handleTab = () => {\n    const selectedNode = DomEditor.getSelectedNodeByType(newEditor, 'table')\n\n    if (selectedNode) {\n      const above = Editor.above(editor) as NodeEntry<SlateElement>\n\n      // 常规情况下选中文字外层 table-cell 进行跳转\n      if (DomEditor.checkNodeType(above[0], 'table-cell')) {\n        Transforms.select(editor, above[1])\n      }\n\n      let next = Editor.next(editor)\n\n      if (next) {\n        if (next[0] && (next[0] as BaseText).text) {\n          // 多个单元格同时选中按 tab 导致错位修复\n          next = (Editor.above(editor, { at: next[1] }) as NodeEntry<Descendant>) ?? next\n        }\n        Transforms.select(editor, next[1])\n      } else {\n        const topLevelNodes = newEditor.children || []\n        const topLevelNodesLength = topLevelNodes.length\n        // 在最后一个单元格按tab时table末尾如果没有p则插入p后光标切到p上\n\n        if (DomEditor.checkNodeType(topLevelNodes[topLevelNodesLength - 1], 'table')) {\n          const p = DomEditor.genEmptyParagraph()\n\n          Transforms.insertNodes(newEditor, p, { at: [topLevelNodesLength] })\n          // 在表格末尾插入p后再次执行使光标切到p上\n          newEditor.handleTab()\n        }\n      }\n      return\n    }\n\n    handleTab()\n  }\n\n  newEditor.deleteForward = unit => {\n    const res = deleteHandler(newEditor)\n\n    if (res) { return }\n\n    if (deleteCellBreak(newEditor, unit, 'forward')) { return }\n\n    // 防止从 table 前面的 p 删除时，删除第一个 cell\n    const { selection } = newEditor\n\n    if (selection) {\n      const after = Editor.after(newEditor, selection) // 后一个 location\n      const tableCell = Editor.above(newEditor, {\n        at: selection,\n        match: n => DomEditor.checkNodeType(n, 'table-cell'),\n      })\n\n      if (after) {\n        const isTableOnAfterLocation = isTableLocation(newEditor, after) // after 是否是 table\n        // 如果后面是 table, 当前是 paragraph，则不执行删除\n\n        // 如果后面是 table, 当前是受保护的节点类型，则不执行删除\n        if (!tableCell && isTableOnAfterLocation && isProtectedNode(newEditor)) {\n          return\n        }\n      }\n    }\n\n    // 执行默认的删除\n    deleteForward(unit)\n  }\n\n  // 重写区域选中的删除，修正可能半选的换行符\n  newEditor.deleteFragment = unit => {\n    const { selection } = newEditor\n\n    if (!selection) { return }\n    let hasChange = false\n    const newSelection: Selection = {\n      anchor: selection.anchor,\n      focus: selection.focus,\n    }\n    // 是否是从左到右的选区\n    const isLeftToRight = Point.isBefore(newSelection.anchor, newSelection.focus)\n\n    if (isHalfBreak(newEditor, selection.anchor)) {\n      const nv = Editor[isLeftToRight ? 'before' : 'after'](newEditor, selection.anchor)\n\n      if (nv) {\n        newSelection.anchor = nv\n      }\n      hasChange = true\n    }\n    if (isHalfBreak(newEditor, selection.focus)) {\n      const nv = Editor[isLeftToRight ? 'after' : 'before'](newEditor, selection.focus)\n\n      if (nv) {\n        newSelection.focus = nv\n      }\n      hasChange = true\n    }\n    if (hasChange) {\n      Transforms.setSelection(newEditor, newSelection)\n    }\n    deleteFragment(unit)\n  }\n\n  // 重新 normalize\n  newEditor.normalizeNode = ([node, path]) => {\n    const type = DomEditor.getNodeType(node)\n\n    if (type !== 'table') {\n      // 未命中 table ，执行默认的 normalizeNode\n      return normalizeNode([node, path])\n    }\n\n    // -------------- table 是 editor 最后一个节点，需要后面插入 p --------------\n    const isLast = DomEditor.isLastNode(newEditor, node)\n\n    if (isLast) {\n      const p = DomEditor.genEmptyParagraph()\n\n      Transforms.insertNodes(newEditor, p, { at: [path[0] + 1] })\n    }\n  }\n\n  // 重写 insertData - 粘贴文本\n  newEditor.insertData = (data: DataTransfer) => {\n    const tableNode = DomEditor.getSelectedNodeByType(newEditor, 'table')\n\n    if (tableNode == null) {\n      insertData(data) // 执行默认的 insertData\n      return\n    }\n\n    // 获取文本，并插入到 cell\n    const text = data.getData('text/plain')\n\n    // 单图或图文 插入\n    if (text === '\\n' || /<img[^>]+>/.test(data.getData('text/html'))) {\n      insertData(data)\n      return\n    }\n\n    Editor.insertText(newEditor, text)\n  }\n\n  // 重写 table-cell 中的全选\n  newEditor.selectAll = () => {\n    const selection = newEditor.selection\n\n    if (selection == null) {\n      selectAll()\n      return\n    }\n\n    const cell = DomEditor.getSelectedNodeByType(newEditor, 'table-cell')\n\n    if (cell == null) {\n      selectAll()\n      return\n    }\n\n    const { anchor, focus } = selection\n\n    if (!Path.equals(anchor.path.slice(0, 3), focus.path.slice(0, 3))) {\n      // 选中了多个 cell ，忽略\n      selectAll()\n      return\n    }\n\n    const text = Node.string(cell)\n    const textLength = text.length\n\n    if (textLength === 0) {\n      selectAll()\n      return\n    }\n\n    const path = DomEditor.findPath(newEditor, cell)\n    const start = Editor.start(newEditor, path)\n    const end = Editor.end(newEditor, path)\n    const newSelection = {\n      anchor: start,\n      focus: end,\n    }\n\n    newEditor.select(newSelection) // 选中 table-cell 内部的全部文字\n  }\n\n  /**\n   * 光标选区行为新增\n   */\n  withSelection(newEditor)\n\n  /**\n   * 添加获取表格批量选择的方法\n   */\n  newEditor.getTableSelection = () => {\n    return EDITOR_TO_SELECTION.get(newEditor) || null\n  }\n\n  /**\n   * 重写mark和node操作方法以支持表格批量选择\n   */\n  const { addMark: originalAddMark, removeMark: originalRemoveMark } = newEditor\n  const originalTransforms = { ...Transforms }\n\n  newEditor.addMark = (key: string, value: any) => {\n    const tableSelection = EDITOR_TO_SELECTION.get(newEditor)\n\n    if (tableSelection && tableSelection.length > 0) {\n      // 表格批量选择：对每个选中的单元格应用mark\n      // 保存当前选择状态\n      const originalSelection = newEditor.selection\n\n      tableSelection.forEach(row => {\n        row.forEach(cell => {\n          const [, cellPath] = cell[0]\n\n          // 为每个单元格设置选择范围（选中整个单元格的内容）\n          const start = Editor.start(newEditor, cellPath)\n          const end = Editor.end(newEditor, cellPath)\n\n          // 设置选择范围到当前单元格\n          Transforms.select(newEditor, { anchor: start, focus: end })\n\n          // 在当前单元格范围内应用原始的 addMark 方法\n          originalAddMark(key, value)\n        })\n      })\n\n      // 恢复原始选择状态\n      if (originalSelection) {\n        Transforms.select(newEditor, originalSelection)\n      }\n    } else {\n      // 常规选择：使用原有逻辑\n      originalAddMark(key, value)\n    }\n  }\n\n  newEditor.removeMark = (key: string) => {\n    const tableSelection = EDITOR_TO_SELECTION.get(newEditor)\n\n    if (tableSelection && tableSelection.length > 0) {\n      // 表格批量选择：对每个选中的单元格移除mark\n      // 保存当前选择状态\n      const originalSelection = newEditor.selection\n\n      tableSelection.forEach(row => {\n        row.forEach(cell => {\n          const [, cellPath] = cell[0]\n\n          // 为每个单元格设置选择范围（选中整个单元格的内容）\n          const start = Editor.start(newEditor, cellPath)\n          const end = Editor.end(newEditor, cellPath)\n\n          // 设置选择范围到当前单元格\n          Transforms.select(newEditor, { anchor: start, focus: end })\n\n          // 在当前单元格范围内应用原始的 removeMark 方法\n          originalRemoveMark(key)\n        })\n      })\n\n      // 恢复原始选择状态\n      if (originalSelection) {\n        Transforms.select(newEditor, originalSelection)\n      }\n    } else {\n      // 常规选择：使用原有逻辑\n      originalRemoveMark(key)\n    }\n  }\n\n  /**\n   * 重写Transforms.setNodes以支持表格批量选择（如对齐功能）\n   */\n  Transforms.setNodes = (targetEditor, props, options = {}) => {\n    // 只有当传入的editor是当前newEditor且有表格选择时才特殊处理\n    if (targetEditor === newEditor) {\n      const tableSelection = EDITOR_TO_SELECTION.get(newEditor)\n\n      if (tableSelection && tableSelection.length > 0) {\n        // 排除合并单元格操作\n        if ('hidden' in props || 'rowSpan' in props || 'colSpan' in props) {\n          originalTransforms.setNodes(targetEditor, props, options)\n          return\n        }\n        // 表格批量选择：对所有选中的单元格应用属性\n        tableSelection.forEach(row => {\n          row.forEach(cell => {\n            const [, cellPath] = cell[0]\n\n            originalTransforms.setNodes(targetEditor, props, {\n              ...options,\n              at: cellPath,\n            })\n          })\n        })\n        return\n      }\n    }\n\n    // 常规情况：使用原有逻辑\n    originalTransforms.setNodes(targetEditor, props, options)\n  }\n\n  // 可继续修改其他 newEditor API ...\n\n  // 返回 editor ，重要！\n  return newEditor\n}\n\nexport default withTable\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionWeak = require('../internals/collection-weak');\n\n// `WeakSet` constructor\n// https://tc39.es/ecma262/#sec-weakset-constructor\ncollection('WeakSet', function (init) {\n  return function WeakSet() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionWeak);\n","/**\n * @description pre parse html\n * @author wangfupeng\n */\n\nimport $, { DOMElement, getTagName } from '../utils/dom'\n\n/**\n * pre-prase table ，去掉 <tbody> 和处理单元格中的 <p> 标签，以及删除隐藏的单元格\n * @param table table elem\n */\nfunction preParse(tableElem: DOMElement): DOMElement {\n  const $table = $(tableElem)\n  const tagName = getTagName($table)\n\n  if (tagName !== 'table') { return tableElem }\n\n  // 没有 <tbody> 则直接返回\n  const $tbody = $table.find('tbody')\n\n  if ($tbody.length === 0) { return tableElem }\n\n  // 去掉 <tbody> ，把 <tr> 移动到 <table> 下面\n  const $tr = $table.find('tr')\n\n  $table.append($tr)\n  $tbody.remove()\n\n  // 删除带有 style=\"display:none\" 的单元格（通常来自复制的隐藏内容）\n  const $allCells = $table.find('td, th')\n\n  for (let i = 0; i < $allCells.length; i += 1) {\n    const cell = $allCells[i]\n    const $cell = $(cell)\n    const styleAttr = $cell.attr('style')\n\n    // 检查style属性是否包含display:none或display: none\n    if (styleAttr) {\n      // 使用正则表达式匹配display:none，支持空格变化\n      const displayNoneRegex = /display\\s*:\\s*none/i\n\n      if (displayNoneRegex.test(styleAttr)) {\n        $cell.remove()\n      }\n    }\n    // 设置width属性为auto\n    $cell.attr('width', 'auto')\n  }\n\n  // 处理表格单元格中的 <p> 标签（通常来自Word复制）\n  const $cells = $table.find('td, th')\n\n  for (let i = 0; i < $cells.length; i += 1) {\n    const cell = $cells[i]\n    const $cell = $(cell)\n\n    // 直接处理单元格中的所有 <p> 标签\n    let cellHtml = $cell.html() || ''\n\n    // 先清理Word特殊标签\n    cellHtml = cellHtml.replace(/<o:p[^>]*>[\\s\\S]*?<\\/o:p>/gi, '') // 删除 <o:p> 标签\n    cellHtml = cellHtml.replace(/<\\/o:p>/gi, '') // 删除可能的自闭合标签\n\n    // 一次性处理所有p标签\n    cellHtml = cellHtml.replace(/<p[^>]*>([\\s\\S]*?)<\\/p>/gi, (match, content) => {\n      // 处理空内容或只包含空白字符的情况\n      const trimmedContent = content.trim()\n\n      if (!trimmedContent || trimmedContent === '&nbsp;') {\n        return '' // 删除空的p标签\n      }\n      return content // 返回p标签的内容\n    })\n\n    $cell.html(cellHtml)\n  }\n\n  return $table[0]\n}\n\nexport const preParseTableHtmlConf = {\n  selector: 'table',\n  preParseHtml: preParse,\n}\n","import { DomEditor, IDomEditor, isHTMLElememt } from '@wangeditor-next/core'\nimport throttle from 'lodash.throttle'\nimport { Editor, Element as SlateElement, Transforms } from 'slate'\n\nimport { isOfType } from '../utils'\nimport $ from '../utils/dom'\nimport { TableElement } from './custom-types'\n\n/** *\n * 计算 cell border 距离 table 左侧距离\n */\nfunction getCumulativeWidths(columnWidths: number[]) {\n  const cumulativeWidths: number[] = []\n  let totalWidth = 0\n\n  for (const width of columnWidths) {\n    totalWidth += width\n    cumulativeWidths.push(totalWidth)\n  }\n\n  return cumulativeWidths\n}\n\n/** *\n * 用于计算拖动 cell 时，cell 宽度变化的比例\n */\nexport function getColumnWidthRatios(columnWidths: number[]) {\n  const columnWidthsRatio: number[] = []\n  const totalWidth = columnWidths.reduce((a, b) => a + b, 0)\n\n  for (const width of columnWidths) {\n    columnWidthsRatio.push(width / totalWidth)\n  }\n\n  return columnWidthsRatio\n}\n\n/**\n * 监听 table 内部变化，如新增行、列，删除行列等操作，引起的高度变化。\n * ResizeObserver 需要即时释放，以免引起内存泄露\n */\nlet resizeObserver: ResizeObserver | null = null\n\nexport function observerTableResize(editor: IDomEditor, elm: Node | undefined) {\n  if (isHTMLElememt(elm)) {\n    const table = elm.querySelector('table')\n\n    if (table) {\n      resizeObserver = new ResizeObserver(([{ contentRect }]) => {\n        // 当非拖动引起的宽度变化，需要调整 columnWidths\n        Transforms.setNodes(\n          editor,\n          {\n            scrollWidth: contentRect.width,\n            height: contentRect.height,\n          } as TableElement,\n          { mode: 'highest' },\n        )\n      })\n      resizeObserver.observe(table)\n    }\n  }\n}\n\nexport function unObserveTableResize() {\n  if (resizeObserver) {\n    resizeObserver?.disconnect()\n    resizeObserver = null\n  }\n}\n\n// 是否为光标选区行为\nlet isSelectionOperation = false\n// 拖拽列宽相关信息\nlet isMouseDownForResize = false\nlet clientXWhenMouseDown = 0\nlet editorWhenMouseDown: IDomEditor | null = null\nconst $window = $(window)\n\nfunction onMouseDown(event: Event) {\n  const elem = event.target as HTMLElement\n  // 判断是否为光标选区行为，对列宽变更行为进行过滤\n  // console.log('onMouseDown', elem)\n\n  if (elem.closest('[data-block-type=\"table-cell\"]')) {\n    isSelectionOperation = true\n  } else if (elem.tagName === 'DIV' && elem.closest('.column-resizer-item')) {\n    if (editorWhenMouseDown === null) { return }\n\n    // 记录必要信息\n    isMouseDownForResize = true\n    const { clientX } = event as MouseEvent\n\n    clientXWhenMouseDown = clientX\n    document.body.style.cursor = 'col-resize'\n    event.preventDefault()\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  $window.on('mousemove', onMouseMove)\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  $window.on('mouseup', onMouseUp)\n}\n\n$window.on('mousedown', onMouseDown)\n\n/**\n * 计算相邻列宽度调整（用于中间列拖动）\n * 修改为：拖拽时当前列宽度增加，其他列宽度不变，整体表格宽度增加\n */\nfunction calculateAdjacentWidths(columnWidths: number[], resizingIndex: number, widthChange: number, editor: IDomEditor): number[] {\n  const newWidths = [...columnWidths]\n\n  // 获取最小宽度配置\n  const { minWidth = 60 } = editor.getMenuConfig('insertTable')\n  const minColumnWidth = parseInt(minWidth.toString(), 10) || 60\n\n  // 直接增加当前列的宽度，其他列保持不变\n  const currentWidth = newWidths[resizingIndex]\n  const newWidth = Math.max(minColumnWidth, currentWidth + widthChange) // 确保不小于最小宽度\n\n  newWidths[resizingIndex] = Math.floor(newWidth * 100) / 100\n\n  return newWidths\n}\n\n/**\n * 根据鼠标位置计算列宽度\n * 修改为：拖拽时当前列宽度增加，其他列宽度不变，整体表格宽度增加\n * @param columnWidths 当前列宽度数组\n * @param resizingIndex 正在调整的边界索引\n * @param mousePositionInTable 鼠标相对于表格左边的位置\n * @param cumulativeWidths 列宽度的累积和数组\n * @param editor 编辑器实例\n * @returns 调整后的列宽度数组\n */\nfunction calculateAdjacentWidthsByBorderPosition(\n  columnWidths: number[],\n  resizingIndex: number,\n  mousePositionInTable: number,\n  cumulativeWidths: number[],\n  editor: IDomEditor,\n): number[] {\n  const newWidths = [...columnWidths]\n\n  // 检查边界范围\n  if (resizingIndex < 0 || resizingIndex >= columnWidths.length) {\n    return newWidths\n  }\n\n  // 获取最小宽度配置\n  const { minWidth = 60 } = editor.getMenuConfig('insertTable')\n  const minColumnWidth = parseInt(minWidth.toString(), 10) || 60\n\n  // 计算当前边界的左边界位置（前面所有列的宽度总和）\n  const leftBoundary = resizingIndex === 0 ? 0 : cumulativeWidths[resizingIndex - 1]\n\n  // 计算鼠标位置相对于当前列左边界的偏移\n  const mouseOffset = mousePositionInTable - leftBoundary\n\n  // 确保不小于最小宽度\n  const newWidth = Math.max(minColumnWidth, mouseOffset)\n\n  // 直接设置当前列的宽度，其他列保持不变\n  newWidths[resizingIndex] = Math.floor(newWidth * 100) / 100\n\n  return newWidths\n}\n\nconst onMouseMove = throttle((event: Event) => {\n  if (!isMouseDownForResize) { return }\n  if (editorWhenMouseDown === null) { return }\n  event.preventDefault()\n\n  const { clientX } = event as MouseEvent\n  const widthChange = clientX - clientXWhenMouseDown // 计算宽度变化\n\n  const [[elemNode]] = Editor.nodes(editorWhenMouseDown, {\n    match: isOfType(editorWhenMouseDown, 'table'),\n  })\n  const { columnWidths = [], resizingIndex = -1 } = elemNode as TableElement\n\n  let adjustColumnWidths: number[]\n  const tableNode = DomEditor.getSelectedNodeByType(editorWhenMouseDown, 'table') as TableElement\n  const tableDom = DomEditor.toDOMNode(editorWhenMouseDown, tableNode)\n\n  // 所有列都采用相同的拖拽逻辑：当前列宽度增加，其他列不变\n  const tableElement = tableDom.querySelector('.table')\n\n  if (tableElement) {\n    const tableRect = tableElement.getBoundingClientRect()\n    const mousePositionInTable = clientX - tableRect.left // 鼠标相对于表格左边的位置\n\n    // 计算边界的新位置\n    const cumulativeWidths = getCumulativeWidths(columnWidths)\n    const newBorderPosition = mousePositionInTable\n\n    // 根据新的边界位置计算列宽度\n    adjustColumnWidths = calculateAdjacentWidthsByBorderPosition(columnWidths, resizingIndex, newBorderPosition, cumulativeWidths, editorWhenMouseDown)\n  } else {\n    // 如果找不到表格元素，则使用简单的宽度变化逻辑\n    adjustColumnWidths = calculateAdjacentWidths(columnWidths, resizingIndex, widthChange, editorWhenMouseDown)\n  }\n\n  // 移除容器宽度限制，允许表格宽度超过编辑器宽度，显示横向滚动条\n\n  // 应用新的列宽度\n  Transforms.setNodes(editorWhenMouseDown, { columnWidths: adjustColumnWidths } as TableElement, {\n    mode: 'highest',\n  })\n}, 100)\n\nfunction onMouseUp(_event: Event) {\n  isSelectionOperation = false\n  isMouseDownForResize = false\n  editorWhenMouseDown = null\n  document.body.style.cursor = ''\n\n  // 解绑事件\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  $window.off('mousemove', onMouseMove)\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  $window.off('mouseup', onMouseUp)\n}\n/**\n * 鼠标移动时，判断在哪个 Cell border 上\n * Class 先 visible 后 highlight @跟随飞书\n * 避免光标选区功能收到干扰\n */\nexport function handleCellBorderVisible(\n  editor: IDomEditor,\n  elemNode: SlateElement,\n  e: MouseEvent,\n  scrollWidth: number,\n) {\n  if (editor.isDisabled()) { return }\n  if (isSelectionOperation || isMouseDownForResize) { return }\n\n  const {\n    width: tableWidth = 'auto',\n    columnWidths = [],\n    isHoverCellBorder,\n    resizingIndex,\n  } = elemNode as TableElement\n\n  // Cell Border 宽度为 10px\n  const { clientX, target } = e\n  // 当单元格合并的时候，鼠标在 cell 中间，则不显示 cell border\n\n  if (isHTMLElememt(target)) {\n    const rect = target.getBoundingClientRect()\n\n    if (clientX > rect.x + 5 && clientX < rect.x + rect.width - 5) {\n      if (isHoverCellBorder) {\n        Transforms.setNodes(\n          editor,\n          { isHoverCellBorder: false, resizingIndex: -1 } as TableElement,\n          { mode: 'highest' },\n        )\n      }\n      return\n    }\n  }\n  if (isHTMLElememt(target)) {\n    const parent = target.closest('.table')\n\n    if (parent) {\n      // eslint-disable-next-line @typescript-eslint/no-shadow\n      const { clientX } = e\n      const rect = parent.getBoundingClientRect()\n      const widths = tableWidth === '100%'\n        ? getColumnWidthRatios(columnWidths).map(v => v * scrollWidth)\n        : columnWidths\n\n      const cumulativeWidths = getCumulativeWidths(widths)\n\n      // 鼠标移动时，计算当前鼠标位置，判断在哪个 Cell border 上\n      for (let i = 0; i < cumulativeWidths.length; i += 1) {\n        if (\n          clientX - rect.x >= cumulativeWidths[i] - 5\n          && clientX - rect.x < cumulativeWidths[i] + 5\n        ) {\n          // 节流，防止多次引起Transforms.setNodes重绘\n          if (resizingIndex === i) { return }\n          Transforms.setNodes(\n            editor,\n            { isHoverCellBorder: true, resizingIndex: i } as TableElement,\n            { mode: 'highest' },\n          )\n          return\n        }\n      }\n    }\n  }\n\n  // 鼠标移出时，重置\n  if (isHoverCellBorder === true) {\n    Transforms.setNodes(editor, { isHoverCellBorder: false, resizingIndex: -1 } as TableElement, {\n      mode: 'highest',\n    })\n  }\n}\n\n/**\n * 设置 class highlight\n * 将 render-cell.tsx 拖动功能迁移至 div.column-resize\n */\nexport function handleCellBorderHighlight(editor: IDomEditor, e: MouseEvent) {\n  if (e.type === 'mouseenter') {\n    Transforms.setNodes(editor, { isResizing: true } as TableElement, { mode: 'highest' })\n  } else {\n    Transforms.setNodes(editor, { isResizing: false } as TableElement, { mode: 'highest' })\n  }\n}\n\nexport function handleCellBorderMouseDown(editor: IDomEditor, _elemNode: SlateElement) {\n  if (isMouseDownForResize) { return } // 此时正在修改列宽\n  editorWhenMouseDown = editor\n}\n","import { DomEditor, IDomEditor, isHTMLElememt } from '@wangeditor-next/core'\nimport throttle from 'lodash.throttle'\nimport { Editor, Element as SlateElement, Transforms } from 'slate'\n\nimport { isOfType } from '../utils'\nimport $ from '../utils/dom'\nimport { TableElement, TableRowElement } from './custom-types'\n\n/**\n * 计算行高度的比例\n */\nexport function getRowHeightRatios(rowHeights: number[]) {\n  const rowHeightRatios: number[] = []\n  const totalHeight = rowHeights.reduce((a, b) => a + b, 0)\n\n  for (const height of rowHeights) {\n    rowHeightRatios.push(height / totalHeight)\n  }\n\n  return rowHeightRatios\n}\n\n/**\n * 计算累积行高度\n */\nfunction getCumulativeHeights(rowHeights: number[]) {\n  const cumulativeHeights: number[] = []\n  let totalHeight = 0\n\n  for (const height of rowHeights) {\n    totalHeight += height\n    cumulativeHeights.push(totalHeight)\n  }\n\n  return cumulativeHeights\n}\n\n// 行拖拽相关状态\nlet isMouseDownForRowResize = false\nlet clientYWhenMouseDown = 0\nlet editorWhenMouseDownForRow: IDomEditor | null = null\nconst $window = $(window)\n\n/**\n * 计算行高度调整\n */\nfunction calculateRowHeights(rowHeights: number[], resizingRowIndex: number, heightChange: number, editor: IDomEditor): number[] {\n  const newHeights = [...rowHeights]\n\n  // 获取最小高度配置\n  const { minRowHeight = 30 } = editor.getMenuConfig('insertTable') || {}\n  const minHeight = parseInt(minRowHeight.toString(), 10) || 30\n\n  // 直接增加当前行的高度，其他行保持不变\n  const currentHeight = newHeights[resizingRowIndex]\n  const newHeight = Math.max(minHeight, currentHeight + heightChange)\n\n  newHeights[resizingRowIndex] = Math.floor(newHeight * 100) / 100\n\n  return newHeights\n}\n\n/**\n * 根据鼠标位置计算行高度\n */\nfunction calculateRowHeightsByBorderPosition(\n  rowHeights: number[],\n  resizingRowIndex: number,\n  mousePositionInTable: number,\n  cumulativeHeights: number[],\n  editor: IDomEditor,\n): number[] {\n  const newHeights = [...rowHeights]\n\n  // 检查边界范围\n  if (resizingRowIndex < 0 || resizingRowIndex >= rowHeights.length) {\n    return newHeights\n  }\n\n  // 获取最小高度配置\n  const { minRowHeight = 30 } = editor.getMenuConfig('insertTable') || {}\n  const minHeight = parseInt(minRowHeight.toString(), 10) || 30\n\n  // 计算当前边界的上边界位置\n  const topBoundary = resizingRowIndex === 0 ? 0 : cumulativeHeights[resizingRowIndex - 1]\n\n  // 计算鼠标位置相对于当前行上边界的偏移\n  const mouseOffset = mousePositionInTable - topBoundary\n\n  // 确保不小于最小高度\n  const newHeight = Math.max(minHeight, mouseOffset)\n\n  // 直接设置当前行的高度，其他行保持不变\n  newHeights[resizingRowIndex] = Math.floor(newHeight * 100) / 100\n\n  return newHeights\n}\n\nfunction onMouseMoveForRowHandler(event: Event) {\n  if (!isMouseDownForRowResize) { return }\n  if (editorWhenMouseDownForRow === null) { return }\n  event.preventDefault()\n\n  const { clientY } = event as MouseEvent\n  const heightChange = clientY - clientYWhenMouseDown\n\n  const [[elemNode]] = Editor.nodes(editorWhenMouseDownForRow, {\n    match: isOfType(editorWhenMouseDownForRow, 'table'),\n  })\n  const { children: tableRows, resizingRowIndex = -1 } = elemNode as TableElement\n\n  // 从实际行元素获取高度\n  const rowHeights = tableRows.map(row => (row as TableRowElement).height || 30)\n\n  let adjustRowHeights: number[]\n  const tableNode = DomEditor.getSelectedNodeByType(editorWhenMouseDownForRow, 'table') as TableElement\n  const tableDom = DomEditor.toDOMNode(editorWhenMouseDownForRow, tableNode)\n\n  const tableElement = tableDom.querySelector('.table')\n\n  if (tableElement) {\n    const tableRect = tableElement.getBoundingClientRect()\n    const mousePositionInTable = clientY - tableRect.top\n\n    // 计算边界的新位置\n    const cumulativeHeights = getCumulativeHeights(rowHeights)\n    const newBorderPosition = mousePositionInTable\n\n    // 根据新的边界位置计算行高度\n    adjustRowHeights = calculateRowHeightsByBorderPosition(rowHeights, resizingRowIndex, newBorderPosition, cumulativeHeights, editorWhenMouseDownForRow)\n  } else {\n    // 如果找不到表格元素，则使用简单的高度变化逻辑\n    adjustRowHeights = calculateRowHeights(rowHeights, resizingRowIndex, heightChange, editorWhenMouseDownForRow)\n  }\n\n  // 直接更新对应行元素的高度\n  const currentTableNode = DomEditor.getSelectedNodeByType(editorWhenMouseDownForRow, 'table') as TableElement\n\n  if (currentTableNode && resizingRowIndex >= 0 && resizingRowIndex < adjustRowHeights.length) {\n    const tablePath = DomEditor.findPath(editorWhenMouseDownForRow, currentTableNode)\n    const rowPath = [...tablePath, resizingRowIndex]\n\n    try {\n      Transforms.setNodes(\n        editorWhenMouseDownForRow,\n        { height: adjustRowHeights[resizingRowIndex] } as TableRowElement,\n        { at: rowPath },\n      )\n    } catch (error) {\n      // 如果路径不存在，忽略错误\n      console.warn('更新行高度失败:', error)\n    }\n  }\n}\n\nconst onMouseMoveForRowThrottled = throttle(onMouseMoveForRowHandler, 100)\n\nfunction onMouseUpForRow(_event: Event) {\n  isMouseDownForRowResize = false\n  editorWhenMouseDownForRow = null\n  document.body.style.cursor = ''\n\n  // 解绑事件\n  $window.off('mousemove', onMouseMoveForRowThrottled)\n  $window.off('mouseup', onMouseUpForRow)\n}\n\n/**\n * 鼠标移动时，判断在哪个行边界上\n */\nexport function handleRowBorderVisible(\n  editor: IDomEditor,\n  elemNode: SlateElement,\n  e: MouseEvent,\n) {\n  if (editor.isDisabled()) { return }\n  if (isMouseDownForRowResize) { return }\n\n  const {\n    children: tableRows,\n    isHoverRowBorder,\n    resizingRowIndex,\n  } = elemNode as TableElement\n\n  const { target } = e\n\n  if (isHTMLElememt(target)) {\n    const parent = target.closest('.table')\n\n    if (parent) {\n      const { clientY: mouseY } = e\n      const rect = parent.getBoundingClientRect()\n\n      // 从实际行元素获取高度\n      const actualRowHeights = tableRows.map(row => (row as TableRowElement).height || 30)\n      const cumulativeHeights = getCumulativeHeights(actualRowHeights)\n\n      // 鼠标移动时，计算当前鼠标位置，判断在哪个行边界上\n      for (let i = 0; i < cumulativeHeights.length; i += 1) {\n        if (\n          mouseY - rect.y >= cumulativeHeights[i] - 5\n          && mouseY - rect.y < cumulativeHeights[i] + 5\n        ) {\n          // 节流，防止多次引起Transforms.setNodes重绘\n          if (resizingRowIndex === i) { return }\n          Transforms.setNodes(\n            editor,\n            { isHoverRowBorder: true, resizingRowIndex: i } as TableElement,\n            { mode: 'highest' },\n          )\n          return\n        }\n      }\n    }\n  }\n\n  // 鼠标移出时，重置\n  if (isHoverRowBorder === true) {\n    Transforms.setNodes(editor, { isHoverRowBorder: false, resizingRowIndex: -1 } as TableElement, {\n      mode: 'highest',\n    })\n  }\n}\n\n/**\n * 设置行拖拽高亮\n */\nexport function handleRowBorderHighlight(editor: IDomEditor, e: MouseEvent) {\n  if (e.type === 'mouseenter') {\n    Transforms.setNodes(editor, { isResizingRow: true } as TableElement, { mode: 'highest' })\n  } else {\n    Transforms.setNodes(editor, { isResizingRow: false } as TableElement, { mode: 'highest' })\n  }\n}\n\nexport function handleRowBorderMouseDown(editor: IDomEditor, _elemNode: SlateElement) {\n  if (isMouseDownForRowResize) { return }\n  editorWhenMouseDownForRow = editor\n}\n\nfunction onMouseDownForRow(event: Event) {\n  const elem = event.target as HTMLElement\n\n  if (elem.tagName === 'DIV' && elem.closest('.row-resizer-item')) {\n    if (editorWhenMouseDownForRow === null) { return }\n\n    // 记录必要信息\n    isMouseDownForRowResize = true\n    const { clientY } = event as MouseEvent\n\n    clientYWhenMouseDown = clientY\n    document.body.style.cursor = 'row-resize'\n    event.preventDefault()\n  }\n\n  $window.on('mousemove', onMouseMoveForRowThrottled)\n  $window.on('mouseup', onMouseUpForRow)\n}\n\n$window.on('mousedown', onMouseDownForRow)\n","/**\n * @description render elem\n * @author wangfupeng\n */\n\nimport renderTableCell from './render-cell'\nimport renderTableRow from './render-row'\nimport renderTable from './render-table'\n\nexport const renderTableConf = {\n  type: 'table',\n  renderElem: renderTable,\n}\n\nexport const renderTableRowConf = {\n  type: 'table-row',\n  renderElem: renderTableRow,\n}\n\nexport const renderTableCellConf = {\n  type: 'table-cell',\n  renderElem: renderTableCell,\n}\n","/**\n * @description render table\n * @author wangfupeng\n */\n\nimport { DomEditor, IDomEditor } from '@wangeditor-next/core'\nimport debounce from 'lodash.debounce'\nimport {\n  Editor, Element as SlateElement, Path, Point, Range,\n} from 'slate'\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { h, jsx, VNode } from 'snabbdom'\n\nimport {\n  getColumnWidthRatios,\n  handleCellBorderHighlight,\n  handleCellBorderMouseDown,\n  handleCellBorderVisible,\n  observerTableResize,\n  unObserveTableResize,\n} from '../column-resize'\nimport { TableElement, TableRowElement } from '../custom-types'\nimport {\n  handleRowBorderHighlight,\n  handleRowBorderMouseDown,\n  handleRowBorderVisible,\n} from '../row-resize'\nimport { TableCursor } from '../table-cursor'\n\n/**\n * 计算 table 是否可编辑。如果选区跨域 table 和外部内容，删除，会导致 table 结构打乱。所以，有时要让 table 不可编辑\n * @param editor editor\n * @param tableElem table elem\n */\nfunction getContentEditable(editor: IDomEditor, tableElem: SlateElement): boolean {\n  if (editor.isDisabled()) { return false }\n\n  const { selection } = editor\n\n  if (selection == null) { return true }\n  if (Range.isCollapsed(selection)) { return true }\n\n  const { anchor, focus } = selection\n  const tablePath = DomEditor.findPath(editor, tableElem)\n\n  const tableStart = Editor.start(editor, tablePath)\n  const tableEnd = Editor.end(editor, tablePath)\n  const isAnchorInTable = Point.compare(anchor, tableEnd) <= 0 && Point.compare(anchor, tableStart) >= 0\n  const isFocusInTable = Point.compare(focus, tableEnd) <= 0 && Point.compare(focus, tableStart) >= 0\n\n  // 选区在 table 内部，且选中了同一个单元格。表格可以编辑\n  if (isAnchorInTable && isFocusInTable) {\n    if (Path.equals(anchor.path.slice(0, 3), focus.path.slice(0, 3))) {\n      return true\n    }\n  }\n\n  return false\n}\n\nfunction renderTable(elemNode: SlateElement, children: VNode[] | null, editor: IDomEditor): VNode {\n  // 是否可编辑\n  const editable = getContentEditable(editor, elemNode)\n\n  // 宽度和高度\n  const {\n    width: tableWidth = 'auto',\n    height,\n    columnWidths = [],\n    scrollWidth = 0,\n    isHoverCellBorder,\n    resizingIndex,\n    isResizing,\n    isHoverRowBorder,\n    resizingRowIndex,\n    isResizingRow,\n  } = elemNode as TableElement\n\n  // 光标是否选中\n  const selected = DomEditor.isNodeSelected(editor, elemNode)\n  // 光标是否有选区\n  const [isSelecting] = TableCursor.selection(editor)\n  // 列宽之间比值\n  const columnWidthRatios = getColumnWidthRatios(columnWidths)\n\n  const vnode = (\n    <div\n      className=\"table-container\"\n      data-selected={selected}\n      on={{\n        mousedown: (e: MouseEvent) => {\n          // @ts-ignore 阻止光标定位到 table 后面\n          if (e.target.tagName === 'DIV') { e.preventDefault() }\n\n          if (editor.isDisabled()) { return }\n\n          // @ts-ignore 如果用户行为是获取焦点输入文本时，需释放选区\n          if (e.target.closest('[data-block-type=\"table-cell\"]')) {\n            TableCursor.unselect(editor)\n          }\n\n          // 是否需要定位到 table 内部\n          const tablePath = DomEditor.findPath(editor, elemNode)\n          const tableStart = Editor.start(editor, tablePath)\n          const { selection } = editor\n\n          if (selection == null) {\n            editor.select(tableStart) // 选中 table 内部\n            return\n          }\n          const { path } = selection.anchor\n\n          if (path[0] === tablePath[0]) { return } // 当前选区，就在 table 内部\n          // @ts-ignore\n          if (e.target.tagName === 'DIV') {\n            editor.select(tableStart)\n          } // 选中 table 内部\n        },\n      }}\n    >\n      <table\n        width={tableWidth}\n        contentEditable={editable}\n        /**\n         * 1. 当表格处于选区状态，屏蔽 Chrome 自带的样式\n         * 2. table 宽度为 auto 时，宽度为 列宽之和\n         * 3. 鼠标移动到 单元格 边缘，设置 visible className\n         */\n        className={`table ${isSelecting ? 'table-selection-none' : ''}`}\n        style={{\n          width: tableWidth === '100%' ? tableWidth : `${columnWidths.reduce((a, b) => a + b, 0)}px`,\n        }}\n        on={{\n          mousemove: debounce(\n            (e: MouseEvent) => {\n              handleCellBorderVisible(editor, elemNode, e, scrollWidth)\n              handleRowBorderVisible(editor, elemNode, e)\n            },\n            25,\n          ),\n        }}\n      >\n        <colgroup contentEditable={false}>\n          {\n            /**\n             * 剔除 firstRowCells，因单元格合并 表头 th，会计算错误。\n             * 使用 columnWidth 数组长度代表列数\n             * 拖动行为及变量设置均参考 飞书\n             */\n            columnWidths.map(width => {\n              return <col width={width}></col>\n            })\n          }\n        </colgroup>\n        <tbody>{children}</tbody>\n      </table>\n\n      <div className=\"column-resizer\" contentEditable={false}>\n        {columnWidths.map((width, index) => {\n          let minWidth = width\n          /**\n           * table width 为 100% 模式时\n           * columnWidths 表示的是比例\n           * 1. 需要计算出真实的宽度\n           */\n\n          if (tableWidth === '100%') {\n            minWidth = columnWidthRatios[index] * scrollWidth\n          }\n\n          return (\n            <div className=\"column-resizer-item\" style={{ minWidth: `${minWidth}px` }}>\n              <div\n                className={\n                  `resizer-line-hotzone ${\n                    isHoverCellBorder && index === resizingIndex ? 'visible ' : ''\n                  }${isResizing && index === resizingIndex ? 'highlight' : ''}`\n                }\n                style={{ height: `${height}px` }}\n                on={{\n                  mouseenter: (e: MouseEvent) => handleCellBorderHighlight(editor, e),\n                  mouseleave: (e: MouseEvent) => handleCellBorderHighlight(editor, e),\n                  mousedown: (_e: MouseEvent) => handleCellBorderMouseDown(editor, elemNode),\n                }}\n              >\n                <div className=\"resizer-line\"></div>\n              </div>\n            </div>\n          )\n        })}\n      </div>\n\n      <div className=\"row-resizer\" contentEditable={false}>\n        {(elemNode as TableElement).children.map((rowNode, index) => {\n          const totalTableWidth = columnWidths.reduce((a, b) => a + b, 0)\n          const rowHeight = (rowNode as TableRowElement).height || 30\n\n          return (\n            <div className=\"row-resizer-item\" style={{ minHeight: `${rowHeight}px` }}>\n              <div\n                className={\n                  `resizer-line-hotzone-horizontal ${\n                    isHoverRowBorder && index === resizingRowIndex ? 'visible ' : ''\n                  }${isResizingRow && index === resizingRowIndex ? 'highlight' : ''}`\n                }\n                style={{ width: `${totalTableWidth}px` }}\n                on={{\n                  mouseenter: (e: MouseEvent) => handleRowBorderHighlight(editor, e),\n                  mouseleave: (e: MouseEvent) => handleRowBorderHighlight(editor, e),\n                  mousedown: (_e: MouseEvent) => handleRowBorderMouseDown(editor, elemNode),\n                }}\n              >\n                <div className=\"resizer-line-horizontal\"></div>\n              </div>\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n\n  /**\n   * 移出直接返回 vnode\n   * 添加 ObserverResize 监听行为\n   * 监听 table 内部变化，更新 table resize-bar 高度\n   */\n  const containerVnode = h(\n    'div',\n    {\n      hook: {\n        insert: ({ elm }: VNode) => observerTableResize(editor, elm),\n        destroy: () => {\n          unObserveTableResize()\n        },\n      },\n    },\n    vnode,\n  )\n\n  return containerVnode\n}\n\nexport default renderTable\n","/**\n * @description render row\n * @author wangfupeng\n */\n\nimport { IDomEditor } from '@wangeditor-next/core'\nimport { Element as SlateElement } from 'slate'\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { jsx, VNode } from 'snabbdom'\n\nimport { TableRowElement } from '../custom-types'\n\nfunction renderTableRow(\n  elemNode: SlateElement,\n  children: VNode[] | null,\n  _editor: IDomEditor,\n): VNode {\n  const { height } = elemNode as TableRowElement\n\n  const vnode = (\n    <tr style={height ? { height: `${height}px` } : {}}>\n      {children}\n    </tr>\n  )\n\n  return vnode\n}\n\nexport default renderTableRow\n","/**\n * @description render cell\n * @author wangfupeng\n */\n\nimport { IDomEditor } from '@wangeditor-next/core'\nimport { Element as SlateElement } from 'slate'\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { jsx, VNode } from 'snabbdom'\n\nimport { TableCellElement } from '../custom-types'\nimport { isCellInFirstRow } from '../helpers'\nimport { TableCursor } from '../table-cursor'\n\nfunction renderTableCell(\n  cellNode: SlateElement,\n  children: VNode[] | null,\n  editor: IDomEditor,\n): VNode {\n  const isFirstRow = isCellInFirstRow(editor, cellNode as TableCellElement)\n  const {\n    colSpan = 1,\n    rowSpan = 1,\n    isHeader = false,\n    hidden = false,\n  } = cellNode as TableCellElement\n  const selected = TableCursor.isSelected(editor, cellNode)\n\n  // ------------------ 不是第一行，直接渲染 <td> ------------------\n  if (!isFirstRow) {\n    return (\n      <td\n        colSpan={colSpan}\n        rowSpan={rowSpan}\n        /**\n         * 1. 添加一个方便寻址的 block-type\n         * 2. 选区颜色\n         * 3. 合并单元格时，判断隐藏\n         */\n        data-block-type=\"table-cell\"\n        className={selected ? 'w-e-selected' : ''}\n        style={{ display: hidden ? 'none' : '' }}\n      >\n        {children}\n      </td>\n    )\n  }\n\n  // ------------------ 是第一行：1. 判断 th ；2. 拖拽列宽 ------------------\n  const Tag = isHeader ? 'th' : 'td'\n\n  const vnode = (\n    <Tag\n      colSpan={colSpan}\n      rowSpan={rowSpan}\n      /**\n       * 1. 添加一个方便寻址的 block-type\n       * 2. 选区颜色\n       * 3. 合并单元格时，判断隐藏\n       */\n      data-block-type=\"table-cell\"\n      className={selected ? 'w-e-selected' : ''}\n      style={{ display: hidden ? 'none' : '' }}\n    >\n      {children}\n    </Tag>\n  )\n\n  return vnode\n}\n\nexport default renderTableCell\n","/**\n * @description vdom utils fn\n * @author wangfupeng\n */\n\nimport { VNode, VNodeStyle } from 'snabbdom'\n\n// /**\n//  * 给 vnode 添加 dataset\n//  * @param vnode vnode\n//  * @param newDataset { key: val }\n//  */\n// export function addVnodeDataset(vnode: VNode, newDataset: Dataset) {\n//   if (vnode.data == null) vnode.data = {}\n//   const data = vnode.data\n//   if (data.dataset == null) data.dataset = {}\n\n//   Object.assign(data.dataset, newDataset)\n// }\n\n/**\n * 给 vnode 添加样式\n * @param vnode vnode\n * @param newStyle { key: val }\n */\nexport function addVnodeStyle(vnode: VNode, newStyle: VNodeStyle) {\n  if (vnode.data == null) { vnode.data = {} }\n  const data = vnode.data\n\n  if (data.style == null) { data.style = {} }\n\n  Object.assign(data.style, newStyle)\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, arity: 2, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar call = require('../internals/function-call');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\nvar concat = uncurryThis([].concat);\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol('assign detection');\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  // eslint-disable-next-line es/no-array-prototype-foreach -- safe\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] !== 7 || objectKeys($assign({}, B)).join('') !== alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || call(propertyIsEnumerable, S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","/**\n * @description table module\n * @author wangfupeng\n */\n\nimport { IModuleConf } from '@wangeditor-next/core'\n\nimport { tableCellToHtmlConf, tableRowToHtmlConf, tableToHtmlConf } from './elem-to-html'\nimport {\n  deleteTableColConf,\n  deleteTableMenuConf,\n  deleteTableRowConf,\n  insertTableColConf,\n  insertTableMenuConf,\n  insertTableRowConf,\n  mergeTableCellConf,\n  setTableCellPropertyConf,\n  setTablePropertyConf,\n  splitTableCellConf,\n  tableFullWidthMenuConf,\n  tableHeaderMenuConf,\n} from './menu/index'\nimport { parseCellHtmlConf, parseRowHtmlConf, parseTableHtmlConf } from './parse-elem-html'\nimport { parseStyleHtml } from './parse-style-html'\nimport withTable from './plugin'\nimport { preParseTableHtmlConf } from './pre-parse-html'\nimport { renderTableCellConf, renderTableConf, renderTableRowConf } from './render-elem/index'\nimport { renderStyle } from './render-style'\nimport { styleToHtml } from './style-to-html'\n\nconst table: Partial<IModuleConf> = {\n  renderStyle,\n  styleToHtml,\n  parseStyleHtml,\n  renderElems: [renderTableConf, renderTableRowConf, renderTableCellConf],\n  elemsToHtml: [tableToHtmlConf, tableRowToHtmlConf, tableCellToHtmlConf],\n  preParseHtml: [preParseTableHtmlConf],\n  parseElemsHtml: [parseCellHtmlConf, parseRowHtmlConf, parseTableHtmlConf],\n  menus: [\n    insertTableMenuConf,\n    deleteTableMenuConf,\n    insertTableRowConf,\n    deleteTableRowConf,\n    insertTableColConf,\n    deleteTableColConf,\n    tableHeaderMenuConf,\n    tableFullWidthMenuConf,\n    mergeTableCellConf,\n    splitTableCellConf,\n    setTablePropertyConf,\n    setTableCellPropertyConf,\n  ],\n  editorPlugin: withTable,\n}\n\nexport default table\n","import { Descendant, Element } from 'slate'\nimport { VNode } from 'snabbdom'\n\nimport { addVnodeStyle } from '../utils/vdom'\nimport { TableCellElement, TableCellProperty } from './custom-types'\n\n/**\n * 添加样式\n * @param node slate elem\n * @param vnode vnode\n * @returns vnode\n */\nexport function renderStyle(node: Descendant, vnode: VNode): VNode {\n  if (!Element.isElement(node)) { return vnode }\n\n  const {\n    backgroundColor, borderWidth, borderStyle, borderColor, textAlign,\n  } = node as TableCellElement\n\n  const props: TableCellProperty = {}\n\n  if (backgroundColor) { props.backgroundColor = backgroundColor }\n  if (borderWidth) { props.borderWidth = `${borderWidth}px` }\n  if (borderStyle) { props.borderStyle = borderStyle === 'none' ? '' : borderStyle }\n  if (borderColor) { props.borderColor = borderColor }\n  if (textAlign) { props.textAlign = textAlign }\n\n  const styleVnode: VNode = vnode\n\n  if (node.type === 'table') {\n    addVnodeStyle((styleVnode.children?.[0] as VNode).children?.[0] as VNode, props)\n  } else {\n    addVnodeStyle(styleVnode, props)\n  }\n  return styleVnode\n}\n","/**\n * @description style to html\n * @author hsuna\n */\n\nimport $, { getOuterHTML } from '../utils/dom'\n\nexport function styleToHtml(node, elemHtml) {\n  if (node.type !== 'table' && node.type !== 'table-cell') { return elemHtml }\n\n  const {\n    backgroundColor, borderWidth, borderStyle, borderColor, textAlign,\n  } = node\n\n  if (!(backgroundColor || borderWidth || borderStyle || borderColor || textAlign)) { return elemHtml }\n\n  // 设置样式\n  const $elem = $(elemHtml)\n\n  if (backgroundColor) { $elem.css('background-color', backgroundColor) }\n  if (borderWidth) { $elem.css('border-width', `${borderWidth}px`) }\n  if (borderStyle) { $elem.css('border-style', borderStyle === 'none' ? '' : borderStyle) }\n  if (borderColor) { $elem.css('border-color', borderColor) }\n  if (textAlign) { $elem.css('text-align', textAlign) }\n\n  // 输出 html\n  return getOuterHTML($elem)\n}\n","import {\n  Editor, Element, Operation, Path, Range,\n} from 'slate'\n\nimport {\n  filledMatrix, hasCommon, NodeEntryWithContext, Point,\n} from '../utils'\nimport { TableCursor } from './table-cursor'\nimport { EDITOR_TO_SELECTION, EDITOR_TO_SELECTION_SET } from './weak-maps'\n\nexport function withSelection<T extends Editor>(editor: T) {\n  const { apply } = editor\n\n  editor.apply = (op: Operation): void => {\n    if (!Operation.isSelectionOperation(op) || !op.newProperties) {\n      // TableCursor.unselect(editor);\n      // 仿飞书效果，拖动单元格宽度时，选区不消失\n      return apply(op)\n    }\n\n    const selection = {\n      ...editor.selection,\n      ...op.newProperties,\n    }\n\n    if (!Range.isRange(selection)) {\n      TableCursor.unselect(editor)\n      return apply(op)\n    }\n\n    const isTableCell = (n: unknown) => {\n      return Element.isElement(n)\n    && (n.type === 'table-cell'\n     || n.type === 'th'\n     || n.type === 'td')\n    }\n\n    const [fromEntry] = Editor.nodes(editor, {\n      match: isTableCell,\n      at: Range.start(selection),\n      mode: 'lowest', // 确保找到最低层的匹配节点\n    })\n\n    const [toEntry] = Editor.nodes(editor, {\n      match: isTableCell,\n      at: Range.end(selection),\n      mode: 'lowest', // 确保找到最低层的匹配节点\n    })\n\n    if (!fromEntry || !toEntry) {\n      TableCursor.unselect(editor)\n      return apply(op)\n    }\n\n    const [, fromPath] = fromEntry\n    const [, toPath] = toEntry\n\n    if (Path.equals(fromPath, toPath) || !hasCommon(editor, [fromPath, toPath], 'table')) {\n      TableCursor.unselect(editor)\n      return apply(op)\n    }\n\n    // TODO: perf: could be improved by passing a Span [fromPath, toPath]\n    try {\n      const filled = filledMatrix(editor, { at: fromPath })\n\n      // 基本的有效性检查\n      if (!filled || filled.length === 0) {\n        TableCursor.unselect(editor)\n        return apply(op)\n      }\n\n      // find initial bounds\n      const from = Point.valueOf(0, 0)\n      const to = Point.valueOf(0, 0)\n      let fromFound = false\n      let toFound = false\n\n      for (let x = 0; x < filled.length; x += 1) {\n        if (!filled[x]) { continue } // 跳过空行\n\n        for (let y = 0; y < filled[x].length; y += 1) {\n          if (!filled[x][y]) { continue } // 跳过空单元格\n\n          const [[, path]] = filled[x][y]\n\n          if (Path.equals(fromPath, path)) {\n            from.x = x\n            from.y = y\n            fromFound = true\n          }\n\n          if (Path.equals(toPath, path)) {\n            to.x = x\n            to.y = y\n            toFound = true\n          }\n        }\n      }\n\n      // 如果找不到位置，可能是选择了被删除的单元格区域\n      if (!fromFound || !toFound) {\n        TableCursor.unselect(editor)\n        return apply(op)\n      }\n\n      let start = Point.valueOf(Math.min(from.x, to.x), Math.min(from.y, to.y))\n      let end = Point.valueOf(Math.max(from.x, to.x), Math.max(from.y, to.y))\n\n      // expand the selection based on rowspan and colspan\n      for (;;) {\n        const nextStart = Point.valueOf(start.x, start.y)\n        const nextEnd = Point.valueOf(end.x, end.y)\n\n        for (let x = nextStart.x; x <= nextEnd.x && x < filled.length; x += 1) {\n          if (!filled[x]) { continue }\n\n          for (let y = nextStart.y; y <= nextEnd.y && y < filled[x].length; y += 1) {\n            if (!filled[x][y]) { continue }\n\n            const [, context] = filled[x][y]\n\n            if (!context) { continue }\n\n            const {\n              rtl, ltr, btt, ttb,\n            } = context\n\n            nextStart.x = Math.min(nextStart.x, x - (ttb - 1))\n            nextStart.y = Math.min(nextStart.y, y - (rtl - 1))\n\n            nextEnd.x = Math.max(nextEnd.x, x + (btt - 1))\n            nextEnd.y = Math.max(nextEnd.y, y + (ltr - 1))\n          }\n        }\n\n        if (Point.equals(start, nextStart) && Point.equals(end, nextEnd)) {\n          break\n        }\n\n        start = nextStart\n        end = nextEnd\n      }\n\n      const selected: NodeEntryWithContext[][] = []\n      const selectedSet = new WeakSet<Element>()\n\n      for (let x = start.x; x <= end.x && x < filled.length; x += 1) {\n        if (!filled[x]) { continue }\n\n        const cells: NodeEntryWithContext[] = []\n\n        for (let y = start.y; y <= end.y && y < filled[x].length; y += 1) {\n          if (!filled[x][y]) { continue }\n\n          const [[element]] = filled[x][y]\n\n          if (!element) { continue }\n\n          selectedSet.add(element)\n          cells.push(filled[x][y])\n        }\n\n        if (cells.length > 0) {\n          selected.push(cells)\n        }\n      }\n\n      EDITOR_TO_SELECTION.set(editor, selected)\n      EDITOR_TO_SELECTION_SET.set(editor, selectedSet)\n\n    } catch (error) {\n      TableCursor.unselect(editor)\n      return apply(op)\n    }\n\n    apply(op)\n  }\n\n  return editor\n}\n"],"names":["i18nAddResources","tableModule","modal","border","borderWidth","bgColor","align","ok","color","default","clear","borderStyle","none","solid","dotted","dashed","double","groove","ridge","inset","outset","deleteCol","deleteRow","deleteTable","widthAuto","insertCol","insertRow","insertTable","header","mergeCell","splitCell","tableProperty","cellProperty","check","it","Math","globalThis_1","globalThis","window","self","global","this","Function","fails","exec","error","require$$0","descriptors","Object","defineProperty","get","functionBindNative","test","bind","hasOwnProperty","NATIVE_BIND","call","prototype","functionCall","apply","arguments","$propertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","NASHORN_BUG","objectPropertyIsEnumerable","f","V","descriptor","enumerable","createPropertyDescriptor","bitmap","value","configurable","writable","FunctionPrototype","uncurryThisWithBind","functionUncurryThis","fn","uncurryThis","toString","stringSlice","slice","classofRaw","require$$1","classof","require$$2","$Object","split","indexedObject","isNullOrUndefined","$TypeError","TypeError","requireObjectCoercible","IndexedObject","toIndexedObject","documentAll","document","all","isCallable","undefined","argument","isObject","getBuiltIn","namespace","method","length","objectIsPrototypeOf","isPrototypeOf","navigator","userAgent","environmentUserAgent","String","match","version","process","Deno","versions","v8","environmentV8Version","V8_VERSION","$String","symbolConstructorDetection","getOwnPropertySymbols","symbol","Symbol","sham","NATIVE_SYMBOL","useSymbolAsUid","iterator","USE_SYMBOL_AS_UID","require$$3","isSymbol","$Symbol","tryToString","aCallable","getMethod","P","func","ordinaryToPrimitive","input","pref","val","valueOf","isPure","defineGlobalProperty","key","IS_PURE","SHARED","store","sharedStoreModule","exports","push","mode","copyright","license","source","shared","toObject","hasOwnProperty_1","hasOwn","id","postfix","random","uid","require$$4","require$$5","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","wellKnownSymbol","name","TO_PRIMITIVE","toPrimitive","result","exoticToPrim","toPropertyKey","EXISTS","createElement","documentCreateElement","DESCRIPTORS","ie8DomDefine","a","propertyIsEnumerableModule","require$$6","IE8_DOM_DEFINE","require$$7","$getOwnPropertyDescriptor","objectGetOwnPropertyDescriptor","O","v8PrototypeDefineBug","anObject","V8_PROTOTYPE_DEFINE_BUG","$defineProperty","ENUMERABLE","CONFIGURABLE","WRITABLE","objectDefineProperty","Attributes","current","definePropertyModule","createNonEnumerableProperty","object","getDescriptor","PROPER","functionName","functionToString","inspectSource","WeakMap","weakMapBasicDetection","keys","sharedKey","hiddenKeys","set","has","NATIVE_WEAK_MAP","OBJECT_ALREADY_INITIALIZED","state","metadata","facade","STATE","internalState","enforce","getterFor","TYPE","type","CONFIGURABLE_FUNCTION_NAME","InternalStateModule","enforceInternalState","getInternalState","replace","join","CONFIGURABLE_LENGTH","TEMPLATE","makeBuiltIn","makeBuiltInModule","options","getter","setter","arity","constructor","defineBuiltIn","simple","unsafe","nonConfigurable","nonWritable","trunc","ceil","floor","mathTrunc","x","n","toIntegerOrInfinity","number","max","min","toAbsoluteIndex","index","integer","toLength","len","lengthOfArrayLike","obj","createMethod","IS_INCLUDES","$this","el","fromIndex","arrayIncludes","includes","indexOf","objectKeysInternal","names","i","enumBugKeys","internalObjectKeys","concat","objectGetOwnPropertyNames","getOwnPropertyNames","objectGetOwnPropertySymbols","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","ownKeys","getOwnPropertyDescriptorModule","copyConstructorProperties","target","exceptions","replacement","isForced","feature","detection","data","normalize","POLYFILL","NATIVE","string","toLowerCase","isForced_1","_export","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","dontCallGetSet","forced","isArray","Array","doesNotExceedSafeInteger","createProperty","toStringTagSupport","TO_STRING_TAG_SUPPORT","TO_STRING_TAG","CORRECT_ARGUMENTS","tag","tryGet","callee","noop","construct","constructorRegExp","INCORRECT_TO_STRING","isConstructorModern","isConstructorLegacy","isConstructor","called","SPECIES","$Array","arraySpeciesConstructor","originalArray","C","arraySpeciesCreate","arrayMethodHasSpeciesSupport","METHOD_NAME","array","foo","Boolean","$","require$$8","require$$9","require$$10","require$$11","IS_CONCAT_SPREADABLE","IS_CONCAT_SPREADABLE_SUPPORT","isConcatSpreadable","spreadable","proto","arg","k","E","A","arrayMethodIsStrict","nativeJoin","separator","functionUncurryThisClause","functionBindContext","that","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_REJECT","NO_HOLES","callbackfn","specificCreate","boundFunction","create","arrayIteration","forEach","map","filter","some","every","find","findIndex","filterReject","$map","objectToString","tableToHtmlConf","elemToHtml","elemNode","childrenHtml","_a","_b","width","columnWidths","_c","height","cols","colWidth","colgroupStr","tableRowToHtmlConf","elem","heightStyle","tableCellToHtmlConf","cellNode","colSpan","rowSpan","_d","isHeader","_e","_f","hidden","CLEAN_SVG","objectKeys","html","activeXDocument","definePropertiesModule","objectDefineProperties","defineProperties","Properties","props","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObject","ActiveXObject","iframeDocument","iframe","JS","domain","style","display","appendChild","src","contentWindow","open","F","objectCreate","UNSCOPABLES","ArrayPrototype","addToUnscopables","$includes","isRegExp","MATCH","isRegexp","notARegexp","notARegExp","correctIsRegExpLogic","correctIsRegexpLogic","regexp","error1","error2","stringIndexOf","searchString","DEFAULT_WITH_TABLE_OPTIONS","blocks","td","th","tr","table","tbody","isOfType","editor","types","_i","elementTypes","node","Editor","isEditor","Element","isElement","hasCommon","__read","path","another","Node","common","commonPath","__spreadArray","above","at","filledMatrix","filled","__values","nodes","tablePath","next","matrix","_g","done","_h","trPath","_l","sent","matrices","filledSection","maxCols","y","startCol","c","r","targetX","targetY","rtl","ltr","ttb","btt","Point","equals","point","$find","FIND","SKIPS_HOLES","iteratorClose","kind","innerResult","innerError","callWithSafeIterationClosing","ENTRIES","iterators","Iterators","ITERATOR","isArrayIteratorMethod","getIteratorMethod","getIterator","usingIterator","iteratorMethod","SAFE_CLOSING","iteratorWithReturn","return","from","checkCorrectnessOfIteration","SKIP_CLOSING","ITERATION_SUPPORT","arrayFrom","arrayLike","IS_CONSTRUCTOR","argumentsLength","mapfn","mapping","step","iterable","regexpFlags","hasIndices","ignoreCase","multiline","dotAll","unicode","unicodeSets","sticky","$RegExp","RegExp","UNSUPPORTED_Y","re","lastIndex","MISSED_STICKY","BROKEN_CARET","regexpStickyHelpers","re1","re2","stickyHelpers","UNSUPPORTED_DOT_ALL","regexpUnsupportedDotAll","flags","UNSUPPORTED_NCG","regexpUnsupportedNcg","groups","nativeReplace","nativeExec","patchedExec","charAt","UPDATES_LAST_INDEX_WRONG","NPCG_INCLUDED","reCopy","group","str","raw","charsAdded","strCopy","regexpExec","charCodeAt","CONVERT_TO_STRING","pos","first","second","S","position","size","stringMultibyte","codeAt","CORRECT_PROTOTYPE_GETTER","correctPrototypeGetter","getPrototypeOf","ObjectPrototype","objectGetPrototypeOf","IteratorPrototype","PrototypeOfArrayIteratorPrototype","arrayIterator","BUGGY_SAFARI_ITERATORS","iteratorsCore","setToStringTag","TAG","isPossiblePrototype","aPossiblePrototype","uncurryThisAccessor","functionUncurryThisAccessor","objectSetPrototypeOf","setPrototypeOf","CORRECT_SETTER","__proto__","FunctionName","createIteratorConstructor","returnThis","iteratorCreateConstructor","IteratorConstructor","NAME","ENUMERABLE_NEXT","require$$12","IteratorsCore","require$$13","PROPER_FUNCTION_NAME","KEYS","VALUES","iteratorDefine","Iterable","DEFAULT","IS_SET","FORCED","CurrentIteratorPrototype","methods","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","values","createIterResultObject","defineIterator","STRING_ITERATOR","setInternalState","iterated","domIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","classList","DOMTokenListPrototype","domTokenListPrototype","DOMIterables","$forEach","STRICT_METHOD","arrayForEach","handlePrototype","CollectionPrototype","COLLECTION_NAME","whitespaces","ltrim","rtrim","stringTrim","start","end","trim","$trim","forcedStringTrimMethod","stringTrimForced","getTagName","$elem","tagName","getStyleValue","styleKey","res","styleArr","attr","styleItemStr","arr","ARRAY_ITERATOR","es_array_iterator","Arguments","append","on","focus","dataset","addClass","removeClass","children","each","hide","show","freezing","isExtensible","preventExtensions","defineBuiltIns","arraySlice","$getOwnPropertyNames","windowNames","objectGetOwnPropertyNamesExternal","getWindowNames","ARRAY_BUFFER_NON_EXTENSIBLE","arrayBufferNonExtensible","ArrayBuffer","buffer","$isExtensible","FAILS_ON_PRIMITIVES","objectIsExtensible","getOwnPropertyNamesExternalModule","FREEZING","REQUIRED","METADATA","setMetadata","objectID","weakData","meta","internalMetadataModule","enable","splice","fastKey","getWeakData","onFreeze","Result","stopped","ResultPrototype","iterate","unboundFunction","iterFn","AS_ENTRIES","IS_RECORD","IS_ITERATOR","INTERRUPTED","stop","condition","callFn","anInstance","Prototype","inheritIfRequired","dummy","Wrapper","NewTarget","NewTargetPrototype","InternalMetadataModule","require$$14","collection","CONSTRUCTOR_NAME","wrapper","IS_WEAK","ADDER","NativeConstructor","NativePrototype","Constructor","exported","fixMethod","uncurriedNativeMethod","getConstructor","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","setStrong","ArrayIterationModule","internalStateGetterFor","uncaughtFrozenStore","frozen","UncaughtFrozenStore","findUncaughtFrozen","entry","delete","collectionWeak","define","add","InternalWeakMap","isFrozen","isSealed","freeze","seal","IS_IE11","init","$WeakMap","WeakMapPrototype","nativeSet","nativeDelete","nativeHas","nativeGet","frozenArray","arrayIntegrityLevel","ArrayIteratorMethods","ArrayValues","EDITOR_TO_SELECTION","EDITOR_TO_SELECTION_SET","TableProperty","title","t","iconSvg","showModal","modalWidth","menu","label","textAlignOptions","svg","getValue","_editor","isActive","isDisabled","DomEditor","getSelectedNodeByType","_value","getModalContentNode","getModalPositionNode","getModalContentElem","_this","$content","item","setSelectedColor","css","empty","selectedColor","$panel","getPanelContentElem","mark","callback","reduce","selection","row","cell","Transforms","setNodes","setTimeout","$colorPanel","e","preventDefault","stopPropagation","getMenuConfig","colors","$block","$li","clearText","$clearLi","prepend","CellProperty","_super","__extends","deletePropertyOrThrow","internalSort","sort","comparefn","element","j","middle","left","right","llength","rlength","lindex","rindex","arraySort","FF","firefox","environmentFfVersion","IE_OR_EDGE","UA","environmentIsIeOrEdge","V8","WEBKIT","webkit","environmentWebkitVersion","nativeSort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","STABLE_SORT","code","chr","fromCharCode","v","b","itemsLength","items","arrayLength","getSortCompare","setArrayLength","SILENT_ON_NON_WRITABLE_LENGTH_SET","arraySetLength","HAS_SPECIES_SUPPORT","deleteCount","insertCount","actualDeleteCount","to","actualStart","thisNumberValue","require$$15","require$$16","require$$17","NUMBER","NativeNumber","PureNumberNamespace","NumberPrototype","toNumber","third","radix","maxCode","digits","NaN","parseInt","NumberWrapper","primValue","toNumeric","wrap","Number","defineBuiltInAccessor","setSpecies","collectionStrong","last","previous","getEntry","removed","prev","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","DeleteCol","Range","isCollapsed","checkNodeType","universal","selectedCellNode","selectedCellPath","rowNode","getParentNode","colLength","removeNodes","tdIndex","out","Path","withoutNormalizing","cellsToDelete","Set","processedMergedCells","cellPath","cellPathKey","realCellRow","realCellCol","realCellElement","realCellPath","realCellPathKey","newColSpan","cellsToDeleteArray","pathA","pathB","cellsToDeleteArray_1","cellsToDeleteArray_1_1","hasPath","console","warn","tableEntry","_k","adjustColumnWidths","DeleteRow","rowPath","tableNode","trIndex","outer","cellsToInsert","originalRowIndex","originalCell","typedOriginalCell","newCell","child","backgroundColor","borderColor","textAlign","columnIndex","targetRowPath","cellsToInsert_1","cellsToInsert_1_1","_j","insertPath","insertNodes","cellCount","endPath","fallbackError","DeleteTable","TableFullWidth","containerElement","toDOMNode","querySelector","containerWidth","clientWidth","currentTotalWidth","adjustedColumnWidths","ratio","minWidth","adjustedWithMinWidth","adjustedTotalWidth","scaleFactor_1","finalColumnWidths","remainingWidth","getFirstRowCells","rows","isTableWithHeader","InsertCol","cellEntry","currentColWidth","skipInsertForRows","text","_m","_o","halfWidth","regExpFlagsDetection","FLAGS_GETTER_IS_CORRECT","INDICES_SUPPORT","calls","expected","addGetter","pairs","regexpFlagsDetection","correct","regExpFlagsGetterImplementation","RegExpPrototype","regexpGetFlags","$toString","getRegExpFlags","TO_STRING","nativeToString","NOT_GENERIC","INCORRECT_NAME","R","InsertRow","cellsLength","destIndex","isWithinBounds","exitMerge","minRowHeight","newRow","parent","newRowPath","fill","arrayFill","endPos","InsertTable","showDropPanel","getSelectedElems","getNodeType","isVoid","$info","$table","$tr","$td","focusX","focusY","innerHTML","$newTd","rowNumStr","colNumStr","rowNum","colNum","isSelectedEmptyParagraph","tableFullWidth","tableHeader","cells","selected","genTableNode","TableCursor","isInTable","unselect","isSelected","selectedElements","MergeCell","canMerge","merge","lastPath","basePath","reverse","realCells","Map","minRow","Infinity","maxRow","minCol","maxCol","pathKey","cellMinRow","cellMaxRow","cellMinCol","cellMaxCol","finalRowSpan","finalColSpan","realCells_1","realCells_1_1","cellsToDelete_1","cellsToDelete_1_1","childPath","moveNodes","nativeSlice","fin","fixRegexpWellKnownSymbolLogic","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","arg2","forceStringMethod","$exec","aConstructor","speciesConstructor","defaultConstructor","advanceStringIndex","regexpExecAbstract","fixRegExpWellKnownSymbolLogic","regExpExec","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","BUGGY","SPLIT","nativeSplit","maybeCallNative","internalSplit","limit","splitter","rx","unicodeMatching","lim","p","q","z","SplitCell","hasHeader","selectedCell","currentRowPath","insertIndex","cellsCount","fallbackPath","Error","message","targetRowIndex","targetRow","currentCellsCount","insertError","updatedCellsCount","finalError","rowError","TableHeader","newValue","findPath","insertTableMenuConf","factory","deleteTableMenuConf","insertTableRowConf","deleteTableRowConf","insertTableColConf","deleteTableColConf","tableHeaderMenuConf","TableHander","tableFullWidthMenuConf","FullWidth","mergeTableCellConf","splitTableCellConf","setTablePropertyConf","setTableCellPropertyConf","$filter","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","getSubstitution","matched","captures","namedCaptures","tailPos","m","symbols","ch","capture","functionApply","Reflect","REPLACE","maybeToString","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","_","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","fullUnicode","results","accumulatedResult","nextSourcePosition","replacerArgs","parseCellHtmlConf","selector","parseElemHtml","Text","isText","isInline","parseRowHtmlConf","tableCellChildren","tableCell","parseTableHtmlConf","tableWidth","tableELement","tdList","colgroupElments","col","getAttribute","columnWidths_1","DEFAULT_BORDER_COLOR","getComputedStyle","documentElement","getPropertyValue","createHTML","quot","createHtml","attribute","p1","forcedStringHTMLMethod","stringHtmlForced","anchor","deleteHandler","newEditor","cellNodeEntry","isHalfBreak","location","offset","deleteCellBreak","unit","direction","targetPoint","before","isEnd","after","aboveCell","targetNode","parameters","nodeText","insertText","isTableLocation","isProtectedNode","protectedTypes_1","protectedTypes_1_1","preParseTableHtmlConf","preParseHtml","tableElem","$tbody","remove","$allCells","styleAttr","$cell","$cells","cellHtml","trimmedContent","getCumulativeWidths","cumulativeWidths","totalWidth","columnWidths_1_1","getColumnWidthRatios","columnWidthsRatio","columnWidths_2","columnWidths_2_1","resizeObserver","isSelectionOperation","isMouseDownForResize","clientXWhenMouseDown","editorWhenMouseDown","$window","event","closest","clientX","body","cursor","onMouseMove","onMouseUp","throttle","widthChange","resizingIndex","tableElement","mousePositionInTable","newWidths","minColumnWidth","mouseOffset","newWidth","calculateAdjacentWidthsByBorderPosition","getBoundingClientRect","currentWidth","calculateAdjacentWidths","_event","off","handleCellBorderHighlight","isResizing","getCumulativeHeights","rowHeights","cumulativeHeights","totalHeight","rowHeights_2","rowHeights_2_1","isMouseDownForRowResize","clientYWhenMouseDown","editorWhenMouseDownForRow","onMouseMoveForRowThrottled","adjustRowHeights","clientY","heightChange","tableRows","resizingRowIndex","newHeights","minHeight","newHeight","calculateRowHeightsByBorderPosition","top","currentHeight","calculateRowHeights","currentTableNode","onMouseUpForRow","handleRowBorderHighlight","isResizingRow","renderTableConf","renderElem","editable","tableStart","tableEnd","isAnchorInTable","compare","isFocusInTable","getContentEditable","scrollWidth","isHoverCellBorder","isHoverRowBorder","isNodeSelected","isSelecting","columnWidthRatios","vnode","jsx","className","mousedown","select","contentEditable","mousemove","debounce","isHTMLElememt","rect","parent_1","clientX_1","handleCellBorderVisible","mouseY","handleRowBorderVisible","mouseenter","mouseleave","handleCellBorderMouseDown","totalTableWidth","rowHeight","handleRowBorderMouseDown","containerVnode","h","hook","insert","elm","ResizeObserver","contentRect","observe","observerTableResize","destroy","disconnect","renderTableRowConf","renderTableCellConf","isFirstRow","isCellInFirstRow","Tag","addVnodeStyle","newStyle","assign","$assign","objectAssign","B","alphabet","T","renderStyle","styleVnode","styleToHtml","elemHtml","outerHTML","getOuterHTML","parseStyleHtml","renderElems","elemsToHtml","parseElemsHtml","menus","editorPlugin","insertBreak","deleteBackward","deleteForward","deleteFragment","normalizeNode","insertData","handleTab","selectAll","isTableOnBeforeLocation","topLevelNodes","topLevelNodesLength","genEmptyParagraph","isTableOnAfterLocation","nv","hasChange","newSelection","isLeftToRight","isBefore","setSelection","isLastNode","getData","op","Operation","newProperties","__assign","isRange","isTableCell","fromEntry","toEntry","fromPath","toPath","fromFound","toFound","nextStart","nextEnd","context","selectedSet","WeakSet","withSelection","getTableSelection","originalAddMark","addMark","originalRemoveMark","removeMark","originalTransforms","tableSelection","originalSelection","targetEditor"],"mappings":"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","x_google_ignoreList":[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,88,89,90,91,92,93,94,95,96,97,98,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,184,185,186,188,189,191,194,195,196,197,198,199,200,204,205,206,207,210,211,212,214,223,224]}